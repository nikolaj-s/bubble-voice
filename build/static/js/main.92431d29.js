/*! For license information please see main.92431d29.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,n){var r=n(7228);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},8926:function(e){function t(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(a,i){var o=e.apply(n,r);function s(e){t(o,a,i,s,c,"next",e)}function c(e){t(o,a,i,s,c,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9100:function(e,t,n){var r=n(9489),a=n(7067);function i(t,n,o){return a()?(e.exports=i=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=i=function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&r(i,n.prototype),i},e.exports.__esModule=!0,e.exports.default=e.exports),i.apply(null,arguments)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,n){var r=n(379);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw o}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,n){var r=n(9754),a=n(7067),i=n(8585);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return i(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1109:function(e,t,n){var r=n(9713);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,a=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9591:function(e,t,n){var r=n(8).default;function a(){"use strict";e.exports=a=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(j){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,i=Object.create(a.prototype),o=new P(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return E()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=f(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}t.wrap=d;var p={};function h(){}function v(){}function m(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(R([])));b&&b!==n&&i.call(b,s)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(a,o,s,c){var u=f(e[a],e,o);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=f(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function R(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return v.prototype=m,l(w,"constructor",m),l(m,"constructor",v),v.displayName=l(m,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},x(S.prototype),l(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new S(d(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(w),l(w,u,"Generator"),l(w,s,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=R,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:R(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,n){var r=n(2858),a=n(3884),i=n(379),o=n(521);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,n){var r=n(3646),a=n(6860),i=n(379),o=n(8206);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,n){var r=n(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},5957:function(e,t,n){var r=n(9754),a=n(9489),i=n(430),o=n(9100);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return o(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),a(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},7881:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function a(e){return!!e&&!!e[K]}function i(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===G}(e)||Array.isArray(e)||!!e[$]||!!e.constructor[$]||p(e)||h(e))}function o(e){return a(e)||r(23,e),e[K].t}function s(e,t,n){void 0===n&&(n=!1),0===c(e)?(n?Object.keys:Q)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function c(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:h(e)?3:0}function u(e,t){return 2===c(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===c(e)?e.get(t):e[t]}function d(e,t,n){var r=c(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return H&&e instanceof Map}function h(e){return W&&e instanceof Set}function v(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[K];for(var n=Q(t),r=0;r<n.length;r++){var a=n[r],i=t[a];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),b(e)||a(e)||!i(e)||(c(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,(function(e,t){return g(t,!0)}),!0)),e}function y(){r(2)}function b(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function w(e){var t=X[e];return t||r(18,e),t}function x(e,t){X[e]||(X[e]=t)}function S(){return z}function _(e,t){t&&(w("Patches"),e.u=[],e.s=[],e.v=t)}function k(e){C(e),e.p.forEach(R),e.p=null}function C(e){e===z&&(z=e.l)}function P(e){return z={p:[],l:z,h:e,m:!0,_:0}}function R(e){var t=e[K];0===t.i||1===t.i?t.j():t.O=!0}function E(e,t){t._=t.p.length;var n=t.p[0],a=void 0!==e&&e!==n;return t.h.g||w("ES5").S(t,e,a),a?(n[K].P&&(k(t),r(4)),i(e)&&(e=j(t,e),t.l||O(t,e)),t.u&&w("Patches").M(n[K].t,e,t.u,t.s)):e=j(t,n,[]),k(t),t.u&&t.v(t.u,t.s),e!==Z?e:void 0}function j(e,t,n){if(b(t))return t;var r=t[K];if(!r)return s(t,(function(a,i){return T(e,r,t,a,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return O(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=4===r.i||5===r.i?r.o=m(r.k):r.o;s(3===r.i?new Set(a):a,(function(t,i){return T(e,r,a,t,i,n)})),O(e,a,!1),n&&e.u&&w("Patches").R(r,n,e.u,e.s)}return r.o}function T(e,t,n,r,o,s){if(a(o)){var c=j(e,o,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(d(n,r,c),!a(c))return;e.m=!1}if(i(o)&&!b(o)){if(!e.h.F&&e._<1)return;j(e,o),t&&t.A.l||O(e,o)}}function O(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&g(t,n)}function M(e,t){var n=e[K];return(n?v(n):e)[t]}function L(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function D(e){e.P||(e.P=!0,e.l&&D(e.l))}function A(e){e.o||(e.o=m(e.t))}function I(e,t,n){var r=p(t)?w("MapSet").N(t,n):h(t)?w("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:S(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=r,i=J;n&&(a=[r],i=ee);var o=Proxy.revocable(a,i),s=o.revoke,c=o.proxy;return r.k=c,r.j=s,c}(t,n):w("ES5").J(t,n);return(n?n.A:S()).p.push(r),r}function N(e){return a(e)||r(22,e),function e(t){if(!i(t))return t;var n,r=t[K],a=c(t);if(r){if(!r.P&&(r.i<4||!w("ES5").K(r)))return r.t;r.I=!0,n=F(t,a),r.I=!1}else n=F(t,a);return s(n,(function(t,a){r&&l(r.t,t)===a||d(n,t,e(a))})),3===a?new Set(n):n}(e)}function F(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function B(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[K];return J.get(t,e)},set:function(t){var n=this[K];J.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var a=e[t][K];if(!a.P)switch(a.i){case 5:r(a)&&D(a);break;case 4:n(a)&&D(a)}}}function n(e){for(var t=e.t,n=e.k,r=Q(n),a=r.length-1;a>=0;a--){var i=r[a];if(i!==K){var o=t[i];if(void 0===o&&!u(t,i))return!0;var s=n[i],c=s&&s[K];if(c?c.t!==o:!f(s,o))return!0}}var l=!!t[K];return r.length!==Q(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};x("ES5",{J:function(t,n){var r=Array.isArray(t),a=function(t,n){if(t){for(var r=Array(n.length),a=0;a<n.length;a++)Object.defineProperty(r,""+a,e(a,!0));return r}var i=Y(n);delete i[K];for(var o=Q(i),s=0;s<o.length;s++){var c=o[s];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(n),i)}(r,t),i={i:r?5:4,A:n?n.A:S(),P:!1,I:!1,D:{},l:n,t:t,k:a,o:null,O:!1,C:!1};return Object.defineProperty(a,K,{value:i,writable:!0}),a},S:function(e,n,i){i?a(n)&&n[K].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[K];if(n){var a=n.t,i=n.k,o=n.D,c=n.i;if(4===c)s(i,(function(t){t!==K&&(void 0!==a[t]||u(a,t)?o[t]||e(i[t]):(o[t]=!0,D(n)))})),s(a,(function(e){void 0!==i[e]||u(i,e)||(o[e]=!1,D(n))}));else if(5===c){if(r(n)&&(D(n),o.length=!0),i.length<a.length)for(var l=i.length;l<a.length;l++)o[l]=!1;else for(var d=a.length;d<i.length;d++)o[d]=!0;for(var f=Math.min(i.length,a.length),p=0;p<f;p++)i.hasOwnProperty(p)||(o[p]=!0),void 0===o[p]&&e(i[p])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.r(t),n.d(t,{MiddlewareArray:function(){return He},TaskAbortError:function(){return Dt},__DO_NOT_USE__ActionTypes:function(){return ue},addListener:function(){return Zt},applyMiddleware:function(){return ge},bindActionCreators:function(){return ve},clearAllListeners:function(){return $t},combineReducers:function(){return pe},compose:function(){return me},configureStore:function(){return Qe},createAction:function(){return Ye},createAsyncThunk:function(){return mt},createDraftSafeSelector:function(){return Ve},createEntityAdapter:function(){return lt},createImmutableStateInvariantMiddleware:function(){return qe},createListenerMiddleware:function(){return Yt},createNextState:function(){return ae},createReducer:function(){return tt},createSelector:function(){return _e},createSerializableStateInvariantMiddleware:function(){return Ke},createSlice:function(){return nt},createStore:function(){return de},current:function(){return N},findNonSerializableValue:function(){return $e},freeze:function(){return g},getDefaultMiddleware:function(){return Ge},getType:function(){return Je},isAllOf:function(){return wt},isAnyOf:function(){return bt},isAsyncThunkAction:function(){return Rt},isDraft:function(){return a},isFulfilled:function(){return Pt},isImmutableDefault:function(){return We},isPending:function(){return _t},isPlain:function(){return Ze},isPlainObject:function(){return Ue},isRejected:function(){return kt},isRejectedWithValue:function(){return Ct},legacy_createStore:function(){return fe},miniSerializeError:function(){return vt},nanoid:function(){return dt},original:function(){return o},removeListener:function(){return Kt},unwrapResult:function(){return gt}});var V,z,U="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),H="undefined"!=typeof Map,W="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Z=U?Symbol.for("immer-nothing"):((V={})["immer-nothing"]=!0,V),$=U?Symbol.for("immer-draftable"):"__$immer_draftable",K=U?Symbol.for("immer-state"):"__$immer_state",G=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return Q(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},X={},J={get:function(e,t){if(t===K)return e;var n=v(e);if(!u(n,t))return function(e,t,n){var r,a=L(t,n);return a?"value"in a?a.value:null===(r=a.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!i(r)?r:r===M(e.t,t)?(A(e),e.o[t]=I(e.A.h,r,e)):r},has:function(e,t){return t in v(e)},ownKeys:function(e){return Reflect.ownKeys(v(e))},set:function(e,t,n){var r=L(v(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=M(v(e),t),i=null==a?void 0:a[K];if(i&&i.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,a)&&(void 0!==n||u(e.t,t)))return!0;A(e),D(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==M(e.t,t)||t in e.t?(e.D[t]=!1,A(e),D(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=v(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},ee={};s(J,(function(e,t){ee[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),ee.deleteProperty=function(e,t){return ee.set.call(this,e,t,void 0)},ee.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var te=function(){function e(e){var t=this;this.g=q,this.F=!0,this.produce=function(e,n,a){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var c;if("function"!=typeof n&&r(6),void 0!==a&&"function"!=typeof a&&r(7),i(e)){var u=P(t),l=I(t,e,void 0),d=!0;try{c=n(l),d=!1}finally{d?k(u):C(u)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(e){return _(u,a),E(e,u)}),(function(e){throw k(u),e})):(_(u,a),E(c,u))}if(!e||"object"!=typeof e){if(void 0===(c=n(e))&&(c=e),c===Z&&(c=void 0),t.F&&g(c,!0),a){var f=[],p=[];w("Patches").M(e,c,f,p),a(f,p)}return c}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(a))}))};var r,a,i=t.produce(e,n,(function(e,t){r=e,a=t}));return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return[e,r,a]})):[i,r,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){i(e)||r(8),a(e)&&(e=N(e));var t=P(this),n=I(this,e,void 0);return n[K].C=!0,C(t),n},t.finishDraft=function(e,t){var n=(e&&e[K]).A;return _(n,t),E(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!q&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=w("Patches").$;return a(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ne=new te,re=ne.produce,ae=(ne.produceWithPatches.bind(ne),ne.setAutoFreeze.bind(ne),ne.setUseProxies.bind(ne),ne.applyPatches.bind(ne),ne.createDraft.bind(ne),ne.finishDraft.bind(ne),re),ie=n(1413);function oe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var se="function"===typeof Symbol&&Symbol.observable||"@@observable",ce=function(){return Math.random().toString(36).substring(7).split("").join(".")},ue={INIT:"@@redux/INIT"+ce(),REPLACE:"@@redux/REPLACE"+ce(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ce()}};function le(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function de(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(oe(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(oe(1));return n(de)(e,t)}if("function"!==typeof e)throw new Error(oe(2));var a=e,i=t,o=[],s=o,c=!1;function u(){s===o&&(s=o.slice())}function l(){if(c)throw new Error(oe(3));return i}function d(e){if("function"!==typeof e)throw new Error(oe(4));if(c)throw new Error(oe(5));var t=!0;return u(),s.push(e),function(){if(t){if(c)throw new Error(oe(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),o=null}}}function f(e){if(!le(e))throw new Error(oe(7));if("undefined"===typeof e.type)throw new Error(oe(8));if(c)throw new Error(oe(9));try{c=!0,i=a(i,e)}finally{c=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(oe(10));a=e,f({type:ue.REPLACE})}function h(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(oe(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[se]=function(){return this},e}return f({type:ue.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:p})[se]=h,r}var fe=de;function pe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}var i,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ue.INIT}))throw new Error(oe(12));if("undefined"===typeof n(void 0,{type:ue.PROBE_UNKNOWN_ACTION()}))throw new Error(oe(13))}))}(n)}catch(o){i=o}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,a={},o=0;o<s.length;o++){var c=s[o],u=n[c],l=e[c],d=u(l,t);if("undefined"===typeof d){t&&t.type;throw new Error(oe(14))}a[c]=d,r=r||d!==l}return(r=r||s.length!==Object.keys(e).length)?a:e}}function he(e,t){return function(){return t(e.apply(this,arguments))}}function ve(e,t){if("function"===typeof e)return he(e,t);if("object"!==typeof e||null===e)throw new Error(oe(16));var n={};for(var r in e){var a=e[r];"function"===typeof a&&(n[r]=he(a,t))}return n}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(oe(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(a)}));return r=me.apply(void 0,i)(n.dispatch),(0,ie.Z)((0,ie.Z)({},n),{},{dispatch:r})}}}var ye="NOT_FOUND";var be=function(e,t){return e===t};function we(e,t){var n="object"===typeof t?t:{equalityCheck:t},r=n.equalityCheck,a=void 0===r?be:r,i=n.maxSize,o=void 0===i?1:i,s=n.resultEqualityCheck,c=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}(a),u=1===o?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:ye},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(c):function(e,t){var n=[];function r(e){var r=n.findIndex((function(n){return t(e,n.key)}));if(r>-1){var a=n[r];return r>0&&(n.splice(r,1),n.unshift(a)),a.value}return ye}return{get:r,put:function(t,a){r(t)===ye&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(o,c);function l(){var t=u.get(arguments);if(t===ye){if(t=e.apply(null,arguments),s){var n=u.getEntries(),r=n.find((function(e){return s(e.value,t)}));r&&(t=r.value)}u.put(arguments,t)}return t}return l.clearCache=function(){return u.clear()},l}function xe(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function Se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var i,o=0,s={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(s=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=s,l=u.memoizeOptions,d=void 0===l?n:l,f=Array.isArray(d)?d:[d],p=xe(r),h=e.apply(void 0,[function(){return o++,c.apply(null,arguments)}].concat(f)),v=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return i=h.apply(null,e)}));return Object.assign(v,{resultFunc:c,memoizedResultFunc:h,dependencies:p,lastResult:function(){return i},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),v};return a}var _e=Se(we);function ke(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"===typeof a?a(n,r,e):t(a)}}}}var Ce=ke();Ce.withExtraArgument=ke;var Pe=Ce,Re=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(o){i=[6,o],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},je=function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},Te=Object.defineProperty,Oe=Object.defineProperties,Me=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable,Ie=function(e,t,n){return t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ne=function(e,t){for(var n in t||(t={}))De.call(t,n)&&Ie(e,n,t[n]);if(Le)for(var r=0,a=Le(t);r<a.length;r++){n=a[r];Ae.call(t,n)&&Ie(e,n,t[n])}return e},Fe=function(e,t){return Oe(e,Me(t))},Be=function(e,t,n){return new Promise((function(r,a){var i=function(e){try{c(n.next(e))}catch(o){a(o)}},s=function(e){try{c(n.throw(e))}catch(o){a(o)}},c=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(i,s)};c((n=n.apply(e,t)).next())}))},Ve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=_e.apply(void 0,e),r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,je([a(e)?N(e):e],t))};return r},ze="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?me:me.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ue(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var He=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return Re(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,je([void 0],e[0].concat(this)))):new(t.bind.apply(t,je([void 0],e.concat(this))))},t}(Array);function We(e){return"object"!==typeof e||null===e||"undefined"===typeof e||Object.isFrozen(e)}function qe(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function Ze(e){var t=typeof e;return"undefined"===t||null===e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||Ue(e)}function $e(e,t,n,r,a){var i;if(void 0===t&&(t=""),void 0===n&&(n=Ze),void 0===a&&(a=[]),!n(e))return{keyPath:t||"<root>",value:e};if("object"!==typeof e||null===e)return!1;for(var o=null!=r?r(e):Object.entries(e),s=a.length>0,c=0,u=o;c<u.length;c++){var l=u[c],d=l[0],f=l[1],p=t?t+"."+d:d;if(!(s&&a.indexOf(p)>=0)){if(!n(f))return{keyPath:p,value:f};if("object"===typeof f&&(i=$e(f,p,n,r,a)))return i}}return!1}function Ke(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function Ge(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new He);return n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Pe.withExtraArgument(n.extraArgument)):r.push(Pe)),r}function Qe(e){var t,n=function(e){return Ge(e)},r=e||{},a=r.reducer,i=void 0===a?void 0:a,o=r.middleware,s=void 0===o?n():o,c=r.devTools,u=void 0===c||c,l=r.preloadedState,d=void 0===l?void 0:l,f=r.enhancers,p=void 0===f?void 0:f;if("function"===typeof i)t=i;else{if(!Ue(i))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=pe(i)}var h=s;"function"===typeof h&&(h=h(n));var v=ge.apply(void 0,h),m=me;u&&(m=ze(Ne({trace:!1},"object"===typeof u&&u)));var g=[v];return Array.isArray(p)?g=je([v],p):"function"===typeof p&&(g=p(g)),de(t,d,m.apply(void 0,g))}function Ye(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var a=t.apply(void 0,n);if(!a)throw new Error("prepareAction did not return an object");return Ne(Ne({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Xe(e){return["type","payload","error","meta"].indexOf(e)>-1}function Je(e){return""+e}function et(e){var t,n={},r=[],a={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,a},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),a},addDefaultCase:function(e){return t=e,a}};return e(a),[n,r,t]}function tt(e,t,n,r){void 0===n&&(n=[]);var o,s="function"===typeof t?et(t):[t,n,r],c=s[0],u=s[1],l=s[2];if(function(e){return"function"===typeof e}(e))o=function(){return ae(e(),(function(){}))};else{var d=ae(e,(function(){}));o=function(){return d}}function f(e,t){void 0===e&&(e=o());var n=je([c[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(a(e))return"undefined"===typeof(r=n(e,t))?e:r;if(i(e))return ae(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return f.getInitialState=o,f}function nt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ae(e.initialState,(function(){})),a=e.reducers||{},i=Object.keys(a),o={},s={},c={};function u(){var t="function"===typeof e.extraReducers?et(e.extraReducers):[e.extraReducers],n=t[0],a=void 0===n?{}:n,i=t[1],o=void 0===i?[]:i,c=t[2],u=void 0===c?void 0:c,l=Ne(Ne({},a),s);return tt(r,l,o,u)}return i.forEach((function(e){var n,r,i=a[e],u=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,o[e]=n,s[u]=n,c[e]=r?Ye(u,r):Ye(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:c,caseReducers:o,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}function rt(e){var t=at((function(t,n){return e(n)}));return function(e){return t(e,void 0)}}function at(e){return function(t,n){function r(e){return Ue(t=e)&&"string"===typeof t.type&&Object.keys(t).every(Xe);var t}var i=function(t){r(n)?e(n.payload,t):e(n,t)};return a(t)?(i(t),t):ae(t,i)}}function it(e,t){return t(e)}function ot(e){return Array.isArray(e)||(e=Object.values(e)),e}function st(e,t,n){for(var r=[],a=[],i=0,o=e=ot(e);i<o.length;i++){var s=o[i],c=it(s,t);c in n.entities?a.push({id:c,changes:s}):r.push(s)}return[r,a]}function ct(e){function t(t,n){var r=it(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,a=e=ot(e);r<a.length;r++){t(a[r],n)}}function r(t,n){var r=it(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function a(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function i(t,n){var r={},a={};if(t.forEach((function(e){e.id in n.entities&&(a[e.id]={id:e.id,changes:Ne(Ne({},a[e.id]?a[e.id].changes:null),e.changes)})})),(t=Object.values(a)).length>0){var i=t.filter((function(t){return function(t,n,r){var a=r.entities[n.id],i=Object.assign({},a,n.changes),o=it(i,e),s=o!==n.id;return s&&(t[n.id]=o,delete r.entities[n.id]),r.entities[o]=i,s}(r,t,n)})).length>0;i&&(n.ids=n.ids.map((function(e){return r[e]||e})))}}function o(t,r){var a=st(t,e,r),o=a[0];i(a[1],r),n(o,r)}return{removeAll:rt((function(e){Object.assign(e,{ids:[],entities:{}})})),addOne:at(t),addMany:at(n),setOne:at(r),setMany:at((function(e,t){for(var n=0,a=e=ot(e);n<a.length;n++){r(a[n],t)}})),setAll:at((function(e,t){e=ot(e),t.ids=[],t.entities={},n(e,t)})),updateOne:at((function(e,t){return i([e],t)})),updateMany:at(i),upsertOne:at((function(e,t){return o([e],t)})),upsertMany:at(o),removeOne:at((function(e,t){return a([e],t)})),removeMany:at(a)}}function ut(e,t){var n=ct(e);function r(t,n){var r=(t=ot(t)).filter((function(t){return!(it(t,e)in n.entities)}));0!==r.length&&s(r,n)}function a(e,t){0!==(e=ot(e)).length&&s(e,t)}function i(t,n){var r=[];t.forEach((function(t){return function(t,n,r){if(!(n.id in r.entities))return!1;var a=r.entities[n.id],i=Object.assign({},a,n.changes),o=it(i,e);return delete r.entities[n.id],t.push(i),o!==n.id}(r,t,n)})),0!==r.length&&s(r,n)}function o(t,n){var a=st(t,e,n),o=a[0];i(a[1],n),r(o,n)}function s(n,r){n.forEach((function(t){r.entities[e(t)]=t}));var a=Object.values(r.entities);a.sort(t);var i=a.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(r.ids,i)||(r.ids=i)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:at((function(e,t){return r([e],t)})),updateOne:at((function(e,t){return i([e],t)})),upsertOne:at((function(e,t){return o([e],t)})),setOne:at((function(e,t){return a([e],t)})),setMany:at(a),setAll:at((function(e,t){e=ot(e),t.entities={},t.ids=[],r(e,t)})),addMany:at(r),updateMany:at(i),upsertMany:at(o)}}function lt(e){void 0===e&&(e={});var t=Ne({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,a={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},i={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=Ve(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),a=function(e,t){return t},i=function(e,t){return e[t]},o=Ve(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:o,selectById:Ve(n,a,i)};var s=Ve(e,n);return{selectIds:Ve(e,t),selectEntities:s,selectAll:Ve(e,r),selectTotal:Ve(e,o),selectById:Ve(s,a,i)}}},o=r?ut(n,r):ct(n);return Ne(Ne(Ne({selectId:n,sortComparer:r},a),i),o)}var dt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},ft=["name","message","stack","code"],pt=function(e,t){this.payload=e,this.meta=t},ht=function(e,t){this.payload=e,this.meta=t},vt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=ft;n<r.length;n++){var a=r[n];"string"===typeof e[a]&&(t[a]=e[a])}return t}return{message:String(e)}};function mt(e,t,n){var r=Ye(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Fe(Ne({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),a=Ye(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Fe(Ne({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),i=Ye(e+"/rejected",(function(e,t,r,a,i){return{payload:a,error:(n&&n.serializeError||vt)(e||"Rejected"),meta:Fe(Ne({},i||{}),{arg:r,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,c,u){var l,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):dt(),f=new o,p=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),h=!1;var v=function(){return Be(this,null,(function(){var o,l,v,m,g;return Ee(this,(function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),m=null==(o=null==n?void 0:n.condition)?void 0:o.call(n,e,{getState:c,extra:u}),null===(b=m)||"object"!==typeof b||"function"!==typeof b.then?[3,2]:[4,m];case 1:m=y.sent(),y.label=2;case 2:if(!1===m)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return h=!0,s(a(d,e,null==(l=null==n?void 0:n.getPendingMeta)?void 0:l.call(n,{requestId:d,arg:e},{getState:c,extra:u}))),[4,Promise.race([p,Promise.resolve(t(e,{dispatch:s,getState:c,extra:u,requestId:d,signal:f.signal,rejectWithValue:function(e,t){return new pt(e,t)},fulfillWithValue:function(e,t){return new ht(e,t)}})).then((function(t){if(t instanceof pt)throw t;return t instanceof ht?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return v=y.sent(),[3,5];case 4:return g=y.sent(),v=g instanceof pt?i(null,d,e,g.payload,g.meta):i(g,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&i.match(v)&&v.meta.condition||s(v),[2,v]}var b}))}))}();return Object.assign(v,{abort:function(e){h&&(l=e,f.abort())},requestId:d,arg:e,unwrap:function(){return v.then(gt)}})}}),{pending:a,rejected:i,fulfilled:r,typePrefix:e})}function gt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var yt=function(e,t){return function(e){return e&&"function"===typeof e.match}(e)?e.match(t):e(t)};function bt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return yt(e,t)}))}}function wt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return yt(e,t)}))}}function xt(e,t){if(!e||!e.meta)return!1;var n="string"===typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function St(e){return"function"===typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function _t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return xt(e,["pending"])}:St(e)?function(t){var n=e.map((function(e){return e.pending}));return bt.apply(void 0,n)(t)}:_t()(e[0])}function kt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return xt(e,["rejected"])}:St(e)?function(t){var n=e.map((function(e){return e.rejected}));return bt.apply(void 0,n)(t)}:kt()(e[0])}function Ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||St(e)?function(t){return wt(kt.apply(void 0,e),n)(t)}:Ct()(e[0])}function Pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return xt(e,["fulfilled"])}:St(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return bt.apply(void 0,n)(t)}:Pt()(e[0])}function Rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return xt(e,["pending","fulfilled","rejected"])}:St(e)?function(t){for(var n=[],r=0,a=e;r<a.length;r++){var i=a[r];n.push(i.pending,i.rejected,i.fulfilled)}return bt.apply(void 0,n)(t)}:Rt()(e[0])}var Et=function(e,t){if("function"!==typeof e)throw new TypeError(t+" is not a function")},jt=function(){},Tt=function(e,t){return void 0===t&&(t=jt),e.catch(t),e},Ot=function(e,t){e.addEventListener("abort",t,{once:!0})},Mt=function(e,t){var n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Lt="listener-cancelled",Dt=function(e){this.code=e,this.name="TaskAbortError",this.message="task cancelled (reason: "+e+")"},At=function(e){if(e.aborted)throw new Dt(e.reason)},It=function(e){return Tt(new Promise((function(t,n){var r=function(){return n(new Dt(e.reason))};e.aborted?r():Ot(e,r)})))},Nt=function(e){return function(t){return Tt(Promise.race([It(e),t]).then((function(t){return At(e),t})))}},Ft=function(e){var t=Nt(e);return function(e){return t(new Promise((function(t){return setTimeout(t,e)})))}},Bt=Object.assign,Vt={},zt="listenerMiddleware",Ut=function(e){return function(t){Et(t,"taskExecutor");var n,r=new AbortController;n=r,Ot(e,(function(){return Mt(n,e.reason)}));var a,i,o=(a=function(){return Be(void 0,null,(function(){var n;return Ee(this,(function(a){switch(a.label){case 0:return At(e),At(r.signal),[4,t({pause:Nt(r.signal),delay:Ft(r.signal),signal:r.signal})];case 1:return n=a.sent(),At(r.signal),[2,n]}}))}))},i=function(){return Mt(r,"task-completed")},Be(void 0,null,(function(){var e;return Ee(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return t.sent(),[4,a()];case 2:return[2,{status:"ok",value:t.sent()}];case 3:return[2,{status:(e=t.sent())instanceof Dt?"cancelled":"rejected",error:e}];case 4:return null==i||i(),[7];case 5:return[2]}}))})));return{result:Nt(e)(o),cancel:function(){Mt(r,"task-cancelled")}}}},Ht=function(e,t){return function(n,r){return Tt(function(n,r){return Be(void 0,null,(function(){var a,i,o,s;return Ee(this,(function(c){switch(c.label){case 0:At(t),a=function(){},i=new Promise((function(t){a=e({predicate:n,effect:function(e,n){n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}})})),o=[It(t),i],null!=r&&o.push(new Promise((function(e){return setTimeout(e,r,null)}))),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,Promise.race(o)];case 2:return s=c.sent(),At(t),[2,s];case 3:return a(),[7];case 4:return[2]}}))}))}(n,r))}},Wt=function(e){var t=e.type,n=e.actionCreator,r=e.matcher,a=e.predicate,i=e.effect;if(t)a=Ye(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return Et(i,"options.listener"),{predicate:a,type:t,effect:i}},qt=function(e,t,n){try{e(t,n)}catch(r){setTimeout((function(){throw r}),0)}},Zt=Ye(zt+"/add"),$t=Ye(zt+"/removeAll"),Kt=Ye(zt+"/remove"),Gt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,je([zt+"/error"],e))},Qt=function(e){e.pending.forEach((function(e){Mt(e,Lt)}))};function Yt(e){var t=this;void 0===e&&(e={});var n=new Map,r=e.extra,a=e.onError,i=void 0===a?Gt:a;Et(i,"onError");var o=function(e){for(var t=0,r=n.values();t<r.length;t++){var a=r[t];if(e(a))return a}},s=function(e){var t=o((function(t){return t.effect===e.effect}));return t||(t=function(e){var t=Wt(e),n=t.type,r=t.predicate,a=t.effect;return{id:dt(),effect:a,type:n,predicate:r,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}}}(e)),function(e){return e.unsubscribe=function(){return n.delete(e.id)},n.set(e.id,e),function(t){e.unsubscribe(),(null==t?void 0:t.cancelActive)&&Qt(e)}}(t)},c=function(e){var t=Wt(e),n=t.type,r=t.effect,a=t.predicate,i=o((function(e){return("string"===typeof n?e.type===n:e.predicate===a)&&e.effect===r}));return i&&(i.unsubscribe(),e.cancelActive&&Qt(i)),!!i},u=function(e,a,o,c){return Be(t,null,(function(){var t,u,l;return Ee(this,(function(d){switch(d.label){case 0:t=new AbortController,u=Ht(s,t.signal),d.label=1;case 1:return d.trys.push([1,3,4,5]),e.pending.add(t),[4,Promise.resolve(e.effect(a,Bt({},o,{getOriginalState:c,condition:function(e,t){return u(e,t).then(Boolean)},take:u,delay:Ft(t.signal),pause:Nt(t.signal),extra:r,signal:t.signal,fork:Ut(t.signal),unsubscribe:e.unsubscribe,subscribe:function(){n.set(e.id,e)},cancelActiveListeners:function(){e.pending.forEach((function(e,n,r){e!==t&&(Mt(e,Lt),r.delete(e))}))}})))];case 2:return d.sent(),[3,5];case 3:return(l=d.sent())instanceof Dt||qt(i,l,{raisedBy:"effect"}),[3,5];case 4:return Mt(t,"listener-completed"),e.pending.delete(t),[7];case 5:return[2]}}))}))},l=function(e){return function(){e.forEach(Qt),e.clear()}}(n);return{middleware:function(e){return function(t){return function(r){if(Zt.match(r))return s(r.payload);if(!$t.match(r)){if(Kt.match(r))return c(r.payload);var a,o=e.getState(),d=function(){if(o===Vt)throw new Error(zt+": getOriginalState can only be called synchronously");return o};try{if(a=t(r),n.size>0)for(var f=e.getState(),p=Array.from(n.values()),h=0,v=p;h<v.length;h++){var m=v[h],g=!1;try{g=m.predicate(r,f,o)}catch(y){g=!1,qt(i,y,{raisedBy:"predicate"})}g&&u(m,r,e,d)}}finally{o=Vt}return a}l()}}},startListening:s,stopListening:c,clearListeners:l}}B()},9998:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?i===t.replace(/\/.*$/,""):a===t}))}return!0}},9647:function(e,t,n){"use strict";var r=n(9591).default,a=n(3269).default,i=n(4575).default,o=n(3913).default,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ClosedErrorClass:Error,StoppedErrorClass:Error,RemovedTaskErrorClass:Error},n=t.ClosedErrorClass,r=void 0===n?Error:n,a=t.StoppedErrorClass,o=void 0===a?Error:a,s=t.RemovedTaskErrorClass,c=void 0===s?Error:s;i(this,e),this.closed=!1,this.pendingTasks=[],this.ClosedErrorClass=Error,this.StoppedErrorClass=Error,this.RemovedTaskErrorClass=Error,this.ClosedErrorClass=r,this.StoppedErrorClass=o,this.RemovedTaskErrorClass=c}return o(e,[{key:"size",get:function(){return this.pendingTasks.length}},{key:"close",value:function(){if(!this.closed){this.closed=!0;var e,t=a(this.pendingTasks);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.stopped=!0,n.reject(new this.ClosedErrorClass("AwaitQueue closed"))}}catch(r){t.e(r)}finally{t.f()}this.pendingTasks.length=0}}},{key:"push",value:function(e,t){return s(this,void 0,void 0,r().mark((function n(){var a=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.closed){n.next=2;break}throw new this.ClosedErrorClass("AwaitQueue closed");case 2:if("function"===typeof e){n.next=4;break}throw new TypeError("given task is not a function");case 4:if(!e.name&&t)try{Object.defineProperty(e,"name",{value:t})}catch(r){}return n.abrupt("return",new Promise((function(n,r){var i={task:e,name:t,resolve:n,reject:r,stopped:!1,enqueuedAt:new Date,executedAt:void 0};a.pendingTasks.push(i),1===a.pendingTasks.length&&a.next()})));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"removeTask",value:function(e){if(0===e)throw new TypeError("cannot remove task with index 0");var t=this.pendingTasks[e];t&&(this.pendingTasks.splice(e,1),t.reject(new this.RemovedTaskErrorClass("task removed from the queue")))}},{key:"stop",value:function(){if(!this.closed){var e,t=a(this.pendingTasks);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.stopped=!0,n.reject(new this.StoppedErrorClass("AwaitQueue stopped"))}}catch(r){t.e(r)}finally{t.f()}this.pendingTasks.length=0}}},{key:"dump",value:function(){var e=new Date,t=0;return this.pendingTasks.map((function(n){return{idx:t++,task:n.task,name:n.name,enqueuedTime:n.executedAt?n.executedAt.getTime()-n.enqueuedAt.getTime():e.getTime()-n.enqueuedAt.getTime(),executingTime:n.executedAt?e.getTime()-n.executedAt.getTime():0}}))}},{key:"next",value:function(){return s(this,void 0,void 0,r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.pendingTasks[0]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.executeTask(t);case 5:this.pendingTasks.shift(),this.next();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"executeTask",value:function(e){return s(this,void 0,void 0,r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.stopped){t.next=2;break}return t.abrupt("return");case 2:return e.executedAt=new Date,t.prev=3,t.next=6,e.task();case 6:if(n=t.sent,!e.stopped){t.next=9;break}return t.abrupt("return");case 9:e.resolve(n),t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(3),!e.stopped){t.next=16;break}return t.abrupt("return");case 16:e.reject(t.t0);case 17:case"end":return t.stop()}}),t,null,[[3,12]])})))}}]),e}();t.AwaitQueue=c},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),a=n(7297),i=n(9301),o=n(9774),s=n(1804),c=n(9145),u=n(5411),l=n(6789),d=n(4531),f=n(6569),p=n(6261);e.exports=function(e){return new Promise((function(t,n){var h,v=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+x)}var S=s(e.baseURL,e.url);function _(){if(b){var r="getAllResponseHeaders"in b?c(b.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:e,request:b};a((function(e){t(e),y()}),(function(e){n(e),y()}),i),b=null}}if(b.open(e.method.toUpperCase(),o(S,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(_)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new d(t,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,e,b)),b=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||u(S))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in b&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),g&&"json"!==g&&(b.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){b&&(n(!e||e&&e.type?new f:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),v||(v=null);var C=p(S);C&&-1===["http","https","file"].indexOf(C)?n(new d("Unsupported protocol "+C+":",d.ERR_BAD_REQUEST,e)):b.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),a=n(4049),i=n(3773),o=n(777);var s=function e(t){var n=new i(t),s=a(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(1709));s.Axios=i,s.CanceledError=n(6569),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.toFormData=n(1397),s.AxiosError=n(4531),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},6857:function(e,t,n){"use strict";var r=n(6569);function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},a.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},6569:function(e,t,n){"use strict";var r=n(4531);function a(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(a,r,{__CANCEL__:!0}),e.exports=a},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),a=n(9774),i=n(7470),o=n(2733),s=n(777),c=n(1804),u=n(7835),l=u.validators;function d(e){this.defaults=e,this.interceptors={request:new i,response:new i}}d.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var i,c=[];if(this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)})),!a){var d=[o,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(c),i=Promise.resolve(t);d.length;)i=i.then(d.shift(),d.shift());return i}for(var f=t;r.length;){var p=r.shift(),h=r.shift();try{f=p(f)}catch(v){h(v);break}}try{i=o(f)}catch(v){return Promise.reject(v)}for(;c.length;)i=i.then(c.shift(),c.shift());return i},d.prototype.getUri=function(e){e=s(this.defaults,e);var t=c(e.baseURL,e.url);return a(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){d.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,a){return this.request(s(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[e]=t(),d.prototype[e+"Form"]=t(!0)})),e.exports=d},4531:function(e,t,n){"use strict";var r=n(3589);function a(e,t,n,r,a){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a)}r.inherits(a,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=a.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(a,o),Object.defineProperty(i,"isAxiosError",{value:!0}),a.from=function(e,t,n,o,s,c){var u=Object.create(i);return r.toFlatObject(e,u,(function(e){return e!==Error.prototype})),a.call(u,e.message,t,n,o,s),u.name=e.name,c&&Object.assign(u,c),u},e.exports=a},7470:function(e,t,n){"use strict";var r=n(3589);function a(){this.handlers=[]}a.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},1804:function(e,t,n){"use strict";var r=n(4044),a=n(9549);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),a=n(2693),i=n(5517),o=n(1709),s=n(6569);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return c(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function a(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return a(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(void 0,t[n])}function c(n){return n in t?a(e[n],t[n]):n in e?a(void 0,e[n]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,a=t(e);r.isUndefined(a)&&t!==c||(n[e]=a)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),a=n(1709);e.exports=function(e,t,n){var i=this||a;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),a=n(4341),i=n(4531),o=n(6789),s=n(1397),c={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,i=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||i&&"multipart/form-data"===o){var c=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,c&&new c)}return i||"application/json"===o?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw i.from(s,i.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(c)})),e.exports=l},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))})))})),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(o[t]&&a.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function a(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,o){if(r.isPlainObject(i)||r.isArray(i)){if(-1!==n.indexOf(i))throw Error("Circular reference detected in "+o);n.push(i),r.forEach(i,(function(n,i){if(!r.isUndefined(n)){var s,c=o?o+"."+i:i;if(n&&!o&&"object"===typeof n)if(r.endsWith(i,"{}"))n=JSON.stringify(n);else if(r.endsWith(i,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(c,a(e))}));e(n,c)}})),n.pop()}else t.append(o,a(i))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,a=n(4531),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new a(i(r," has been removed"+(t?" in "+t:"")),a.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new a("options must be an object",a.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var c=e[o],u=void 0===c||s(c,o,e);if(!0!==u)throw new a("option "+o+" must be "+u,a.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new a("Unknown option "+o,a.ERR_BAD_OPTION)}},validators:i}},3589:function(e,t,n){"use strict";var r,a=n(4049),i=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=i.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function c(e){return Array.isArray(e)}function u(e){return"undefined"===typeof e}var l=s("ArrayBuffer");function d(e){return null!==e&&"object"===typeof e}function f(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=s("Date"),h=s("File"),v=s("Blob"),m=s("FileList");function g(e){return"[object Function]"===i.call(e)}var y=s("URLSearchParams");function b(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),c(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}var w,x=(w="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:c,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!u(e)&&null!==e.constructor&&!u(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||i.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:d,isPlainObject:f,isUndefined:u,isDate:p,isFile:h,isBlob:v,isFunction:g,isStream:function(e){return d(e)&&g(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:b,merge:function e(){var t={};function n(n,r){f(t[r])&&f(n)?t[r]=e(t[r],n):f(n)?t[r]=e({},n):c(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)b(arguments[r],n);return t},extend:function(e,t,n){return b(t,(function(t,r){e[r]=n&&"function"===typeof t?a(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,a,i,o={};t=t||{};do{for(a=(r=Object.getOwnPropertyNames(e)).length;a-- >0;)o[i=r[a]]||(t[i]=e[i],o[i]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(u(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:x,isFileList:m}},5524:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),a=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var a=e.getVersionPrecision(t),i=e.getVersionPrecision(n),o=Math.max(a,i),s=0,c=e.map([t,n],(function(t){var n=o-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=o-Math.min(a,i)),o-=1;o>=s;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===s)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var a=e[n];if(t(a,n))return a}},e.assign=function(e){for(var t,n,r=e,a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=i.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=a,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(91))&&r.__esModule?r:{default:r},i=n(18);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new a.default(e,t)},e.parse=function(e){return new a.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],(n=null)&&o(t.prototype,n),r&&o(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(92)),a=c(n(93)),i=c(n(94)),o=c(n(95)),s=c(n(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,a={},i=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(a[t]=o,i+=1):"object"==typeof o&&(n[t]=o,r+=1)})),r>0){var o=Object.keys(n),c=s.default.find(o,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(n[c]);if(void 0!==u)return u}var l=s.default.find(o,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(i>0){var f=Object.keys(a),p=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(a[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),a=s.default.getBrowserTypeByAlias(r);return t&&a&&(r=a.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,a=this.getBrowserVersion();if("string"==typeof a)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(a,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},i=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=a.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=a.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=a.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=a.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=a.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=a.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=a.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=a.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=a.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=a.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=a.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=a.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=a.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=a.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=a.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=a.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=a.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=a.default.getFirstMatch(i,e)||a.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=a.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=a.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=a.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=a.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=a.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=a.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=a.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=a.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=a.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=a.default.getFirstMatch(i,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:a.default.getFirstMatch(t,e),version:a.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=a.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=a.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=a.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=a.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},n=a.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=a.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=a.default.getMacOSVersionName(t),r={name:i.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=a.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=a.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=a.default.getAndroidVersionName(t),r={name:i.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=a.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:i.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=a.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||a.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||a.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=a.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=a.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=a.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=a.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=a.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(17))&&r.__esModule?r:{default:r},i=n(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=a.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},n=a.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},n=a.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},n=a.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},n=a.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=o,e.exports=t.default}})},8392:function(e,t,n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var n="color: "+this.color;t.splice(1,0,n,"color: inherit");var r=0,a=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(a=r))})),t.splice(a,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=function(){var e=!1;return function(){e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=n(8472)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},8472:function(e,t,n){var r=n(319).default;e.exports=function(e){function t(e){var n,r,i,o=null;function s(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];if(s.enabled){var i=s,o=Number(new Date),c=o-(n||o);i.diff=c,i.prev=n,i.curr=o,n=o,r[0]=t.coerce(r[0]),"string"!==typeof r[0]&&r.unshift("%O");var u=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(function(e,n){if("%%"===e)return"%";u++;var a=t.formatters[n];if("function"===typeof a){var o=r[u];e=a.call(i,o),r.splice(u,1),u--}return e})),t.formatArgs.call(i,r);var l=i.log||t.log;l.apply(i,r)}}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=a,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:function(){return null!==o?o:(r!==t.namespaces&&(r=t.namespaces,i=t.enabled(e)),i)},set:function(e){o=e}}),"function"===typeof t.init&&t.init(s),s}function a(e,n){var r=t(this.namespace+("undefined"===typeof n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(r(t.names.map(i)),r(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];var r=("string"===typeof e?e:"").split(/[\s,]+/),a=r.length;for(n=0;n<a;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(8193),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(n){t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var n=0,r=0;r<e.length;r++)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},7465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function a(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",a),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,a,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var a,i,o,u;if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"===typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=c(e))>0&&o.length>a&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=o.length,u=l,console&&console.warn&&console.warn(u)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=l.bind(r);return a.listener=n,r.wrapFn=a,a}function f(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"===typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):h(a,a.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(i){r.once&&e.removeEventListener(t,a),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a="error"===e,i=this._events;if(void 0!==i)a=a&&void 0===i.error;else if(!a)return!1;if(a){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var u=c.length,l=h(c,u);for(n=0;n<u;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return u(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return u(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,a,i,o;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},i.prototype.listenerCount=p,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},4434:function(e,t,n){var r=n(3269).default,a=n(3913).default,i=n(4575).default,o=n(8392)("h264-profile-level-id");o.log=console.info.bind(console);t.ProfileConstrainedBaseline=1,t.ProfileBaseline=2,t.ProfileMain=3,t.ProfileConstrainedHigh=4,t.ProfileHigh=5;t.Level1_b=0,t.Level1=10,t.Level1_1=11,t.Level1_2=12,t.Level1_3=13,t.Level2=20,t.Level2_1=21,t.Level2_2=22,t.Level3=30,t.Level3_1=31,t.Level3_2=32,t.Level4=40,t.Level4_1=41,t.Level4_2=42,t.Level5=50,t.Level5_1=51,t.Level5_2=52;var s=a((function e(t,n){"use strict";i(this,e),this.profile=t,this.level=n}));t.ProfileLevelId=s;var c=new s(1,31),u=function(){"use strict";function e(t){i(this,e),this._mask=~f("x",t),this._maskedValue=f("1",t)}return a(e,[{key:"isMatch",value:function(e){return this._maskedValue===(e&this._mask)}}]),e}(),l=a((function e(t,n,r){"use strict";i(this,e),this.profile_idc=t,this.profile_iop=n,this.profile=r})),d=[new l(66,new u("x1xx0000"),1),new l(77,new u("1xxx0000"),1),new l(88,new u("11xx0000"),1),new l(66,new u("x0xx0000"),2),new l(88,new u("10xx0000"),2),new l(77,new u("0x0x0000"),3),new l(100,new u("00000000"),5),new l(100,new u("00001100"),4)];function f(e,t){return(t[0]===e)<<7|(t[1]===e)<<6|(t[2]===e)<<5|(t[3]===e)<<4|(t[4]===e)<<3|(t[5]===e)<<2|(t[6]===e)<<1|(t[7]===e)<<0}function p(e,t){return function(e,t){return 0===e?10!==t&&0!==t:0===t?10!==e:e<t}(e,t)?e:t}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e["level-asymmetry-allowed"];return 1===t||"1"===t}t.parseProfileLevelId=function(e){if("string"!==typeof e||6!==e.length)return null;var t=parseInt(e,16);if(0===t)return null;var n,a=255&t,i=t>>8&255,c=t>>16&255;switch(a){case 11:n=0!==(16&i)?0:11;break;case 10:case 12:case 13:case 20:case 21:case 22:case 30:case 31:case 32:case 40:case 41:case 42:case 50:case 51:case 52:n=a;break;default:return o("parseProfileLevelId() | unrecognized level_idc:%s",a),null}var u,l=r(d);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(c===f.profile_idc&&f.profile_iop.isMatch(i))return new s(f.profile,n)}}catch(p){l.e(p)}finally{l.f()}return o("parseProfileLevelId() | unrecognized profile_idc/profile_iop combination"),null},t.profileLevelIdToString=function(e){if(0==e.level)switch(e.profile){case 1:return"42f00b";case 2:return"42100b";case 3:return"4d100b";default:return o("profileLevelIdToString() | Level 1_b not is allowed for profile:%s",e.profile),null}var t;switch(e.profile){case 1:t="42e0";break;case 2:t="4200";break;case 3:t="4d00";break;case 4:t="640c";break;case 5:t="6400";break;default:return o("profileLevelIdToString() | unrecognized profile:%s",e.profile),null}var n=e.level.toString(16);return 1===n.length&&(n="0".concat(n)),"".concat(t).concat(n)},t.parseSdpProfileLevelId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e["profile-level-id"];return n?t.parseProfileLevelId(n):c},t.isSameProfile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.parseSdpProfileLevelId(e),a=t.parseSdpProfileLevelId(n);return Boolean(r&&a&&r.profile===a.profile)},t.generateProfileLevelIdForAnswer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e["profile-level-id"]&&!n["profile-level-id"])return o("generateProfileLevelIdForAnswer() | no profile-level-id in local and remote params"),null;var r=t.parseSdpProfileLevelId(e),a=t.parseSdpProfileLevelId(n);if(!r)throw new TypeError("invalid local_profile_level_id");if(!a)throw new TypeError("invalid remote_profile_level_id");if(r.profile!==a.profile)throw new TypeError("H264 Profile mismatch");var i=h(e)&&h(n),c=r.level,u=a.level,l=p(c,u),d=i?c:l;return o("generateProfileLevelIdForAnswer() | result: [profile:%s, level:%s]",r.profile,d),t.profileLevelIdToString(new s(r.profile,d))}},2110:function(e,t,n){"use strict";var r=n(8309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?o:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var u=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var a=p(n);a&&a!==h&&e(t,a,r)}var o=l(n);d&&(o=o.concat(d(n)));for(var s=c(t),v=c(n),m=0;m<o.length;++m){var g=o[m];if(!i[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=f(n,g);try{u(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case d:case i:case s:case o:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case v:case c:return e;default:return t}}case a:return t}}}function S(e){return x(e)===d}t.AsyncMode=l,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=f,t.Fragment=i,t.Lazy=m,t.Memo=v,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||x(e)===l},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===a},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===s||e===o||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=x},8309:function(e,t,n){"use strict";e.exports=n(746)},9726:function(e,t,n){var r=n(9687);function a(e,t){if(!e||e.length<=0)throw new Error(t+" is required.")}e.exports={getPassword:function(e,t){return a(e,"Service"),a(t,"Account"),r.getPassword(e,t)},setPassword:function(e,t,n){return a(e,"Service"),a(t,"Account"),a(n,"Password"),r.setPassword(e,t,n)},deletePassword:function(e,t){return a(e,"Service"),a(t,"Account"),r.deletePassword(e,t)},findPassword:function(e){return a(e,"Service"),r.findPassword(e)},findCredentials:function(e){return a(e,"Service"),r.findCredentials(e)}}},1098:function(e,t,n){"use strict";var r=n(9591).default,a=n(8926).default,i=n(4575).default,o=n(3913).default,s=n(1506).default,c=n(2205).default,u=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Consumer=void 0;var l=n(4115),d=n(7318),f=n(6431),p=new l.Logger("Consumer"),h=function(e){c(n,e);var t=u(n);function n(e){var r,a=e.id,o=e.localId,c=e.producerId,u=e.rtpReceiver,l=e.track,f=e.rtpParameters,h=e.appData;return i(this,n),(r=t.call(this))._closed=!1,r._observer=new d.EnhancedEventEmitter,p.debug("constructor()"),r._id=a,r._localId=o,r._producerId=c,r._rtpReceiver=u,r._track=l,r._rtpParameters=f,r._paused=!l.enabled,r._appData=h||{},r._onTrackEnded=r._onTrackEnded.bind(s(r)),r._handleTrack(),r}return o(n,[{key:"id",get:function(){return this._id}},{key:"localId",get:function(){return this._localId}},{key:"producerId",get:function(){return this._producerId}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._track.kind}},{key:"rtpReceiver",get:function(){return this._rtpReceiver}},{key:"track",get:function(){return this._track}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"paused",get:function(){return this._paused}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(p.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}},{key:"transportClosed",value:function(){this._closed||(p.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}},{key:"getStats",value:function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new f.InvalidStateError("closed");case 2:return e.abrupt("return",this.safeEmitAsPromise("@getstats"));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){p.debug("pause()"),this._closed?p.error("pause() | Consumer closed"):(this._paused=!0,this._track.enabled=!1,this.emit("@pause"),this._observer.safeEmit("pause"))}},{key:"resume",value:function(){p.debug("resume()"),this._closed?p.error("resume() | Consumer closed"):(this._paused=!1,this._track.enabled=!0,this.emit("@resume"),this._observer.safeEmit("resume"))}},{key:"_onTrackEnded",value:function(){p.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}},{key:"_handleTrack",value:function(){this._track.addEventListener("ended",this._onTrackEnded)}},{key:"_destroyTrack",value:function(){try{this._track.removeEventListener("ended",this._onTrackEnded),this._track.stop()}catch(e){}}}]),n}(d.EnhancedEventEmitter);t.Consumer=h},6919:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DataConsumer=void 0;var s=n(4115),c=n(7318),u=new s.Logger("DataConsumer"),l=function(e){i(n,e);var t=o(n);function n(e){var a,i=e.id,o=e.dataProducerId,s=e.dataChannel,l=e.sctpStreamParameters,d=e.appData;return r(this,n),(a=t.call(this))._closed=!1,a._observer=new c.EnhancedEventEmitter,u.debug("constructor()"),a._id=i,a._dataProducerId=o,a._dataChannel=s,a._sctpStreamParameters=l,a._appData=d||{},a._handleDataChannel(),a}return a(n,[{key:"id",get:function(){return this._id}},{key:"dataProducerId",get:function(){return this._dataProducerId}},{key:"closed",get:function(){return this._closed}},{key:"sctpStreamParameters",get:function(){return this._sctpStreamParameters}},{key:"readyState",get:function(){return this._dataChannel.readyState}},{key:"label",get:function(){return this._dataChannel.label}},{key:"protocol",get:function(){return this._dataChannel.protocol}},{key:"binaryType",get:function(){return this._dataChannel.binaryType},set:function(e){this._dataChannel.binaryType=e}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(u.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}},{key:"transportClosed",value:function(){this._closed||(u.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}},{key:"_handleDataChannel",value:function(){var e=this;this._dataChannel.addEventListener("open",(function(){e._closed||(u.debug('DataChannel "open" event'),e.safeEmit("open"))})),this._dataChannel.addEventListener("error",(function(t){if(!e._closed){var n=t.error;n||(n=new Error("unknown DataChannel error")),"sctp-failure"===n.errorDetail?u.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",n.sctpCauseCode,n.message):u.error('DataChannel "error" event: %o',n),e.safeEmit("error",n)}})),this._dataChannel.addEventListener("close",(function(){e._closed||(u.warn('DataChannel "close" event'),e._closed=!0,e.emit("@close"),e.safeEmit("close"))})),this._dataChannel.addEventListener("message",(function(t){e._closed||e.safeEmit("message",t.data)}))}}]),n}(c.EnhancedEventEmitter);t.DataConsumer=l},7358:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DataProducer=void 0;var s=n(4115),c=n(7318),u=n(6431),l=new s.Logger("DataProducer"),d=function(e){i(n,e);var t=o(n);function n(e){var a,i=e.id,o=e.dataChannel,s=e.sctpStreamParameters,u=e.appData;return r(this,n),(a=t.call(this))._closed=!1,a._observer=new c.EnhancedEventEmitter,l.debug("constructor()"),a._id=i,a._dataChannel=o,a._sctpStreamParameters=s,a._appData=u||{},a._handleDataChannel(),a}return a(n,[{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"sctpStreamParameters",get:function(){return this._sctpStreamParameters}},{key:"readyState",get:function(){return this._dataChannel.readyState}},{key:"label",get:function(){return this._dataChannel.label}},{key:"protocol",get:function(){return this._dataChannel.protocol}},{key:"bufferedAmount",get:function(){return this._dataChannel.bufferedAmount}},{key:"bufferedAmountLowThreshold",get:function(){return this._dataChannel.bufferedAmountLowThreshold},set:function(e){this._dataChannel.bufferedAmountLowThreshold=e}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(l.debug("close()"),this._closed=!0,this._dataChannel.close(),this.emit("@close"),this._observer.safeEmit("close"))}},{key:"transportClosed",value:function(){this._closed||(l.debug("transportClosed()"),this._closed=!0,this._dataChannel.close(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}},{key:"send",value:function(e){if(l.debug("send()"),this._closed)throw new u.InvalidStateError("closed");this._dataChannel.send(e)}},{key:"_handleDataChannel",value:function(){var e=this;this._dataChannel.addEventListener("open",(function(){e._closed||(l.debug('DataChannel "open" event'),e.safeEmit("open"))})),this._dataChannel.addEventListener("error",(function(t){if(!e._closed){var n=t.error;n||(n=new Error("unknown DataChannel error")),"sctp-failure"===n.errorDetail?l.error("DataChannel SCTP error [sctpCauseCode:%s]: %s",n.sctpCauseCode,n.message):l.error('DataChannel "error" event: %o',n),e.safeEmit("error",n)}})),this._dataChannel.addEventListener("close",(function(){e._closed||(l.warn('DataChannel "close" event'),e._closed=!0,e.emit("@close"),e.safeEmit("close"))})),this._dataChannel.addEventListener("message",(function(){e._closed||l.warn('DataChannel "message" event in a DataProducer, message discarded')})),this._dataChannel.addEventListener("bufferedamountlow",(function(){e._closed||e.safeEmit("bufferedamountlow")}))}}]),n}(c.EnhancedEventEmitter);t.DataProducer=d},5703:function(e,t,n){"use strict";var r=n(9591).default,a=n(8926).default,i=n(4575).default,o=n(3913).default,s=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return c(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Device=t.detectDevice=void 0;var d=l(n(5524)),f=n(4115),p=n(7318),h=n(6431),v=u(n(3001)),m=u(n(1777)),g=n(475),y=n(6139),b=n(1521),w=n(6452),x=n(5939),S=n(1714),_=n(3767),k=n(9942),C=n(7516),P=n(3997),R=new f.Logger("Device");function E(){if("object"===typeof navigator&&"ReactNative"===navigator.product)return"undefined"===typeof RTCPeerConnection?void R.warn("this._detectDevice() | unsupported ReactNative without RTCPeerConnection"):(R.debug("this._detectDevice() | ReactNative handler chosen"),"ReactNative");if("object"!==typeof navigator||"string"!==typeof navigator.userAgent)R.warn("this._detectDevice() | unknown device");else{var e=navigator.userAgent,t=d.default.getParser(e),n=t.getEngine();if(t.satisfies({chrome:">=74",chromium:">=74","microsoft edge":">=88"}))return"Chrome74";if(t.satisfies({chrome:">=70",chromium:">=70"}))return"Chrome70";if(t.satisfies({chrome:">=67",chromium:">=67"}))return"Chrome67";if(t.satisfies({chrome:">=55",chromium:">=55"}))return"Chrome55";if(t.satisfies({firefox:">=60"}))return"Firefox60";if(t.satisfies({ios:{OS:">=14.3",firefox:">=30.0"}}))return"Safari12";if(t.satisfies({safari:">=12.0"})&&"undefined"!==typeof RTCRtpTransceiver&&RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection"))return"Safari12";if(t.satisfies({safari:">=11"}))return"Safari11";if(t.satisfies({"microsoft edge":">=11"})&&t.satisfies({"microsoft edge":"<=18"}))return"Edge11";if(n.name&&"blink"===n.name.toLowerCase()){var r=e.match(/(?:(?:Chrome|Chromium))[ /](\w+)/i);if(r){var a=Number(r[1]);return a>=74?"Chrome74":a>=70?"Chrome70":a>=67?"Chrome67":"Chrome55"}return"Chrome74"}R.warn("this._detectDevice() | browser not supported [name:%s, version:%s]",t.getBrowserName(),t.getBrowserVersion())}}t.detectDevice=E;var j=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.handlerName,r=t.handlerFactory,a=t.Handler;if(i(this,e),this._loaded=!1,this._observer=new p.EnhancedEventEmitter,R.debug("constructor()"),a){if(R.warn("constructor() | Handler option is DEPRECATED, use handlerName or handlerFactory instead"),"string"!==typeof a)throw new TypeError("non string Handler option no longer supported, use handlerFactory instead");n=a}if(n&&r)throw new TypeError("just one of handlerName or handlerInterface can be given");if(r)this._handlerFactory=r;else{if(n)R.debug("constructor() | handler given: %s",n);else{if(!(n=E()))throw new h.UnsupportedError("device not supported");R.debug("constructor() | detected handler: %s",n)}switch(n){case"Chrome74":this._handlerFactory=y.Chrome74.createFactory();break;case"Chrome70":this._handlerFactory=b.Chrome70.createFactory();break;case"Chrome67":this._handlerFactory=w.Chrome67.createFactory();break;case"Chrome55":this._handlerFactory=x.Chrome55.createFactory();break;case"Firefox60":this._handlerFactory=S.Firefox60.createFactory();break;case"Safari12":this._handlerFactory=_.Safari12.createFactory();break;case"Safari11":this._handlerFactory=k.Safari11.createFactory();break;case"Edge11":this._handlerFactory=C.Edge11.createFactory();break;case"ReactNative":this._handlerFactory=P.ReactNative.createFactory();break;default:throw new TypeError('unknown handlerName "'.concat(n,'"'))}}var o=this._handlerFactory();this._handlerName=o.name,o.close(),this._extendedRtpCapabilities=void 0,this._recvRtpCapabilities=void 0,this._canProduceByKind={audio:!1,video:!1},this._sctpCapabilities=void 0}return o(e,[{key:"handlerName",get:function(){return this._handlerName}},{key:"loaded",get:function(){return this._loaded}},{key:"rtpCapabilities",get:function(){if(!this._loaded)throw new h.InvalidStateError("not loaded");return this._recvRtpCapabilities}},{key:"sctpCapabilities",get:function(){if(!this._loaded)throw new h.InvalidStateError("not loaded");return this._sctpCapabilities}},{key:"observer",get:function(){return this._observer}},{key:"load",value:function(){var e=a(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.routerRtpCapabilities,R.debug("load() [routerRtpCapabilities:%o]",n),n=v.clone(n,void 0),e.prev=3,!this._loaded){e.next=6;break}throw new h.InvalidStateError("already loaded");case 6:return m.validateRtpCapabilities(n),a=this._handlerFactory(),e.next=10,a.getNativeRtpCapabilities();case 10:return i=e.sent,R.debug("load() | got native RTP capabilities:%o",i),m.validateRtpCapabilities(i),this._extendedRtpCapabilities=m.getExtendedRtpCapabilities(i,n),R.debug("load() | got extended RTP capabilities:%o",this._extendedRtpCapabilities),this._canProduceByKind.audio=m.canSend("audio",this._extendedRtpCapabilities),this._canProduceByKind.video=m.canSend("video",this._extendedRtpCapabilities),this._recvRtpCapabilities=m.getRecvRtpCapabilities(this._extendedRtpCapabilities),m.validateRtpCapabilities(this._recvRtpCapabilities),R.debug("load() | got receiving RTP capabilities:%o",this._recvRtpCapabilities),e.next=22,a.getNativeSctpCapabilities();case 22:this._sctpCapabilities=e.sent,R.debug("load() | got native SCTP capabilities:%o",this._sctpCapabilities),m.validateSctpCapabilities(this._sctpCapabilities),R.debug("load() succeeded"),this._loaded=!0,a.close(),e.next=34;break;case 30:throw e.prev=30,e.t0=e.catch(3),a&&a.close(),e.t0;case 34:case"end":return e.stop()}}),e,this,[[3,30]])})));return function(t){return e.apply(this,arguments)}}()},{key:"canProduce",value:function(e){if(!this._loaded)throw new h.InvalidStateError("not loaded");if("audio"!==e&&"video"!==e)throw new TypeError('invalid kind "'.concat(e,'"'));return this._canProduceByKind[e]}},{key:"createSendTransport",value:function(e){var t=e.id,n=e.iceParameters,r=e.iceCandidates,a=e.dtlsParameters,i=e.sctpParameters,o=e.iceServers,s=e.iceTransportPolicy,c=e.additionalSettings,u=e.proprietaryConstraints,l=e.appData;return R.debug("createSendTransport()"),this._createTransport({direction:"send",id:t,iceParameters:n,iceCandidates:r,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,appData:l})}},{key:"createRecvTransport",value:function(e){var t=e.id,n=e.iceParameters,r=e.iceCandidates,a=e.dtlsParameters,i=e.sctpParameters,o=e.iceServers,s=e.iceTransportPolicy,c=e.additionalSettings,u=e.proprietaryConstraints,l=e.appData;return R.debug("createRecvTransport()"),this._createTransport({direction:"recv",id:t,iceParameters:n,iceCandidates:r,dtlsParameters:a,sctpParameters:i,iceServers:o,iceTransportPolicy:s,additionalSettings:c,proprietaryConstraints:u,appData:l})}},{key:"_createTransport",value:function(e){var t=e.direction,n=e.id,r=e.iceParameters,a=e.iceCandidates,i=e.dtlsParameters,o=e.sctpParameters,s=e.iceServers,c=e.iceTransportPolicy,u=e.additionalSettings,l=e.proprietaryConstraints,d=e.appData;if(!this._loaded)throw new h.InvalidStateError("not loaded");if("string"!==typeof n)throw new TypeError("missing id");if("object"!==typeof r)throw new TypeError("missing iceParameters");if(!Array.isArray(a))throw new TypeError("missing iceCandidates");if("object"!==typeof i)throw new TypeError("missing dtlsParameters");if(o&&"object"!==typeof o)throw new TypeError("wrong sctpParameters");if(d&&"object"!==typeof d)throw new TypeError("if given, appData must be an object");var f=new g.Transport({direction:t,id:n,iceParameters:r,iceCandidates:a,dtlsParameters:i,sctpParameters:o,iceServers:s,iceTransportPolicy:c,additionalSettings:u,proprietaryConstraints:l,appData:d,handlerFactory:this._handlerFactory,extendedRtpCapabilities:this._extendedRtpCapabilities,canProduceByKind:this._canProduceByKind});return this._observer.safeEmit("newtransport",f),f}}]),e}();t.Device=j},7318:function(e,t,n){"use strict";var r=n(9591).default,a=n(8926).default,i=n(4575).default,o=n(3913).default,s=n(2205).default,c=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedEventEmitter=void 0;var u=n(7465),l=new(n(4115).Logger)("EnhancedEventEmitter"),d=function(e){s(n,e);var t=c(n);function n(){var e;return i(this,n),(e=t.call(this)).setMaxListeners(1/0),e}return o(n,[{key:"safeEmit",value:function(e){var t=this.listenerCount(e);try{for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return this.emit.apply(this,[e].concat(r))}catch(i){return l.error("safeEmit() | event listener threw an error [event:%s]:%o",e,i),Boolean(t)}}},{key:"safeEmitAsPromise",value:function(){var e=a(r().mark((function e(t){var n,a,i,o=this,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=s[i];return e.abrupt("return",new Promise((function(e,n){try{o.emit.apply(o,[t].concat(a,[e,n]))}catch(r){l.error("safeEmitAsPromise() | event listener threw an error [event:%s]:%o",t,r),n(r)}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(u.EventEmitter);t.EnhancedEventEmitter=d},4115:function(e,t,n){"use strict";var r=n(4575).default,a=n(3913).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var o=i(n(8392)),s="mediasoup-client",c=function(){function e(t){r(this,e),t?(this._debug=(0,o.default)("".concat(s,":").concat(t)),this._warn=(0,o.default)("".concat(s,":WARN:").concat(t)),this._error=(0,o.default)("".concat(s,":ERROR:").concat(t))):(this._debug=(0,o.default)(s),this._warn=(0,o.default)("".concat(s,":WARN")),this._error=(0,o.default)("".concat(s,":ERROR"))),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return a(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}();t.Logger=c},9277:function(e,t,n){"use strict";var r=n(9591).default,a=n(8926).default,i=n(4575).default,o=n(3913).default,s=n(1506).default,c=n(2205).default,u=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Producer=void 0;var l=n(4115),d=n(7318),f=n(6431),p=new l.Logger("Producer"),h=function(e){c(n,e);var t=u(n);function n(e){var r,a=e.id,o=e.localId,c=e.rtpSender,u=e.track,l=e.rtpParameters,f=e.stopTracks,h=e.disableTrackOnPause,v=e.zeroRtpOnPause,m=e.appData;return i(this,n),(r=t.call(this))._closed=!1,r._observer=new d.EnhancedEventEmitter,p.debug("constructor()"),r._id=a,r._localId=o,r._rtpSender=c,r._track=u,r._kind=u.kind,r._rtpParameters=l,r._paused=!!h&&!u.enabled,r._maxSpatialLayer=void 0,r._stopTracks=f,r._disableTrackOnPause=h,r._zeroRtpOnPause=v,r._appData=m||{},r._onTrackEnded=r._onTrackEnded.bind(s(r)),r._handleTrack(),r}return o(n,[{key:"id",get:function(){return this._id}},{key:"localId",get:function(){return this._localId}},{key:"closed",get:function(){return this._closed}},{key:"kind",get:function(){return this._kind}},{key:"rtpSender",get:function(){return this._rtpSender}},{key:"track",get:function(){return this._track}},{key:"rtpParameters",get:function(){return this._rtpParameters}},{key:"paused",get:function(){return this._paused}},{key:"maxSpatialLayer",get:function(){return this._maxSpatialLayer}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){this._closed||(p.debug("close()"),this._closed=!0,this._destroyTrack(),this.emit("@close"),this._observer.safeEmit("close"))}},{key:"transportClosed",value:function(){this._closed||(p.debug("transportClosed()"),this._closed=!0,this._destroyTrack(),this.safeEmit("transportclose"),this._observer.safeEmit("close"))}},{key:"getStats",value:function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new f.InvalidStateError("closed");case 2:return e.abrupt("return",this.safeEmitAsPromise("@getstats"));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pause",value:function(){p.debug("pause()"),this._closed?p.error("pause() | Producer closed"):(this._paused=!0,this._track&&this._disableTrackOnPause&&(this._track.enabled=!1),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",null).catch((function(){})),this._observer.safeEmit("pause"))}},{key:"resume",value:function(){p.debug("resume()"),this._closed?p.error("resume() | Producer closed"):(this._paused=!1,this._track&&this._disableTrackOnPause&&(this._track.enabled=!0),this._zeroRtpOnPause&&this.safeEmitAsPromise("@replacetrack",this._track).catch((function(){})),this._observer.safeEmit("resume"))}},{key:"replaceTrack",value:function(){var e=a(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.track,p.debug("replaceTrack() [track:%o]",n),!this._closed){e.next=7;break}if(n&&this._stopTracks)try{n.stop()}catch(r){}throw new f.InvalidStateError("closed");case 7:if(!n||"ended"!==n.readyState){e.next=9;break}throw new f.InvalidStateError("track ended");case 9:if(n!==this._track){e.next=12;break}return p.debug("replaceTrack() | same track, ignored"),e.abrupt("return");case 12:if(this._zeroRtpOnPause&&this._paused){e.next=15;break}return e.next=15,this.safeEmitAsPromise("@replacetrack",n);case 15:this._destroyTrack(),this._track=n,this._track&&this._disableTrackOnPause&&(this._paused?this._paused&&(this._track.enabled=!1):this._track.enabled=!0),this._handleTrack();case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=4;break}throw new f.InvalidStateError("closed");case 4:if("video"===this._kind){e.next=8;break}throw new f.UnsupportedError("not a video Producer");case 8:if("number"===typeof t){e.next=10;break}throw new TypeError("invalid spatialLayer");case 10:if(t!==this._maxSpatialLayer){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,this.safeEmitAsPromise("@setmaxspatiallayer",t);case 14:this._maxSpatialLayer=t;case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=4;break}throw new f.InvalidStateError("closed");case 4:if("object"===typeof t){e.next=6;break}throw new TypeError("invalid params");case 6:return e.next=8,this.safeEmitAsPromise("@setrtpencodingparameters",t);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_onTrackEnded",value:function(){p.debug('track "ended" event'),this.safeEmit("trackended"),this._observer.safeEmit("trackended")}},{key:"_handleTrack",value:function(){this._track&&this._track.addEventListener("ended",this._onTrackEnded)}},{key:"_destroyTrack",value:function(){if(this._track)try{this._track.removeEventListener("ended",this._onTrackEnded),this._stopTracks&&this._track.stop()}catch(e){}}}]),n}(d.EnhancedEventEmitter);t.Producer=h},2366:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1045:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},475:function(e,t,n){"use strict";var r=n(319).default,a=n(9591).default,i=n(8926).default,o=n(3269).default,s=n(2205).default,c=n(9842).default,u=n(3913).default,l=n(4575).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;var h=n(9647),v=n(4115),m=n(7318),g=n(6431),y=p(n(3001)),b=p(n(1777)),w=n(9277),x=n(1098),S=n(7358),_=n(6919),k=u((function e(t){var n=this;l(this,e),this.consumerOptions=t,this.promise=new Promise((function(e,t){n.resolve=e,n.reject=t}))})),C=new v.Logger("Transport"),P=function(e){s(n,e);var t=c(n);function n(e){var r,a=e.direction,i=e.id,o=e.iceParameters,s=e.iceCandidates,c=e.dtlsParameters,u=e.sctpParameters,d=e.iceServers,f=e.iceTransportPolicy,p=e.additionalSettings,v=e.proprietaryConstraints,b=e.appData,w=e.handlerFactory,x=e.extendedRtpCapabilities,S=e.canProduceByKind;return l(this,n),(r=t.call(this))._closed=!1,r._connectionState="new",r._producers=new Map,r._consumers=new Map,r._dataProducers=new Map,r._dataConsumers=new Map,r._probatorConsumerCreated=!1,r._awaitQueue=new h.AwaitQueue({ClosedErrorClass:g.InvalidStateError}),r._pendingConsumerTasks=[],r._consumerCreationInProgress=!1,r._pendingPauseConsumers=new Map,r._consumerPauseInProgress=!1,r._pendingResumeConsumers=new Map,r._consumerResumeInProgress=!1,r._observer=new m.EnhancedEventEmitter,C.debug("constructor() [id:%s, direction:%s]",i,a),r._id=i,r._direction=a,r._extendedRtpCapabilities=x,r._canProduceByKind=S,r._maxSctpMessageSize=u?u.maxMessageSize:null,delete(p=y.clone(p,{})).iceServers,delete p.iceTransportPolicy,delete p.bundlePolicy,delete p.rtcpMuxPolicy,delete p.sdpSemantics,r._handler=w(),r._handler.run({direction:a,iceParameters:o,iceCandidates:s,dtlsParameters:c,sctpParameters:u,iceServers:d,iceTransportPolicy:f,additionalSettings:p,proprietaryConstraints:v,extendedRtpCapabilities:x}),r._appData=b||{},r._handleHandler(),r}return u(n,[{key:"id",get:function(){return this._id}},{key:"closed",get:function(){return this._closed}},{key:"direction",get:function(){return this._direction}},{key:"handler",get:function(){return this._handler}},{key:"connectionState",get:function(){return this._connectionState}},{key:"appData",get:function(){return this._appData},set:function(e){throw new Error("cannot override appData object")}},{key:"observer",get:function(){return this._observer}},{key:"close",value:function(){if(!this._closed){C.debug("close()"),this._closed=!0,this._awaitQueue.close(),this._handler.close();var e,t=o(this._producers.values());try{for(t.s();!(e=t.n()).done;){e.value.transportClosed()}}catch(u){t.e(u)}finally{t.f()}this._producers.clear();var n,r=o(this._consumers.values());try{for(r.s();!(n=r.n()).done;){n.value.transportClosed()}}catch(u){r.e(u)}finally{r.f()}this._consumers.clear();var a,i=o(this._dataProducers.values());try{for(i.s();!(a=i.n()).done;){a.value.transportClosed()}}catch(u){i.e(u)}finally{i.f()}this._dataProducers.clear();var s,c=o(this._dataConsumers.values());try{for(c.s();!(s=c.n()).done;){s.value.transportClosed()}}catch(u){c.e(u)}finally{c.f()}this._dataConsumers.clear(),this._observer.safeEmit("close")}}},{key:"getStats",value:function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._closed){e.next=2;break}throw new g.InvalidStateError("closed");case 2:return e.abrupt("return",this._handler.getTransportStats());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=i(a().mark((function e(t){var n,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.iceParameters,C.debug("restartIce()"),!this._closed){e.next=6;break}throw new g.InvalidStateError("closed");case 6:if(n){e.next=8;break}throw new TypeError("missing iceParameters");case 8:return e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r._handler.restartIce(n));case 1:case"end":return e.stop()}}),e)}))),"transport.restartIce()"));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateIceServers",value:function(){var e=i(a().mark((function e(){var t,n,r=this,o=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},n=t.iceServers,C.debug("updateIceServers()"),!this._closed){e.next=6;break}throw new g.InvalidStateError("closed");case 6:if(Array.isArray(n)){e.next=8;break}throw new TypeError("missing iceServers");case 8:return e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r._handler.updateIceServers(n));case 1:case"end":return e.stop()}}),e)}))),"transport.updateIceServers()"));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"produce",value:function(){var e=i(a().mark((function e(){var t,n,r,o,s,c,u,l,d,f,p,h,v,m=this,y=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y.length>0&&void 0!==y[0]?y[0]:{},n=t.track,r=t.encodings,o=t.codecOptions,s=t.codec,c=t.stopTracks,u=void 0===c||c,l=t.disableTrackOnPause,d=void 0===l||l,f=t.zeroRtpOnPause,p=void 0!==f&&f,h=t.appData,v=void 0===h?{}:h,C.debug("produce() [track:%o]",n),n){e.next=6;break}throw new TypeError("missing track");case 6:if("send"===this._direction){e.next=10;break}throw new g.UnsupportedError("not a sending Transport");case 10:if(this._canProduceByKind[n.kind]){e.next=14;break}throw new g.UnsupportedError("cannot produce ".concat(n.kind));case 14:if("ended"!==n.readyState){e.next=18;break}throw new g.InvalidStateError("track ended");case 18:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=22;break}throw new TypeError('no "connect" listener set into this transport');case 22:if(0!==this.listenerCount("produce")){e.next=26;break}throw new TypeError('no "produce" listener set into this transport');case 26:if(!v||"object"===typeof v){e.next=28;break}throw new TypeError("if given, appData must be an object");case 28:return e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){var t,i,c,l,f,h,g,y;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||Array.isArray(r)){e.next=4;break}throw TypeError("encodings must be an array");case 4:r&&0===r.length?t=void 0:r&&(t=r.map((function(e){var t={active:!0};return!1===e.active&&(t.active=!1),"boolean"===typeof e.dtx&&(t.dtx=e.dtx),"string"===typeof e.scalabilityMode&&(t.scalabilityMode=e.scalabilityMode),"number"===typeof e.scaleResolutionDownBy&&(t.scaleResolutionDownBy=e.scaleResolutionDownBy),"number"===typeof e.maxBitrate&&(t.maxBitrate=e.maxBitrate),"number"===typeof e.maxFramerate&&(t.maxFramerate=e.maxFramerate),"boolean"===typeof e.adaptivePtime&&(t.adaptivePtime=e.adaptivePtime),"string"===typeof e.priority&&(t.priority=e.priority),"string"===typeof e.networkPriority&&(t.networkPriority=e.networkPriority),t})));case 5:return e.next=7,m._handler.send({track:n,encodings:t,codecOptions:o,codec:s});case 7:return i=e.sent,c=i.localId,l=i.rtpParameters,f=i.rtpSender,e.prev=11,b.validateRtpParameters(l),e.next=15,m.safeEmitAsPromise("produce",{kind:n.kind,rtpParameters:l,appData:v});case 15:return h=e.sent,g=h.id,y=new w.Producer({id:g,localId:c,rtpSender:f,track:n,rtpParameters:l,stopTracks:u,disableTrackOnPause:d,zeroRtpOnPause:p,appData:v}),m._producers.set(y.id,y),m._handleProducer(y),m._observer.safeEmit("newproducer",y),e.abrupt("return",y);case 24:throw e.prev=24,e.t0=e.catch(11),m._handler.stopSending(c).catch((function(){})),e.t0;case 28:case"end":return e.stop()}}),e,null,[[11,24]])}))),"transport.produce()").catch((function(e){if(u)try{n.stop()}catch(t){}throw e})));case 29:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"consume",value:function(){var e=i(a().mark((function e(t){var n,r,i,o,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.producerId,i=t.kind,o=t.rtpParameters,s=t.appData,c=void 0===s?{}:s,C.debug("consume()"),o=y.clone(o,void 0),!this._closed){e.next=7;break}throw new g.InvalidStateError("closed");case 7:if("recv"===this._direction){e.next=11;break}throw new g.UnsupportedError("not a receiving Transport");case 11:if("string"===typeof n){e.next=15;break}throw new TypeError("missing id");case 15:if("string"===typeof r){e.next=19;break}throw new TypeError("missing producerId");case 19:if("audio"===i||"video"===i){e.next=23;break}throw new TypeError("invalid kind '".concat(i,"'"));case 23:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=27;break}throw new TypeError('no "connect" listener set into this transport');case 27:if(!c||"object"===typeof c){e.next=29;break}throw new TypeError("if given, appData must be an object");case 29:if(b.canReceive(o,this._extendedRtpCapabilities)){e.next=32;break}throw new g.UnsupportedError("cannot consume this Producer");case 32:return u=new k({id:n,producerId:r,kind:i,rtpParameters:o,appData:c}),this._pendingConsumerTasks.push(u),!1===this._consumerCreationInProgress&&this._createPendingConsumers(),e.abrupt("return",u.promise);case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"produceData",value:function(){var e=i(a().mark((function e(){var t,n,r,o,s,c,u,l,d,f,p,h=this,v=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]?v[0]:{},n=t.ordered,r=void 0===n||n,o=t.maxPacketLifeTime,s=t.maxRetransmits,c=t.label,u=void 0===c?"":c,l=t.protocol,d=void 0===l?"":l,f=t.appData,p=void 0===f?{}:f,C.debug("produceData()"),"send"===this._direction){e.next=6;break}throw new g.UnsupportedError("not a sending Transport");case 6:if(this._maxSctpMessageSize){e.next=10;break}throw new g.UnsupportedError("SCTP not enabled by remote Transport");case 10:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=14;break}throw new TypeError('no "connect" listener set into this transport');case 14:if(0!==this.listenerCount("producedata")){e.next=18;break}throw new TypeError('no "producedata" listener set into this transport');case 18:if(!p||"object"===typeof p){e.next=20;break}throw new TypeError("if given, appData must be an object");case 20:return(o||s)&&(r=!1),e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){var t,n,i,c,l,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h._handler.sendDataChannel({ordered:r,maxPacketLifeTime:o,maxRetransmits:s,label:u,protocol:d});case 2:return t=e.sent,n=t.dataChannel,i=t.sctpStreamParameters,b.validateSctpStreamParameters(i),e.next=8,h.safeEmitAsPromise("producedata",{sctpStreamParameters:i,label:u,protocol:d,appData:p});case 8:return c=e.sent,l=c.id,f=new S.DataProducer({id:l,dataChannel:n,sctpStreamParameters:i,appData:p}),h._dataProducers.set(f.id,f),h._handleDataProducer(f),h._observer.safeEmit("newdataproducer",f),e.abrupt("return",f);case 15:case"end":return e.stop()}}),e)}))),"transport.produceData()"));case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"consumeData",value:function(){var e=i(a().mark((function e(t){var n,r,o,s,c,u,l,d,f,p=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.dataProducerId,o=t.sctpStreamParameters,s=t.label,c=void 0===s?"":s,u=t.protocol,l=void 0===u?"":u,d=t.appData,f=void 0===d?{}:d,C.debug("consumeData()"),o=y.clone(o,void 0),!this._closed){e.next=7;break}throw new g.InvalidStateError("closed");case 7:if("recv"===this._direction){e.next=11;break}throw new g.UnsupportedError("not a receiving Transport");case 11:if(this._maxSctpMessageSize){e.next=15;break}throw new g.UnsupportedError("SCTP not enabled by remote Transport");case 15:if("string"===typeof n){e.next=19;break}throw new TypeError("missing id");case 19:if("string"===typeof r){e.next=23;break}throw new TypeError("missing dataProducerId");case 23:if(0!==this.listenerCount("connect")||"new"!==this._connectionState){e.next=27;break}throw new TypeError('no "connect" listener set into this transport');case 27:if(!f||"object"===typeof f){e.next=29;break}throw new TypeError("if given, appData must be an object");case 29:return b.validateSctpStreamParameters(o),e.abrupt("return",this._awaitQueue.push(i(a().mark((function e(){var t,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p._handler.receiveDataChannel({sctpStreamParameters:o,label:c,protocol:l});case 2:return t=e.sent,i=t.dataChannel,s=new _.DataConsumer({id:n,dataProducerId:r,dataChannel:i,sctpStreamParameters:o,appData:f}),p._dataConsumers.set(s.id,s),p._handleDataConsumer(s),p._observer.safeEmit("newdataconsumer",s),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)}))),"transport.consumeData()"));case 31:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_createPendingConsumers",value:function(){var e=i(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._awaitQueue.push(i(a().mark((function e(){var n,i,s,c,u,l,d,f,p,h,v,m,g,y,w,S,_,k,P,R,E,j,T,O,M,L,D;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._consumerCreationInProgress=!0,n=r(t._pendingConsumerTasks),t._pendingConsumerTasks=[],i=void 0,s=[],c=o(n);try{for(c.s();!(u=c.n()).done;)l=u.value,d=l.consumerOptions,f=d.id,p=d.kind,h=d.rtpParameters,s.push({trackId:f,kind:p,rtpParameters:h})}catch(a){c.e(a)}finally{c.f()}return e.prev=7,e.next=10,t._handler.receive(s);case 10:for(v=e.sent,m=0;m<v.length;m++)g=n[m],y=v[m],w=g.consumerOptions,S=w.id,_=w.producerId,k=w.kind,P=w.rtpParameters,R=w.appData,E=y.localId,j=y.rtpReceiver,T=y.track,O=new x.Consumer({id:S,localId:E,producerId:_,rtpReceiver:j,track:T,rtpParameters:P,appData:R}),t._consumers.set(O.id,O),t._handleConsumer(O),t._probatorConsumerCreated||i||"video"!==k||(i=O),t._observer.safeEmit("newconsumer",O),g.resolve(O);e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),M=o(n);try{for(M.s();!(L=M.n()).done;)L.value.reject(e.t0)}catch(a){M.e(a)}finally{M.f()}case 18:if(!i){e.next=30;break}return e.prev=19,D=b.generateProbatorRtpParameters(i.rtpParameters),e.next=23,t._handler.receive([{trackId:"probator",kind:"video",rtpParameters:D}]);case 23:C.debug("_createPendingConsumers() | Consumer for RTP probation created"),t._probatorConsumerCreated=!0,e.next=30;break;case 27:e.prev=27,e.t1=e.catch(19),C.error("_createPendingConsumers() | failed to create Consumer for RTP probation:%o",e.t1);case 30:t._consumerCreationInProgress=!1;case 31:case"end":return e.stop()}}),e,null,[[7,14],[19,27]])}))),"transport._createPendingConsumers()").then((function(){t._pendingConsumerTasks.length>0&&t._createPendingConsumers()})).catch((function(){}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_pausePendingConsumers",value:function(){var e=this;this._awaitQueue.push(i(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._consumerPauseInProgress=!0,n=Array.from(e._pendingPauseConsumers.values()),e._pendingPauseConsumers.clear(),t.prev=3,t.next=6,e._handler.pauseReceiving(n.map((function(e){return e.localId})));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),C.error("_pausePendingConsumers() | failed to pause Consumers:",t.t0);case 11:e._consumerPauseInProgress=!1;case 12:case"end":return t.stop()}}),t,null,[[3,8]])}))),"consumer @pause event").then((function(){e._pendingPauseConsumers.size>0&&e._pausePendingConsumers()})).catch((function(){}))}},{key:"_resumePendingConsumers",value:function(){var e=this;this._awaitQueue.push(i(a().mark((function t(){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._consumerResumeInProgress=!0,n=Array.from(e._pendingResumeConsumers.values()),e._pendingResumeConsumers.clear(),t.prev=3,t.next=6,e._handler.resumeReceiving(n.map((function(e){return e.localId})));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),C.error("_resumePendingConsumers() | failed to resume Consumers:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[3,8]])}))),"consumer @resume event").then((function(){e._consumerResumeInProgress=!1,e._pendingResumeConsumers.size>0&&e._resumePendingConsumers()})).catch((function(){}))}},{key:"_handleHandler",value:function(){var e=this,t=this._handler;t.on("@connect",(function(t,n,r){var a=t.dtlsParameters;e._closed?r(new g.InvalidStateError("closed")):e.safeEmit("connect",{dtlsParameters:a},n,r)})),t.on("@connectionstatechange",(function(t){t!==e._connectionState&&(C.debug("connection state changed to %s",t),e._connectionState=t,e._closed||e.safeEmit("connectionstatechange",t))}))}},{key:"_handleProducer",value:function(e){var t=this;e.on("@close",(function(){t._producers.delete(e.id),t._closed||t._awaitQueue.push(i(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._handler.stopSending(e.localId));case 1:case"end":return n.stop()}}),n)}))),"producer @close event").catch((function(e){return C.warn("producer.close() failed:%o",e)}))})),e.on("@replacetrack",(function(n,r,o){t._awaitQueue.push(i(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._handler.replaceTrack(e.localId,n));case 1:case"end":return r.stop()}}),r)}))),"producer @replacetrack event").then(r).catch(o)})),e.on("@setmaxspatiallayer",(function(n,r,o){t._awaitQueue.push(i(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._handler.setMaxSpatialLayer(e.localId,n));case 1:case"end":return r.stop()}}),r)}))),"producer @setmaxspatiallayer event").then(r).catch(o)})),e.on("@setrtpencodingparameters",(function(n,r,o){t._awaitQueue.push(i(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._handler.setRtpEncodingParameters(e.localId,n));case 1:case"end":return r.stop()}}),r)}))),"producer @setrtpencodingparameters event").then(r).catch(o)})),e.on("@getstats",(function(n,r){if(t._closed)return r(new g.InvalidStateError("closed"));t._handler.getSenderStats(e.localId).then(n).catch(r)}))}},{key:"_handleConsumer",value:function(e){var t=this;e.on("@close",(function(){t._consumers.delete(e.id),t._pendingPauseConsumers.delete(e.id),t._pendingResumeConsumers.delete(e.id),t._closed||t._awaitQueue.push(i(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._handler.stopReceiving(e.localId));case 1:case"end":return n.stop()}}),n)}))),"consumer @close event").catch((function(){}))})),e.on("@pause",(function(){t._pendingResumeConsumers.has(e.id)&&t._pendingResumeConsumers.delete(e.id),t._pendingPauseConsumers.set(e.id,e),!1===t._consumerPauseInProgress&&t._pausePendingConsumers()})),e.on("@resume",(function(){t._pendingPauseConsumers.has(e.id)&&t._pendingPauseConsumers.delete(e.id),t._pendingResumeConsumers.set(e.id,e),!1===t._consumerResumeInProgress&&t._resumePendingConsumers()})),e.on("@getstats",(function(n,r){if(t._closed)return r(new g.InvalidStateError("closed"));t._handler.getReceiverStats(e.localId).then(n).catch(r)}))}},{key:"_handleDataProducer",value:function(e){var t=this;e.on("@close",(function(){t._dataProducers.delete(e.id)}))}},{key:"_handleDataConsumer",value:function(e){var t=this;e.on("@close",(function(){t._dataConsumers.delete(e.id)}))}}]),n}(m.EnhancedEventEmitter);t.Transport=P},6431:function(e,t,n){"use strict";var r=n(3913).default,a=n(4575).default,i=n(1506).default,o=n(2205).default,s=n(9842).default,c=n(5957).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidStateError=t.UnsupportedError=void 0;var u=function(e){o(n,e);var t=s(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).name="UnsupportedError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(i(r),n):r.stack=new Error(e).stack,r}return r(n)}(c(Error));t.UnsupportedError=u;var l=function(e){o(n,e);var t=s(n);function n(e){var r;return a(this,n),(r=t.call(this,e)).name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(i(r),n):r.stack=new Error(e).stack,r}return r(n)}(c(Error));t.InvalidStateError=l},5939:function(e,t,n){"use strict";var r=n(3269).default,a=n(1109).default,i=n(9591).default,o=n(8926).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome55=void 0;var h=p(n(5861)),v=n(4115),m=n(6431),g=p(n(3001)),y=p(n(1777)),b=p(n(8978)),w=p(n(9547)),x=n(4376),S=n(9678),_=new v.Logger("Chrome55"),k={OS:1024,MIS:1024},C=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._sendStream=new MediaStream,e._mapSendLocalIdTrack=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"Chrome55"}},{key:"close",value:function(){if(_.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:n=e.sent;try{t.close()}catch(i){}return r=h.parse(n.sdp),a=b.extractRtpCapabilities({sdpObject:r}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:k});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,n=e.direction,r=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,f=e.extendedRtpCapabilities;_.debug("run()"),this._direction=n,this._remoteSdp=new S.RemoteSdp({iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:y.getSendingRtpParameters("audio",f),video:y.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:y.getSendingRemoteRtpParameters("audio",f),video:y.getSendingRemoteRtpParameters("video",f)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},l),d),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.debug("updateIceServers()"),(n=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return n=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return r={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),e.next=15,this._pc.setRemoteDescription(r);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,x,S,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this._assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),s&&_.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(n),this._pc.addStream(this._sendStream),e.next=8,this._pc.createOffer();case 8:if(u=e.sent,l=h.parse(u.sdp),(f=g.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=y.reduceCodecs(f.codecs),(p=g.clone(this._sendingRemoteRtpParametersByKind[n.kind],{})).codecs=y.reduceCodecs(p.codecs),this._transportReady){e.next=17;break}return e.next=17,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:l});case 17:return"video"===n.kind&&a&&a.length>1&&(_.debug("send() | enabling simulcast"),l=h.parse(u.sdp),d=l.media.find((function(e){return"video"===e.type})),w.addLegacySimulcast({offerMediaObject:d,track:n,numStreams:a.length}),u={type:"offer",sdp:h.write(l)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(l=h.parse(this._pc.localDescription.sdp),d=l.media.find((function(e){return e.type===n.kind})),f.rtcp.cname=b.getCname({offerMediaObject:d}),f.encodings=w.getRtpEncodings({offerMediaObject:d,track:n}),a)for(v=0;v<f.encodings.length;++v)a[v]&&Object.assign(f.encodings[v],a[v]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase()){m=r(f.encodings);try{for(m.s();!(x=m.n()).done;)x.value.scalabilityMode="S1T3"}catch(i){m.e(i)}finally{m.f()}}return this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:p,codecOptions:o}),S={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),e.next=32,this._pc.setRemoteDescription(S);case 32:return k=String(this._nextSendLocalId),this._nextSendLocalId++,this._mapSendLocalIdTrack.set(k,n),e.abrupt("return",{localId:k,rtpParameters:f});case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("stopSending() [localId:%s]",t),n=this._mapSendLocalIdTrack.get(t)){e.next=5;break}throw new Error("track not found");case 5:return this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(n),this._pc.addStream(this._sendStream),e.next=10,this._pc.createOffer();case 10:return r=e.sent,_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),e.prev=12,e.next=15,this._pc.setLocalDescription(r);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(12),0!==this._sendStream.getTracks().length){e.next=22;break}return _.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()),e.abrupt("return");case 22:throw e.t0;case 23:if("stable"!==this._pc.signalingState){e.next=25;break}return e.abrupt("return");case 25:return a={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=29,this._pc.setRemoteDescription(a);case 29:case"end":return e.stop()}}),e,this,[[12,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError(" not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ordered,r=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:a,protocol:s},_.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%k.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,f=h.parse(d.sdp),p=f.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:f});case 15:return _.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:p}),v={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=23,this._pc.setRemoteDescription(v);case 23:this._hasDataChannelMediaSection=!0;case 24:return m={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:m});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,g,y,w,x,S,k,C,P=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),a=[],o=r(t);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.trackId,l=c.kind,d=c.rtpParameters,_.debug("receive() [trackId:%s, kind:%s]",u,l),f=l,p=d.rtcp.cname,this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:p,trackId:u})}catch(i){o.e(i)}finally{o.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=8,this._pc.setRemoteDescription(v);case 8:return e.next=10,this._pc.createAnswer();case 10:m=e.sent,g=h.parse(m.sdp),y=r(t);try{for(x=function(){var e=w.value,t=e.kind,n=e.rtpParameters,r=t,a=g.media.find((function(e){return String(e.mid)===r}));b.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})},y.s();!(w=y.n()).done;)x()}catch(i){y.e(i)}finally{y.f()}if(m={type:"answer",sdp:h.write(g)},this._transportReady){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:null!==(n=this._forcedLocalDtlsRole)&&void 0!==n?n:"client",localSdpObject:g});case 18:return _.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),e.next=21,this._pc.setLocalDescription(m);case 21:S=r(t);try{for(C=function(){var e=k.value,t=e.kind,n=e.trackId,r=e.rtpParameters,i=t,o=n,s=r.rtcp.cname,c=P._pc.getRemoteStreams().find((function(e){return e.id===s})).getTrackById(o);if(!c)throw new Error("remote track not found");P._mapRecvLocalIdInfo.set(o,{mid:i,rtpParameters:r}),a.push({localId:o,track:c})},S.s();!(k=S.n()).done;)C()}catch(i){S.e(i)}finally{S.f()}return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertRecvDirection(),_.debug("stopReceiving() [localId:%s]",t),n=this._mapRecvLocalIdInfo.get(t)||{},r=n.mid,a=n.rtpParameters,this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:r,offerRtpParameters:a}),o={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",o),e.next=9,this._pc.setRemoteDescription(o);case 9:return e.next=11,this._pc.createAnswer();case 11:return s=e.sent,_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",s),e.next=15,this._pc.setLocalDescription(s);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sctpStreamParameters,r=t.label,a=t.protocol,this._assertRecvDirection(),s=n.streamId,c=n.ordered,u=n.maxPacketLifeTime,l=n.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmitTime:u,maxRetransmits:l,protocol:a},_.debug("receiveDataChannel() [options:%o]",d),f=this._pc.createDataChannel(r,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),p={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=12,this._pc.setRemoteDescription(p);case 12:return e.next=14,this._pc.createAnswer();case 14:if(v=e.sent,this._transportReady){e.next=19;break}return m=h.parse(v.sdp),e.next=19,this._setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:m});case 19:return _.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=22,this._pc.setLocalDescription(v);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:f});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setupTransport",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,(r=t.localSdpObject)||(r=h.parse(this._pc.localDescription.sdp)),(a=b.extractDtlsParameters({sdpObject:r})).role=n,this._remoteSdp.updateDtlsRole("client"===n?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:a});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(x.HandlerInterface);t.Chrome55=C},6452:function(e,t,n){"use strict";var r=n(3269).default,a=n(1109).default,i=n(9591).default,o=n(8926).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome67=void 0;var h=p(n(5861)),v=n(4115),m=p(n(3001)),g=p(n(1777)),y=p(n(8978)),b=p(n(9547)),w=n(4376),x=n(9678),S=new v.Logger("Chrome67"),_={OS:1024,MIS:1024},k=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._sendStream=new MediaStream,e._mapSendLocalIdRtpSender=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"Chrome67"}},{key:"close",value:function(){if(S.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:n=e.sent;try{t.close()}catch(i){}return r=h.parse(n.sdp),a=y.extractRtpCapabilities({sdpObject:r}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:_});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,n=e.direction,r=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,f=e.extendedRtpCapabilities;S.debug("run()"),this._direction=n,this._remoteSdp=new x.RemoteSdp({iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",f),video:g.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",f),video:g.getSendingRemoteRtpParameters("video",f)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},l),d),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.debug("updateIceServers()"),(n=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return n=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return r={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),e.next=15,this._pc.setRemoteDescription(r);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,w,x,_,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this._assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),s&&S.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(n),this._pc.addTrack(n,this._sendStream),e.next=8,this._pc.createOffer();case 8:if(u=e.sent,l=h.parse(u.sdp),(f=m.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(f.codecs),(p=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(p.codecs),this._transportReady){e.next=17;break}return e.next=17,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:l});case 17:return"video"===n.kind&&a&&a.length>1&&(S.debug("send() | enabling simulcast"),l=h.parse(u.sdp),d=l.media.find((function(e){return"video"===e.type})),b.addLegacySimulcast({offerMediaObject:d,track:n,numStreams:a.length}),u={type:"offer",sdp:h.write(l)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(l=h.parse(this._pc.localDescription.sdp),d=l.media.find((function(e){return e.type===n.kind})),f.rtcp.cname=y.getCname({offerMediaObject:d}),f.encodings=b.getRtpEncodings({offerMediaObject:d,track:n}),a)for(v=0;v<f.encodings.length;++v)a[v]&&Object.assign(f.encodings[v],a[v]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase()){w=r(f.encodings);try{for(w.s();!(x=w.n()).done;)x.value.scalabilityMode="S1T3"}catch(i){w.e(i)}finally{w.f()}}return this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:p,codecOptions:o}),_={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",_),e.next=32,this._pc.setRemoteDescription(_);case 32:return k=String(this._nextSendLocalId),this._nextSendLocalId++,C=this._pc.getSenders().find((function(e){return e.track===n})),this._mapSendLocalIdRtpSender.set(k,C),e.abrupt("return",{localId:k,rtpParameters:f,rtpSender:C});case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),S.debug("stopSending() [localId:%s]",t),n=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return this._pc.removeTrack(n),n.track&&this._sendStream.removeTrack(n.track),this._mapSendLocalIdRtpSender.delete(t),e.next=10,this._pc.createOffer();case 10:return r=e.sent,S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),e.prev=12,e.next=15,this._pc.setLocalDescription(r);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(12),0!==this._sendStream.getTracks().length){e.next=22;break}return S.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()),e.abrupt("return");case 22:throw e.t0;case 23:if("stable"!==this._pc.signalingState){e.next=25;break}return e.abrupt("return");case 25:return a={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=29,this._pc.setRemoteDescription(a);case 29:case"end":return e.stop()}}),e,this,[[12,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n?S.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):S.debug("replaceTrack() [localId:%s, no track]",t),r=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return a=r.track,e.next=8,r.replaceTrack(n);case 8:a&&this._sendStream.removeTrack(a),n&&this._sendStream.addTrack(n);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n),r=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return(a=r.getParameters()).encodings.forEach((function(e,t){e.active=t<=n})),e.next=9,r.setParameters(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n),r=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return(o=r.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),n)})),e.next=9,r.setParameters(o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return e.abrupt("return",n.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ordered,r=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:a,protocol:s},S.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,f=h.parse(d.sdp),p=f.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:f});case 15:return S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:p}),v={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=23,this._pc.setRemoteDescription(v);case 23:this._hasDataChannelMediaSection=!0;case 24:return m={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:m});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,g,b,w,x,_,k,C=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),a=[],o=r(t);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.trackId,l=c.kind,d=c.rtpParameters,S.debug("receive() [trackId:%s, kind:%s]",u,l),f=l,this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:d.rtcp.cname,trackId:u})}catch(i){o.e(i)}finally{o.f()}return p={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=8,this._pc.setRemoteDescription(p);case 8:return e.next=10,this._pc.createAnswer();case 10:v=e.sent,m=h.parse(v.sdp),g=r(t);try{for(w=function(){var e=b.value,t=e.kind,n=e.rtpParameters,r=t,a=m.media.find((function(e){return String(e.mid)===r}));y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})},g.s();!(b=g.n()).done;)w()}catch(i){g.e(i)}finally{g.f()}if(v={type:"answer",sdp:h.write(m)},this._transportReady){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:null!==(n=this._forcedLocalDtlsRole)&&void 0!==n?n:"client",localSdpObject:m});case 18:return S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",v),e.next=21,this._pc.setLocalDescription(v);case 21:x=r(t);try{for(k=function(){var e=_.value,t=e.kind,n=e.trackId,r=e.rtpParameters,i=n,o=t,s=C._pc.getReceivers().find((function(e){return e.track&&e.track.id===i}));if(!s)throw new Error("new RTCRtpReceiver not");C._mapRecvLocalIdInfo.set(i,{mid:o,rtpParameters:r,rtpReceiver:s}),a.push({localId:i,track:s.track,rtpReceiver:s})},x.s();!(_=x.n()).done;)k()}catch(i){x.e(i)}finally{x.f()}return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertRecvDirection(),S.debug("stopReceiving() [localId:%s]",t),n=this._mapRecvLocalIdInfo.get(t)||{},r=n.mid,a=n.rtpParameters,this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:r,offerRtpParameters:a}),o={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",o),e.next=9,this._pc.setRemoteDescription(o);case 9:return e.next=11,this._pc.createAnswer();case 11:return s=e.sent,S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",s),e.next=15,this._pc.setLocalDescription(s);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),n=this._mapRecvLocalIdInfo.get(t)||{},r=n.rtpReceiver){e.next=4;break}throw new Error("associated RTCRtpReceiver not found");case 4:return e.abrupt("return",r.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sctpStreamParameters,r=t.label,a=t.protocol,this._assertRecvDirection(),s=n.streamId,c=n.ordered,u=n.maxPacketLifeTime,l=n.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmitTime:u,maxRetransmits:l,protocol:a},S.debug("receiveDataChannel() [options:%o]",d),f=this._pc.createDataChannel(r,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),p={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=12,this._pc.setRemoteDescription(p);case 12:return e.next=14,this._pc.createAnswer();case 14:if(v=e.sent,this._transportReady){e.next=19;break}return m=h.parse(v.sdp),e.next=19,this._setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:m});case 19:return S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=22,this._pc.setLocalDescription(v);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:f});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setupTransport",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,(r=t.localSdpObject)||(r=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:r})).role=n,this._remoteSdp.updateDtlsRole("client"===n?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:a});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(w.HandlerInterface);t.Chrome67=k},1521:function(e,t,n){"use strict";var r=n(3269).default,a=n(1109).default,i=n(9591).default,o=n(8926).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome70=void 0;var h=p(n(5861)),v=n(4115),m=p(n(3001)),g=p(n(1777)),y=p(n(8978)),b=p(n(8480)),w=n(4376),x=n(9678),S=n(8732),_=new v.Logger("Chrome70"),k={OS:1024,MIS:1024},C=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"Chrome70"}},{key:"close",value:function(){if(_.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=7,t.createOffer();case 7:n=e.sent;try{t.close()}catch(i){}return r=h.parse(n.sdp),a=y.extractRtpCapabilities({sdpObject:r}),e.abrupt("return",a);case 14:e.prev=14,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:k});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,n=e.direction,r=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,f=e.extendedRtpCapabilities;_.debug("run()"),this._direction=n,this._remoteSdp=new x.RemoteSdp({iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",f),video:g.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",f),video:g.getSendingRemoteRtpParameters("video",f)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},l),d),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.debug("updateIceServers()"),(n=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return n=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return r={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),e.next=15,this._pc.setRemoteDescription(r);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,w,x,k,C,P,R,E,j,T,O,M,L;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this._assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),(u=m.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(u.codecs,s),(l=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(l.codecs,s),d=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(n,{direction:"sendonly",streams:[this._sendStream]}),e.next=11,this._pc.createOffer();case 11:if(p=e.sent,v=h.parse(p.sdp),this._transportReady){e.next=16;break}return e.next=16,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:v});case 16:return a&&a.length>1&&(_.debug("send() | enabling legacy simulcast"),v=h.parse(p.sdp),w=v.media[d.idx],b.addLegacySimulcast({offerMediaObject:w,numStreams:a.length}),p={type:"offer",sdp:h.write(v)}),x=!1,k=(0,S.parse)((a||[{}])[0].scalabilityMode),a&&1===a.length&&k.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(_.debug("send() | enabling legacy simulcast for VP9 SVC"),x=!0,v=h.parse(p.sdp),w=v.media[d.idx],b.addLegacySimulcast({offerMediaObject:w,numStreams:k.spatialLayers}),p={type:"offer",sdp:h.write(v)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),e.next=23,this._pc.setLocalDescription(p);case 23:if(!a){e.next=38;break}_.debug("send() | applying given encodings"),C=f.sender.getParameters(),P=0;case 27:if(!(P<(C.encodings||[]).length)){e.next=36;break}if(R=C.encodings[P],E=a[P]){e.next=32;break}return e.abrupt("break",36);case 32:C.encodings[P]=Object.assign(R,E);case 33:++P,e.next=27;break;case 36:return e.next=38,f.sender.setParameters(C);case 38:if(j=f.mid,u.mid=j,v=h.parse(this._pc.localDescription.sdp),w=v.media[d.idx],u.rtcp.cname=y.getCname({offerMediaObject:w}),u.encodings=b.getRtpEncodings({offerMediaObject:w}),a)for(T=0;T<u.encodings.length;++T)a[T]&&Object.assign(u.encodings[T],a[T]);if(x&&(u.encodings=[u.encodings[0]]),u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){O=r(u.encodings);try{for(O.s();!(M=O.n()).done;)M.value.scalabilityMode="S1T3"}catch(i){O.e(i)}finally{O.f()}}return this._remoteSdp.send({offerMediaObject:w,reuseMid:d.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:o}),L={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("send() | calling pc.setRemoteDescription() [answer:%o]",L),e.next=52,this._pc.setRemoteDescription(L);case 52:return this._mapMidTransceiver.set(j,f),e.abrupt("return",{localId:j,rtpParameters:u,rtpSender:f.sender});case 54:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("stopSending() [localId:%s]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid),e.next=10,this._pc.createOffer();case 10:return r=e.sent,_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),e.next=14,this._pc.setLocalDescription(r);case 14:return a={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:this._mapMidTransceiver.delete(t);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n?_.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):_.debug("replaceTrack() [localId:%s, no track]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,r.sender.replaceTrack(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(a=r.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=n})),e.next=9,r.sender.setParameters(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=r.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),n)})),e.next=9,r.sender.setParameters(o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",n.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ordered,r=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:a,protocol:s},_.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%k.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,f=h.parse(d.sdp),p=f.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:f});case 15:return _.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:p}),v={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=23,this._pc.setRemoteDescription(v);case 23:this._hasDataChannelMediaSection=!0;case 24:return m={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:m});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,g,b,w,x,S,k,C,P=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),a=[],o=new Map,s=r(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,f=u.rtpParameters,_.debug("receive() [trackId:%s, kind:%s]",l,d),p=f.mid||String(this._mapMidTransceiver.size),o.set(l,p),this._remoteSdp.receive({mid:p,kind:d,offerRtpParameters:f,streamId:f.rtcp.cname,trackId:l})}catch(i){s.e(i)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:m=e.sent,g=h.parse(m.sdp),b=r(t);try{for(x=function(){var e=w.value,t=e.trackId,n=e.rtpParameters,r=o.get(t),a=g.media.find((function(e){return String(e.mid)===r}));y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})},b.s();!(w=b.n()).done;)x()}catch(i){b.e(i)}finally{b.f()}if(m={type:"answer",sdp:h.write(g)},this._transportReady){e.next=19;break}return e.next=19,this._setupTransport({localDtlsRole:null!==(n=this._forcedLocalDtlsRole)&&void 0!==n?n:"client",localSdpObject:g});case 19:return _.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:S=r(t);try{for(C=function(){var e=k.value.trackId,t=o.get(e),n=P._pc.getTransceivers().find((function(e){return e.mid===t}));if(!n)throw new Error("new RTCRtpTransceiver not found");P._mapMidTransceiver.set(t,n),a.push({localId:t,track:n.receiver.track,rtpReceiver:n.receiver})},S.s();!(k=S.n()).done;)C()}catch(i){S.e(i)}finally{S.f()}return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),_.debug("stopReceiving() [localId:%s]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return this._remoteSdp.closeMediaSection(n.mid),r={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),e.next=10,this._pc.setRemoteDescription(r);case 10:return e.next=12,this._pc.createAnswer();case 12:return a=e.sent,_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",a),e.next=16,this._pc.setLocalDescription(a);case 16:this._mapMidTransceiver.delete(t);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",n.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sctpStreamParameters,r=t.label,a=t.protocol,this._assertRecvDirection(),s=n.streamId,c=n.ordered,u=n.maxPacketLifeTime,l=n.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmitTime:u,maxRetransmits:l,protocol:a},_.debug("receiveDataChannel() [options:%o]",d),f=this._pc.createDataChannel(r,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),p={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=12,this._pc.setRemoteDescription(p);case 12:return e.next=14,this._pc.createAnswer();case 14:if(v=e.sent,this._transportReady){e.next=19;break}return m=h.parse(v.sdp),e.next=19,this._setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:m});case 19:return _.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=22,this._pc.setLocalDescription(v);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:f});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setupTransport",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,(r=t.localSdpObject)||(r=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:r})).role=n,this._remoteSdp.updateDtlsRole("client"===n?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:a});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(w.HandlerInterface);t.Chrome70=C},6139:function(e,t,n){"use strict";var r=n(3269).default,a=n(1109).default,i=n(9591).default,o=n(8926).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chrome74=void 0;var h=p(n(5861)),v=n(4115),m=p(n(3001)),g=p(n(1777)),y=p(n(8978)),b=p(n(8480)),w=n(4376),x=n(9678),S=n(8732),_=new v.Logger("Chrome74"),k={OS:1024,MIS:1024},C=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"Chrome74"}},{key:"close",value:function(){if(_.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=7,t.createOffer();case 7:n=e.sent;try{t.close()}catch(i){}return r=h.parse(n.sdp),a=y.extractRtpCapabilities({sdpObject:r}),e.abrupt("return",a);case 14:e.prev=14,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:k});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,n=e.direction,r=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,f=e.extendedRtpCapabilities;_.debug("run()"),this._direction=n,this._remoteSdp=new x.RemoteSdp({iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",f),video:g.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",f),video:g.getSendingRemoteRtpParameters("video",f)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"},l),d),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.debug("updateIceServers()"),(n=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return n=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return r={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),e.next=15,this._pc.setRemoteDescription(r);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,w,x,k,C,P,R,E,j;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this._assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),a&&a.length>1&&a.forEach((function(e,t){e.rid="r".concat(t)})),(u=m.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(u.codecs,s),(l=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(l.codecs,s),d=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(n,{direction:"sendonly",streams:[this._sendStream],sendEncodings:a}),e.next=12,this._pc.createOffer();case 12:if(p=e.sent,v=h.parse(p.sdp),this._transportReady){e.next=17;break}return e.next=17,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:v});case 17:return x=!1,k=(0,S.parse)((a||[{}])[0].scalabilityMode),a&&1===a.length&&k.spatialLayers>1&&"video/vp9"===u.codecs[0].mimeType.toLowerCase()&&(_.debug("send() | enabling legacy simulcast for VP9 SVC"),x=!0,v=h.parse(p.sdp),w=v.media[d.idx],b.addLegacySimulcast({offerMediaObject:w,numStreams:k.spatialLayers}),p={type:"offer",sdp:h.write(v)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),e.next=23,this._pc.setLocalDescription(p);case 23:if(C=f.mid,u.mid=C,v=h.parse(this._pc.localDescription.sdp),w=v.media[d.idx],u.rtcp.cname=y.getCname({offerMediaObject:w}),a?1===a.length?(P=b.getRtpEncodings({offerMediaObject:w}),Object.assign(P[0],a[0]),x&&(P=[P[0]]),u.encodings=P):u.encodings=a:u.encodings=b.getRtpEncodings({offerMediaObject:w}),u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){R=r(u.encodings);try{for(R.s();!(E=R.n()).done;)E.value.scalabilityMode="S1T3"}catch(i){R.e(i)}finally{R.f()}}return this._remoteSdp.send({offerMediaObject:w,reuseMid:d.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:o,extmapAllowMixed:!0}),j={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("send() | calling pc.setRemoteDescription() [answer:%o]",j),e.next=35,this._pc.setRemoteDescription(j);case 35:return this._mapMidTransceiver.set(C,f),e.abrupt("return",{localId:C,rtpParameters:u,rtpSender:f.sender});case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("stopSending() [localId:%s]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid),e.next=10,this._pc.createOffer();case 10:return r=e.sent,_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),e.next=14,this._pc.setLocalDescription(r);case 14:return a={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:this._mapMidTransceiver.delete(t);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n?_.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):_.debug("replaceTrack() [localId:%s, no track]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,r.sender.replaceTrack(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(a=r.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=n})),e.next=9,r.sender.setParameters(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=r.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),n)})),e.next=9,r.sender.setParameters(o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",n.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ordered,r=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:r,maxRetransmits:a,protocol:s},_.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%k.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,f=h.parse(d.sdp),p=f.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:f});case 15:return _.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:p}),v={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=23,this._pc.setRemoteDescription(v);case 23:this._hasDataChannelMediaSection=!0;case 24:return m={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:m});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,g,b,w,x,S,k,C,P=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),a=[],o=new Map,s=r(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,f=u.rtpParameters,_.debug("receive() [trackId:%s, kind:%s]",l,d),p=f.mid||String(this._mapMidTransceiver.size),o.set(l,p),this._remoteSdp.receive({mid:p,kind:d,offerRtpParameters:f,streamId:f.rtcp.cname,trackId:l})}catch(i){s.e(i)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:m=e.sent,g=h.parse(m.sdp),b=r(t);try{for(x=function(){var e=w.value,t=e.trackId,n=e.rtpParameters,r=o.get(t),a=g.media.find((function(e){return String(e.mid)===r}));y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})},b.s();!(w=b.n()).done;)x()}catch(i){b.e(i)}finally{b.f()}if(m={type:"answer",sdp:h.write(g)},this._transportReady){e.next=19;break}return e.next=19,this._setupTransport({localDtlsRole:null!==(n=this._forcedLocalDtlsRole)&&void 0!==n?n:"client",localSdpObject:g});case 19:return _.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:S=r(t);try{for(C=function(){var e=k.value.trackId,t=o.get(e),n=P._pc.getTransceivers().find((function(e){return e.mid===t}));if(!n)throw new Error("new RTCRtpTransceiver not found");P._mapMidTransceiver.set(t,n),a.push({localId:t,track:n.receiver.track,rtpReceiver:n.receiver})},S.s();!(k=S.n()).done;)C()}catch(i){S.e(i)}finally{S.f()}return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),_.debug("stopReceiving() [localId:%s]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return this._remoteSdp.closeMediaSection(n.mid),r={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),e.next=10,this._pc.setRemoteDescription(r);case 10:return e.next=12,this._pc.createAnswer();case 12:return a=e.sent,_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",a),e.next=16,this._pc.setLocalDescription(a);case 16:this._mapMidTransceiver.delete(t);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),n=r(t),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=13;break}if(o=a.value,_.debug("pauseReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="inactive";case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,_.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),n=r(t),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=13;break}if(o=a.value,_.debug("resumeReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="recvonly";case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,_.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",n.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sctpStreamParameters,r=t.label,a=t.protocol,this._assertRecvDirection(),s=n.streamId,c=n.ordered,u=n.maxPacketLifeTime,l=n.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmits:l,protocol:a},_.debug("receiveDataChannel() [options:%o]",d),f=this._pc.createDataChannel(r,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),p={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=12,this._pc.setRemoteDescription(p);case 12:return e.next=14,this._pc.createAnswer();case 14:if(v=e.sent,this._transportReady){e.next=19;break}return m=h.parse(v.sdp),e.next=19,this._setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:m});case 19:return _.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=22,this._pc.setLocalDescription(v);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:f});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setupTransport",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,(r=t.localSdpObject)||(r=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:r})).role=n,this._remoteSdp.updateDtlsRole("client"===n?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:a});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(w.HandlerInterface);t.Chrome74=C},7516:function(e,t,n){"use strict";var r=n(1109).default,a=n(9591).default,i=n(8926).default,o=n(3269).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Edge11=void 0;var h=n(4115),v=n(6431),m=p(n(3001)),g=p(n(1777)),y=p(n(9132)),b=n(4376),w=new h.Logger("Edge11"),x=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._rtpSenders=new Map,e._rtpReceivers=new Map,e._nextSendLocalId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"Edge11"}},{key:"close",value:function(){w.debug("close()");try{this._iceGatherer.close()}catch(s){}try{this._iceTransport.stop()}catch(s){}try{this._dtlsTransport.stop()}catch(s){}var e,t=o(this._rtpSenders.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;try{n.stop()}catch(s){}}}catch(c){t.e(c)}finally{t.f()}var r,a=o(this._rtpReceivers.values());try{for(a.s();!(r=a.n()).done;){var i=r.value;try{i.stop()}catch(s){}}}catch(c){a.e(c)}finally{a.f()}}},{key:"getNativeRtpCapabilities",value:function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.debug("getNativeRtpCapabilities()"),e.abrupt("return",y.getCapabilities());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:{OS:0,MIS:0}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){e.direction;var t=e.iceParameters,n=e.iceCandidates,r=e.dtlsParameters,a=(e.sctpParameters,e.iceServers),i=e.iceTransportPolicy,o=(e.additionalSettings,e.proprietaryConstraints,e.extendedRtpCapabilities);w.debug("run()"),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",o),video:g.getSendingRtpParameters("video",o)},this._remoteIceParameters=t,this._remoteIceCandidates=n,this._remoteDtlsParameters=r,this._cname="CNAME-".concat(m.generateRandomNumber()),this._setIceGatherer({iceServers:a,iceTransportPolicy:i}),this._setIceTransport(),this._setDtlsTransport()}},{key:"updateIceServers",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=i(a().mark((function e(t){var n,r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("restartIce()"),this._remoteIceParameters=t,this._transportReady){e.next=4;break}return e.abrupt("return");case 4:w.debug("restartIce() | calling iceTransport.start()"),this._iceTransport.start(this._iceGatherer,t,"controlling"),n=o(this._remoteIceCandidates);try{for(n.s();!(r=n.n()).done;)i=r.value,this._iceTransport.addRemoteCandidate(i)}catch(a){n.e(a)}finally{n.f()}this._iceTransport.addRemoteCandidate({});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=i(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._iceTransport.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=i(a().mark((function e(t){var n,r,i,s,c,u,l,d,f,p,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.track,r=t.encodings,t.codecOptions,i=t.codec,w.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),this._transportReady){e.next=5;break}return e.next=5,this._setupTransport({localDtlsRole:"server"});case 5:w.debug("send() | calling new RTCRtpSender()"),s=new RTCRtpSender(n,this._dtlsTransport),(c=m.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(c.codecs,i),u=c.codecs.some((function(e){return/.+\/rtx$/i.test(e.mimeType)})),r||(r=[{}]),l=o(r);try{for(l.s();!(d=l.n()).done;)(f=d.value).ssrc=m.generateRandomNumber(),u&&(f.rtx={ssrc:m.generateRandomNumber()})}catch(a){l.e(a)}finally{l.f()}return c.encodings=r,c.rtcp={cname:this._cname,reducedSize:!0,mux:!0},p=y.mangleRtpParameters(c),w.debug("send() | calling rtpSender.send() [params:%o]",p),e.next=19,s.send(p);case 19:return h=String(this._nextSendLocalId),this._nextSendLocalId++,this._rtpSenders.set(h,s),e.abrupt("return",{localId:h,rtpParameters:c,rtpSender:s});case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=i(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("stopSending() [localId:%s]",t),n=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:this._rtpSenders.delete(t),e.prev=5,w.debug("stopSending() | calling rtpSender.stop()"),n.stop(),e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(5),w.warn("stopSending() | rtpSender.stop() failed:%o",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=i(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n?w.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):w.debug("replaceTrack() [localId:%s, no track]",t),r=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:r.setTrack(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=i(a().mark((function e(t,n){var r,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n),r=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:return(i=r.getParameters()).encodings.forEach((function(e,t){e.active=t<=n})),e.next=8,r.setParameters(i);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=i(a().mark((function e(t,n){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n),i=this._rtpSenders.get(t)){e.next=4;break}throw new Error("RTCRtpSender not found");case 4:return(o=i.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=r(r({},e),n)})),e.next=8,i.setParameters(o);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=i(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._rtpSenders.get(t)){e.next=3;break}throw new Error("RTCRtpSender not found");case 3:return e.abrupt("return",n.getStats());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=i(a().mark((function e(t){var n,r,i,s,c,u,l,d,f,p,h,v,m,g,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=o(t);try{for(r.s();!(i=r.n()).done;)s=i.value,c=s.trackId,u=s.kind,w.debug("receive() [trackId:%s, kind:%s]",c,u)}catch(a){r.e(a)}finally{r.f()}if(this._transportReady){e.next=6;break}return e.next=6,this._setupTransport({localDtlsRole:"server"});case 6:l=o(t),e.prev=7,l.s();case 9:if((d=l.n()).done){e.next=24;break}return f=d.value,p=f.trackId,h=f.kind,v=f.rtpParameters,w.debug("receive() | calling new RTCRtpReceiver()"),(m=new RTCRtpReceiver(this._dtlsTransport,h)).addEventListener("error",(function(e){w.error('rtpReceiver "error" event [event:%o]',e)})),g=y.mangleRtpParameters(v),w.debug("receive() | calling rtpReceiver.receive() [params:%o]",g),e.next=19,m.receive(g);case 19:b=p,this._rtpReceivers.set(b,m),n.push({localId:b,track:m.track,rtpReceiver:m});case 22:e.next=9;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(7),l.e(e.t0);case 29:return e.prev=29,l.f(),e.finish(29);case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e,this,[[7,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=i(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w.debug("stopReceiving() [localId:%s]",t),n=this._rtpReceivers.get(t)){e.next=4;break}throw new Error("RTCRtpReceiver not found");case 4:this._rtpReceivers.delete(t);try{w.debug("stopReceiving() | calling rtpReceiver.stop()"),n.stop()}catch(r){w.warn("stopReceiving() | rtpReceiver.stop() failed:%o",r)}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=i(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._rtpReceivers.get(t)){e.next=3;break}throw new Error("RTCRtpReceiver not found");case 3:return e.abrupt("return",n.getStats());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=i(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new v.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setIceGatherer",value:function(e){var t=e.iceServers,n=e.iceTransportPolicy,r=new RTCIceGatherer({iceServers:t||[],gatherPolicy:n||"all"});r.addEventListener("error",(function(e){w.error('iceGatherer "error" event [event:%o]',e)}));try{r.gather()}catch(a){w.debug("_setIceGatherer() | iceGatherer.gather() failed: %s",a.toString())}this._iceGatherer=r}},{key:"_setIceTransport",value:function(){var e=this,t=new RTCIceTransport(this._iceGatherer);t.addEventListener("statechange",(function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}})),t.addEventListener("icestatechange",(function(){switch(t.state){case"checking":e.emit("@connectionstatechange","connecting");break;case"connected":case"completed":e.emit("@connectionstatechange","connected");break;case"failed":e.emit("@connectionstatechange","failed");break;case"disconnected":e.emit("@connectionstatechange","disconnected");break;case"closed":e.emit("@connectionstatechange","closed")}})),t.addEventListener("candidatepairchange",(function(e){w.debug('iceTransport "candidatepairchange" event [pair:%o]',e.pair)})),this._iceTransport=t}},{key:"_setDtlsTransport",value:function(){var e=this,t=new RTCDtlsTransport(this._iceTransport);t.addEventListener("statechange",(function(){w.debug('dtlsTransport "statechange" event [state:%s]',t.state)})),t.addEventListener("dtlsstatechange",(function(){w.debug('dtlsTransport "dtlsstatechange" event [state:%s]',t.state),"closed"===t.state&&e.emit("@connectionstatechange","closed")})),t.addEventListener("error",(function(e){w.error('dtlsTransport "error" event [event:%o]',e)})),this._dtlsTransport=t}},{key:"_setupTransport",value:function(){var e=i(a().mark((function e(t){var n,r,i,s,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,w.debug("_setupTransport()"),(r=this._dtlsTransport.getLocalParameters()).role=n,e.next=6,this.safeEmitAsPromise("@connect",{dtlsParameters:r});case 6:this._iceTransport.start(this._iceGatherer,this._remoteIceParameters,"controlling"),i=o(this._remoteIceCandidates);try{for(i.s();!(s=i.n()).done;)c=s.value,this._iceTransport.addRemoteCandidate(c)}catch(a){i.e(a)}finally{i.f()}this._iceTransport.addRemoteCandidate({}),this._remoteDtlsParameters.fingerprints=this._remoteDtlsParameters.fingerprints.filter((function(e){return"sha-256"===e.algorithm||"sha-384"===e.algorithm||"sha-512"===e.algorithm})),this._dtlsTransport.start(this._remoteDtlsParameters),this._transportReady=!0;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(b.HandlerInterface);t.Edge11=x},1714:function(e,t,n){"use strict";var r=n(3269).default,a=n(1109).default,i=n(9591).default,o=n(8926).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Firefox60=void 0;var h=p(n(5861)),v=n(4115),m=n(6431),g=p(n(3001)),y=p(n(1777)),b=p(n(8978)),w=p(n(8480)),x=n(4376),S=n(9678),_=new v.Logger("Firefox60"),k={OS:16,MIS:2048},C=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"Firefox60"}},{key:"close",value:function(){if(_.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,n,r,a,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),(n=document.createElement("canvas")).getContext("2d"),r=n.captureStream(),a=r.getVideoTracks()[0],e.prev=6,t.addTransceiver("audio",{direction:"sendrecv"}),o=t.addTransceiver(a,{direction:"sendrecv"}),s=o.sender.getParameters(),c=[{rid:"r0",maxBitrate:1e5},{rid:"r1",maxBitrate:5e5}],s.encodings=c,e.next=14,o.sender.setParameters(s);case 14:return e.next=16,t.createOffer();case 16:u=e.sent;try{n.remove()}catch(i){}try{a.stop()}catch(i){}try{t.close()}catch(i){}return l=h.parse(u.sdp),d=b.extractRtpCapabilities({sdpObject:l}),e.abrupt("return",d);case 25:e.prev=25,e.t0=e.catch(6);try{n.remove()}catch(f){}try{a.stop()}catch(f){}try{t.close()}catch(f){}throw e.t0;case 31:case"end":return e.stop()}}),e,null,[[6,25]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:k});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,n=e.direction,r=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,f=e.extendedRtpCapabilities;_.debug("run()"),this._direction=n,this._remoteSdp=new S.RemoteSdp({iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:y.getSendingRtpParameters("audio",f),video:y.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:y.getSendingRemoteRtpParameters("audio",f),video:y.getSendingRemoteRtpParameters("video",f)},this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},l),d),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not supported");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return n=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return r={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),e.next=15,this._pc.setRemoteDescription(r);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,x,S,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this._assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),a&&(a=g.clone(a,[])).length>1&&(a.forEach((function(e,t){e.rid="r".concat(t)})),a.reverse()),(c=g.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=y.reduceCodecs(c.codecs,s),(u=g.clone(this._sendingRemoteRtpParametersByKind[n.kind],{})).codecs=y.reduceCodecs(u.codecs,s),l=this._pc.addTransceiver(n,{direction:"sendonly",streams:[this._sendStream]}),!a){e.next=14;break}return(d=l.sender.getParameters()).encodings=a,e.next=14,l.sender.setParameters(d);case 14:return e.next=16,this._pc.createOffer();case 16:if(f=e.sent,p=h.parse(f.sdp),this._transportReady){e.next=21;break}return e.next=21,this._setupTransport({localDtlsRole:"client",localSdpObject:p});case 21:return _.debug("send() | calling pc.setLocalDescription() [offer:%o]",f),e.next=24,this._pc.setLocalDescription(f);case 24:if(v=l.mid,c.mid=v,p=h.parse(this._pc.localDescription.sdp),m=p.media[p.media.length-1],c.rtcp.cname=b.getCname({offerMediaObject:m}),a?1===a.length?(x=w.getRtpEncodings({offerMediaObject:m}),Object.assign(x[0],a[0]),c.encodings=x):c.encodings=a.reverse():c.encodings=w.getRtpEncodings({offerMediaObject:m}),c.encodings.length>1&&("video/vp8"===c.codecs[0].mimeType.toLowerCase()||"video/h264"===c.codecs[0].mimeType.toLowerCase())){S=r(c.encodings);try{for(S.s();!(k=S.n()).done;)k.value.scalabilityMode="S1T3"}catch(i){S.e(i)}finally{S.f()}}return this._remoteSdp.send({offerMediaObject:m,offerRtpParameters:c,answerRtpParameters:u,codecOptions:o,extmapAllowMixed:!0}),C={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("send() | calling pc.setRemoteDescription() [answer:%o]",C),e.next=36,this._pc.setRemoteDescription(C);case 36:return this._mapMidTransceiver.set(v,l),e.abrupt("return",{localId:v,rtpParameters:c,rtpSender:l.sender});case 38:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.debug("stopSending() [localId:%s]",t),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated transceiver not found");case 4:return n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.disableMediaSection(n.mid),e.next=9,this._pc.createOffer();case 9:return r=e.sent,_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),e.next=13,this._pc.setLocalDescription(r);case 13:return a={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=17,this._pc.setRemoteDescription(a);case 17:this._mapMidTransceiver.delete(t);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n?_.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):_.debug("replaceTrack() [localId:%s, no track]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,r.sender.replaceTrack(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated transceiver not found");case 5:return a=r.sender.getParameters(),n=a.encodings.length-1-n,a.encodings.forEach((function(e,t){e.active=t>=n})),e.next=10,r.sender.setParameters(a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=r.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),n)})),e.next=9,r.sender.setParameters(o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",n.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ordered,r=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this._assertSendDirection(),c={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:r,maxRetransmits:a,protocol:s},_.debug("sendDataChannel() [options:%o]",c),u=this._pc.createDataChannel(o,c),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%k.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(l=e.sent,d=h.parse(l.sdp),f=d.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:"client",localSdpObject:d});case 15:return _.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",l),e.next=18,this._pc.setLocalDescription(l);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:f}),p={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),e.next=23,this._pc.setRemoteDescription(p);case 23:this._hasDataChannelMediaSection=!0;case 24:return v={streamId:c.id,ordered:c.ordered,maxPacketLifeTime:c.maxPacketLifeTime,maxRetransmits:c.maxRetransmits},e.abrupt("return",{dataChannel:u,sctpStreamParameters:v});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,g,y,w,x,S,k,C=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),n=[],a=new Map,o=r(t);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.trackId,l=c.kind,d=c.rtpParameters,_.debug("receive() [trackId:%s, kind:%s]",u,l),f=d.mid||String(this._mapMidTransceiver.size),a.set(u,f),this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:d.rtcp.cname,trackId:u})}catch(i){o.e(i)}finally{o.f()}return p={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=9,this._pc.setRemoteDescription(p);case 9:return e.next=11,this._pc.createAnswer();case 11:v=e.sent,m=h.parse(v.sdp),g=r(t);try{for(w=function(){var e=y.value,t=e.trackId,n=e.rtpParameters,r=a.get(t),i=m.media.find((function(e){return String(e.mid)===r}));b.applyCodecParameters({offerRtpParameters:n,answerMediaObject:i}),v={type:"answer",sdp:h.write(m)}},g.s();!(y=g.n()).done;)w()}catch(i){g.e(i)}finally{g.f()}if(this._transportReady){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:"client",localSdpObject:m});case 18:return _.debug("receive() | calling pc.setLocalDescription() [answer:%o]",v),e.next=21,this._pc.setLocalDescription(v);case 21:x=r(t);try{for(k=function(){var e=S.value.trackId,t=a.get(e),r=C._pc.getTransceivers().find((function(e){return e.mid===t}));if(!r)throw new Error("new RTCRtpTransceiver not found");C._mapMidTransceiver.set(t,r),n.push({localId:t,track:r.receiver.track,rtpReceiver:r.receiver})},x.s();!(S=x.n()).done;)k()}catch(i){x.e(i)}finally{x.f()}return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),_.debug("stopReceiving() [localId:%s]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return this._remoteSdp.closeMediaSection(n.mid),r={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),e.next=10,this._pc.setRemoteDescription(r);case 10:return e.next=12,this._pc.createAnswer();case 12:return a=e.sent,_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",a),e.next=16,this._pc.setLocalDescription(a);case 16:this._mapMidTransceiver.delete(t);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),n=r(t),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=13;break}if(o=a.value,_.debug("pauseReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="inactive";case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,_.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),n=r(t),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=13;break}if(o=a.value,_.debug("resumeReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="recvonly";case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,_.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",n.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sctpStreamParameters,r=t.label,a=t.protocol,this._assertRecvDirection(),o=n.streamId,s=n.ordered,c=n.maxPacketLifeTime,u=n.maxRetransmits,l={negotiated:!0,id:o,ordered:s,maxPacketLifeTime:c,maxRetransmits:u,protocol:a},_.debug("receiveDataChannel() [options:%o]",l),d=this._pc.createDataChannel(r,l),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),f={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",f),e.next=12,this._pc.setRemoteDescription(f);case 12:return e.next=14,this._pc.createAnswer();case 14:if(p=e.sent,this._transportReady){e.next=19;break}return v=h.parse(p.sdp),e.next=19,this._setupTransport({localDtlsRole:"client",localSdpObject:v});case 19:return _.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",p),e.next=22,this._pc.setLocalDescription(p);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:d});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setupTransport",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,(r=t.localSdpObject)||(r=h.parse(this._pc.localDescription.sdp)),(a=b.extractDtlsParameters({sdpObject:r})).role=n,this._remoteSdp.updateDtlsRole("client"===n?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:a});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(x.HandlerInterface);t.Firefox60=C},4376:function(e,t,n){"use strict";var r=n(3913).default,a=n(4575).default,i=n(2205).default,o=n(9842).default;Object.defineProperty(t,"__esModule",{value:!0}),t.HandlerInterface=void 0;var s=function(e){i(n,e);var t=o(n);function n(){return a(this,n),t.call(this)}return r(n)}(n(7318).EnhancedEventEmitter);t.HandlerInterface=s},3997:function(e,t,n){"use strict";var r=n(3269).default,a=n(1109).default,i=n(9591).default,o=n(8926).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactNative=void 0;var h=p(n(5861)),v=n(4115),m=n(6431),g=p(n(3001)),y=p(n(1777)),b=p(n(8978)),w=p(n(9547)),x=n(4376),S=n(9678),_=new v.Logger("ReactNative"),k={OS:1024,MIS:1024},C=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._sendStream=new MediaStream,e._mapSendLocalIdTrack=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"ReactNative"}},{key:"close",value:function(){if(_.debug("close()"),this._sendStream.release(!1),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:n=e.sent;try{t.close()}catch(i){}return r=h.parse(n.sdp),a=b.extractRtpCapabilities({sdpObject:r}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:k});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,n=e.direction,r=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,f=e.extendedRtpCapabilities;_.debug("run()"),this._direction=n,this._remoteSdp=new S.RemoteSdp({iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:y.getSendingRtpParameters("audio",f),video:y.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:y.getSendingRemoteRtpParameters("audio",f),video:y.getSendingRemoteRtpParameters("video",f)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"},l),d),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.debug("updateIceServers()"),(n=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return n=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return r={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),e.next=15,this._pc.setRemoteDescription(r);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,_.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,x,S,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this._assertSendDirection(),_.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),s&&_.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(n),this._pc.addStream(this._sendStream),e.next=8,this._pc.createOffer();case 8:if(u=e.sent,l=h.parse(u.sdp),(f=g.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=y.reduceCodecs(f.codecs),(p=g.clone(this._sendingRemoteRtpParametersByKind[n.kind],{})).codecs=y.reduceCodecs(p.codecs),this._transportReady){e.next=17;break}return e.next=17,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:l});case 17:return"video"===n.kind&&a&&a.length>1&&(_.debug("send() | enabling simulcast"),l=h.parse(u.sdp),d=l.media.find((function(e){return"video"===e.type})),w.addLegacySimulcast({offerMediaObject:d,track:n,numStreams:a.length}),u={type:"offer",sdp:h.write(l)}),_.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(l=h.parse(this._pc.localDescription.sdp),d=l.media.find((function(e){return e.type===n.kind})),f.rtcp.cname=b.getCname({offerMediaObject:d}),f.encodings=w.getRtpEncodings({offerMediaObject:d,track:n}),a)for(v=0;v<f.encodings.length;++v)a[v]&&Object.assign(f.encodings[v],a[v]);if(f.encodings.length>1&&("video/vp8"===f.codecs[0].mimeType.toLowerCase()||"video/h264"===f.codecs[0].mimeType.toLowerCase())){m=r(f.encodings);try{for(m.s();!(x=m.n()).done;)x.value.scalabilityMode="S1T3"}catch(i){m.e(i)}finally{m.f()}}return this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:p,codecOptions:o}),S={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("send() | calling pc.setRemoteDescription() [answer:%o]",S),e.next=32,this._pc.setRemoteDescription(S);case 32:return k=String(this._nextSendLocalId),this._nextSendLocalId++,this._mapSendLocalIdTrack.set(k,n),e.abrupt("return",{localId:k,rtpParameters:f});case 36:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),_.debug("stopSending() [localId:%s]",t),n=this._mapSendLocalIdTrack.get(t)){e.next=5;break}throw new Error("track not found");case 5:return this._mapSendLocalIdTrack.delete(t),this._sendStream.removeTrack(n),this._pc.addStream(this._sendStream),e.next=10,this._pc.createOffer();case 10:return r=e.sent,_.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),e.prev=12,e.next=15,this._pc.setLocalDescription(r);case 15:e.next=23;break;case 17:if(e.prev=17,e.t0=e.catch(12),0!==this._sendStream.getTracks().length){e.next=22;break}return _.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()),e.abrupt("return");case 22:throw e.t0;case 23:if("stable"!==this._pc.signalingState){e.next=25;break}return e.abrupt("return");case 25:return a={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=29,this._pc.setRemoteDescription(a);case 29:case"end":return e.stop()}}),e,this,[[12,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ordered,r=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:r,maxRetransmitTime:r,maxRetransmits:a,protocol:s},_.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%k.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,f=h.parse(d.sdp),p=f.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:f});case 15:return _.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:p}),v={type:"answer",sdp:this._remoteSdp.getSdp()},_.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=23,this._pc.setRemoteDescription(v);case 23:this._hasDataChannelMediaSection=!0;case 24:return m={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:m});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,y,w,x,S,k,C,P,R,E=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),a=[],o=new Map,s=r(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,f=u.rtpParameters,_.debug("receive() [trackId:%s, kind:%s]",l,d),p=d,v=f.rtcp.cname,_.debug("receive() | forcing a random remote streamId to avoid well known bug in react-native-webrtc"),v+="-hack-".concat(g.generateRandomNumber()),o.set(l,v),this._remoteSdp.receive({mid:p,kind:d,offerRtpParameters:f,streamId:v,trackId:l})}catch(i){s.e(i)}finally{s.f()}return m={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",m),e.next=9,this._pc.setRemoteDescription(m);case 9:return e.next=11,this._pc.createAnswer();case 11:y=e.sent,w=h.parse(y.sdp),x=r(t);try{for(k=function(){var e=S.value,t=e.kind,n=e.rtpParameters,r=t,a=w.media.find((function(e){return String(e.mid)===r}));b.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})},x.s();!(S=x.n()).done;)k()}catch(i){x.e(i)}finally{x.f()}if(y={type:"answer",sdp:h.write(w)},this._transportReady){e.next=19;break}return e.next=19,this._setupTransport({localDtlsRole:null!==(n=this._forcedLocalDtlsRole)&&void 0!==n?n:"client",localSdpObject:w});case 19:return _.debug("receive() | calling pc.setLocalDescription() [answer:%o]",y),e.next=22,this._pc.setLocalDescription(y);case 22:C=r(t);try{for(R=function(){var e=P.value,t=e.kind,n=e.trackId,r=e.rtpParameters,i=n,s=t,c=o.get(n),u=E._pc.getRemoteStreams().find((function(e){return e.id===c})).getTrackById(i);if(!u)throw new Error("remote track not found");E._mapRecvLocalIdInfo.set(i,{mid:s,rtpParameters:r}),a.push({localId:i,track:u})},C.s();!(P=C.n()).done;)R()}catch(i){C.e(i)}finally{C.f()}return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertRecvDirection(),_.debug("stopReceiving() [localId:%s]",t),n=this._mapRecvLocalIdInfo.get(t)||{},r=n.mid,a=n.rtpParameters,this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:r,offerRtpParameters:a}),o={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",o),e.next=9,this._pc.setRemoteDescription(o);case 9:return e.next=11,this._pc.createAnswer();case 11:return s=e.sent,_.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",s),e.next=15,this._pc.setLocalDescription(s);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new m.UnsupportedError("not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sctpStreamParameters,r=t.label,a=t.protocol,this._assertRecvDirection(),s=n.streamId,c=n.ordered,u=n.maxPacketLifeTime,l=n.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmitTime:u,maxRetransmits:l,protocol:a},_.debug("receiveDataChannel() [options:%o]",d),f=this._pc.createDataChannel(r,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),p={type:"offer",sdp:this._remoteSdp.getSdp()},_.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=12,this._pc.setRemoteDescription(p);case 12:return e.next=14,this._pc.createAnswer();case 14:if(v=e.sent,this._transportReady){e.next=19;break}return m=h.parse(v.sdp),e.next=19,this._setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:m});case 19:return _.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=22,this._pc.setLocalDescription(v);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:f});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setupTransport",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,(r=t.localSdpObject)||(r=h.parse(this._pc.localDescription.sdp)),(a=b.extractDtlsParameters({sdpObject:r})).role=n,this._remoteSdp.updateDtlsRole("client"===n?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:a});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(x.HandlerInterface);t.ReactNative=C},9942:function(e,t,n){"use strict";var r=n(3269).default,a=n(1109).default,i=n(9591).default,o=n(8926).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari11=void 0;var h=p(n(5861)),v=n(4115),m=p(n(3001)),g=p(n(1777)),y=p(n(8978)),b=p(n(9547)),w=n(4376),x=n(9678),S=new v.Logger("Safari11"),_={OS:1024,MIS:1024},k=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._sendStream=new MediaStream,e._mapSendLocalIdRtpSender=new Map,e._nextSendLocalId=0,e._mapRecvLocalIdInfo=new Map,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"Safari11"}},{key:"close",value:function(){if(S.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",sdpSemantics:"plan-b"}),e.prev=2,e.next=5,t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});case 5:n=e.sent;try{t.close()}catch(i){}return r=h.parse(n.sdp),a=y.extractRtpCapabilities({sdpObject:r}),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:_});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,n=e.direction,r=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,f=e.extendedRtpCapabilities;S.debug("run()"),this._direction=n,this._remoteSdp=new x.RemoteSdp({iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:s,planB:!0}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",f),video:g.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",f),video:g.getSendingRemoteRtpParameters("video",f)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},l),d),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.debug("updateIceServers()"),(n=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return n=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return r={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),e.next=15,this._pc.setRemoteDescription(r);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,w,x,_,k,C;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this._assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),s&&S.warn("send() | codec selection is not available in %s handler",this.name),this._sendStream.addTrack(n),this._pc.addTrack(n,this._sendStream),e.next=8,this._pc.createOffer();case 8:if(u=e.sent,l=h.parse(u.sdp),(f=m.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(f.codecs),(p=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(p.codecs),this._transportReady){e.next=17;break}return e.next=17,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:l});case 17:return"video"===n.kind&&a&&a.length>1&&(S.debug("send() | enabling simulcast"),l=h.parse(u.sdp),d=l.media.find((function(e){return"video"===e.type})),b.addLegacySimulcast({offerMediaObject:d,track:n,numStreams:a.length}),u={type:"offer",sdp:h.write(l)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",u),e.next=21,this._pc.setLocalDescription(u);case 21:if(l=h.parse(this._pc.localDescription.sdp),d=l.media.find((function(e){return e.type===n.kind})),f.rtcp.cname=y.getCname({offerMediaObject:d}),f.encodings=b.getRtpEncodings({offerMediaObject:d,track:n}),a)for(v=0;v<f.encodings.length;++v)a[v]&&Object.assign(f.encodings[v],a[v]);if(f.encodings.length>1&&"video/vp8"===f.codecs[0].mimeType.toLowerCase()){w=r(f.encodings);try{for(w.s();!(x=w.n()).done;)x.value.scalabilityMode="S1T3"}catch(i){w.e(i)}finally{w.f()}}return this._remoteSdp.send({offerMediaObject:d,offerRtpParameters:f,answerRtpParameters:p,codecOptions:o}),_={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",_),e.next=32,this._pc.setRemoteDescription(_);case 32:return k=String(this._nextSendLocalId),this._nextSendLocalId++,C=this._pc.getSenders().find((function(e){return e.track===n})),this._mapSendLocalIdRtpSender.set(k,C),e.abrupt("return",{localId:k,rtpParameters:f,rtpSender:C});case 37:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return n.track&&this._sendStream.removeTrack(n.track),this._mapSendLocalIdRtpSender.delete(t),e.next=8,this._pc.createOffer();case 8:return r=e.sent,S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),e.prev=10,e.next=13,this._pc.setLocalDescription(r);case 13:e.next=21;break;case 15:if(e.prev=15,e.t0=e.catch(10),0!==this._sendStream.getTracks().length){e.next=20;break}return S.warn("stopSending() | ignoring expected error due no sending tracks: %s",e.t0.toString()),e.abrupt("return");case 20:throw e.t0;case 21:if("stable"!==this._pc.signalingState){e.next=23;break}return e.abrupt("return");case 23:return a={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=27,this._pc.setRemoteDescription(a);case 27:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n?S.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):S.debug("replaceTrack() [localId:%s, no track]",t),r=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return a=r.track,e.next=8,r.replaceTrack(n);case 8:a&&this._sendStream.removeTrack(a),n&&this._sendStream.addTrack(n);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n),r=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return(a=r.getParameters()).encodings.forEach((function(e,t){e.active=t<=n})),e.next=9,r.setParameters(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n),r=this._mapSendLocalIdRtpSender.get(t)){e.next=5;break}throw new Error("associated RTCRtpSender not found");case 5:return(o=r.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),n)})),e.next=9,r.setParameters(o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n=this._mapSendLocalIdRtpSender.get(t)){e.next=4;break}throw new Error("associated RTCRtpSender not found");case 4:return e.abrupt("return",n.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ordered,r=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:r,maxRetransmits:a,protocol:s},S.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,f=h.parse(d.sdp),p=f.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:f});case 15:return S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:p}),v={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=23,this._pc.setRemoteDescription(v);case 23:this._hasDataChannelMediaSection=!0;case 24:return m={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:m});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,g,b,w,x,_,k,C=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),a=[],o=r(t);try{for(o.s();!(s=o.n()).done;)c=s.value,u=c.trackId,l=c.kind,d=c.rtpParameters,S.debug("receive() [trackId:%s, kind:%s]",u,l),f=l,this._remoteSdp.receive({mid:f,kind:l,offerRtpParameters:d,streamId:d.rtcp.cname,trackId:u})}catch(i){o.e(i)}finally{o.f()}return p={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=8,this._pc.setRemoteDescription(p);case 8:return e.next=10,this._pc.createAnswer();case 10:v=e.sent,m=h.parse(v.sdp),g=r(t);try{for(w=function(){var e=b.value,t=e.kind,n=e.rtpParameters,r=t,a=m.media.find((function(e){return String(e.mid)===r}));y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})},g.s();!(b=g.n()).done;)w()}catch(i){g.e(i)}finally{g.f()}if(v={type:"answer",sdp:h.write(m)},this._transportReady){e.next=18;break}return e.next=18,this._setupTransport({localDtlsRole:null!==(n=this._forcedLocalDtlsRole)&&void 0!==n?n:"client",localSdpObject:m});case 18:return S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",v),e.next=21,this._pc.setLocalDescription(v);case 21:x=r(t);try{for(k=function(){var e=_.value,t=e.kind,n=e.trackId,r=e.rtpParameters,i=t,o=n,s=C._pc.getReceivers().find((function(e){return e.track&&e.track.id===o}));if(!s)throw new Error("new RTCRtpReceiver not");C._mapRecvLocalIdInfo.set(o,{mid:i,rtpParameters:r,rtpReceiver:s}),a.push({localId:o,track:s.track,rtpReceiver:s})},x.s();!(_=x.n()).done;)k()}catch(i){x.e(i)}finally{x.f()}return e.abrupt("return",a);case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._assertRecvDirection(),S.debug("stopReceiving() [localId:%s]",t),n=this._mapRecvLocalIdInfo.get(t)||{},r=n.mid,a=n.rtpParameters,this._mapRecvLocalIdInfo.delete(t),this._remoteSdp.planBStopReceiving({mid:r,offerRtpParameters:a}),o={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",o),e.next=9,this._pc.setRemoteDescription(o);case 9:return e.next=11,this._pc.createAnswer();case 11:return s=e.sent,S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",s),e.next=15,this._pc.setLocalDescription(s);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),n=this._mapRecvLocalIdInfo.get(t)||{},r=n.rtpReceiver){e.next=4;break}throw new Error("associated RTCRtpReceiver not found");case 4:return e.abrupt("return",r.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sctpStreamParameters,r=t.label,a=t.protocol,this._assertRecvDirection(),s=n.streamId,c=n.ordered,u=n.maxPacketLifeTime,l=n.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmits:l,protocol:a},S.debug("receiveDataChannel() [options:%o]",d),f=this._pc.createDataChannel(r,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation({oldDataChannelSpec:!0}),p={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=12,this._pc.setRemoteDescription(p);case 12:return e.next=14,this._pc.createAnswer();case 14:if(v=e.sent,this._transportReady){e.next=19;break}return m=h.parse(v.sdp),e.next=19,this._setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:m});case 19:return S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=22,this._pc.setLocalDescription(v);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:f});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setupTransport",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,(r=t.localSdpObject)||(r=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:r})).role=n,this._remoteSdp.updateDtlsRole("client"===n?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:a});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(w.HandlerInterface);t.Safari11=k},3767:function(e,t,n){"use strict";var r=n(3269).default,a=n(1109).default,i=n(9591).default,o=n(8926).default,s=n(4575).default,c=n(3913).default,u=n(2205).default,l=n(9842).default,d=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),f=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),p=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&d(t,e,n);return f(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Safari12=void 0;var h=p(n(5861)),v=n(4115),m=p(n(3001)),g=p(n(1777)),y=p(n(8978)),b=p(n(8480)),w=n(4376),x=n(9678),S=new v.Logger("Safari12"),_={OS:1024,MIS:1024},k=function(e){u(n,e);var t=l(n);function n(){var e;return s(this,n),(e=t.call(this))._mapMidTransceiver=new Map,e._sendStream=new MediaStream,e._hasDataChannelMediaSection=!1,e._nextSendSctpStreamId=0,e._transportReady=!1,e}return c(n,[{key:"name",get:function(){return"Safari12"}},{key:"close",value:function(){if(S.debug("close()"),this._pc)try{this._pc.close()}catch(e){}}},{key:"getNativeRtpCapabilities",value:function(){var e=o(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeRtpCapabilities()"),t=new RTCPeerConnection({iceServers:[],iceTransportPolicy:"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"}),e.prev=2,t.addTransceiver("audio"),t.addTransceiver("video"),e.next=7,t.createOffer();case 7:n=e.sent;try{t.close()}catch(i){}return r=h.parse(n.sdp),a=y.extractRtpCapabilities({sdpObject:r}),e.abrupt("return",a);case 14:e.prev=14,e.t0=e.catch(2);try{t.close()}catch(o){}throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"getNativeSctpCapabilities",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S.debug("getNativeSctpCapabilities()"),e.abrupt("return",{numStreams:_});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"run",value:function(e){var t=this,n=e.direction,r=e.iceParameters,i=e.iceCandidates,o=e.dtlsParameters,s=e.sctpParameters,c=e.iceServers,u=e.iceTransportPolicy,l=e.additionalSettings,d=e.proprietaryConstraints,f=e.extendedRtpCapabilities;S.debug("run()"),this._direction=n,this._remoteSdp=new x.RemoteSdp({iceParameters:r,iceCandidates:i,dtlsParameters:o,sctpParameters:s}),this._sendingRtpParametersByKind={audio:g.getSendingRtpParameters("audio",f),video:g.getSendingRtpParameters("video",f)},this._sendingRemoteRtpParametersByKind={audio:g.getSendingRemoteRtpParameters("audio",f),video:g.getSendingRemoteRtpParameters("video",f)},o.role&&"auto"!==o.role&&(this._forcedLocalDtlsRole="server"===o.role?"client":"server"),this._pc=new RTCPeerConnection(a({iceServers:c||[],iceTransportPolicy:u||"all",bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"},l),d),this._pc.addEventListener("iceconnectionstatechange",(function(){switch(t._pc.iceConnectionState){case"checking":t.emit("@connectionstatechange","connecting");break;case"connected":case"completed":t.emit("@connectionstatechange","connected");break;case"failed":t.emit("@connectionstatechange","failed");break;case"disconnected":t.emit("@connectionstatechange","disconnected");break;case"closed":t.emit("@connectionstatechange","closed")}}))}},{key:"updateIceServers",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S.debug("updateIceServers()"),(n=this._pc.getConfiguration()).iceServers=t,this._pc.setConfiguration(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"restartIce",value:function(){var e=o(i().mark((function e(t){var n,r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.debug("restartIce()"),this._remoteSdp.updateIceParameters(t),this._transportReady){e.next=4;break}return e.abrupt("return");case 4:if("send"!==this._direction){e.next=17;break}return e.next=7,this._pc.createOffer({iceRestart:!0});case 7:return n=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [offer:%o]",n),e.next=11,this._pc.setLocalDescription(n);case 11:return r={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [answer:%o]",r),e.next=15,this._pc.setRemoteDescription(r);case 15:e.next=27;break;case 17:return a={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("restartIce() | calling pc.setRemoteDescription() [offer:%o]",a),e.next=21,this._pc.setRemoteDescription(a);case 21:return e.next=23,this._pc.createAnswer();case 23:return o=e.sent,S.debug("restartIce() | calling pc.setLocalDescription() [answer:%o]",o),e.next=27,this._pc.setLocalDescription(o);case 27:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTransportStats",value:function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._pc.getStats());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"send",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,w,x,_,k,C,P;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.track,a=t.encodings,o=t.codecOptions,s=t.codec,this._assertSendDirection(),S.debug("send() [kind:%s, track.id:%s]",n.kind,n.id),(u=m.clone(this._sendingRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(u.codecs,s),(l=m.clone(this._sendingRemoteRtpParametersByKind[n.kind],{})).codecs=g.reduceCodecs(l.codecs,s),d=this._remoteSdp.getNextMediaSectionIdx(),f=this._pc.addTransceiver(n,{direction:"sendonly",streams:[this._sendStream]}),e.next=11,this._pc.createOffer();case 11:if(p=e.sent,v=h.parse(p.sdp),this._transportReady){e.next=16;break}return e.next=16,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:v});case 16:return a&&a.length>1&&(S.debug("send() | enabling legacy simulcast"),v=h.parse(p.sdp),w=v.media[d.idx],b.addLegacySimulcast({offerMediaObject:w,numStreams:a.length}),p={type:"offer",sdp:h.write(v)}),S.debug("send() | calling pc.setLocalDescription() [offer:%o]",p),e.next=20,this._pc.setLocalDescription(p);case 20:if(x=f.mid,u.mid=x,v=h.parse(this._pc.localDescription.sdp),w=v.media[d.idx],u.rtcp.cname=y.getCname({offerMediaObject:w}),u.encodings=b.getRtpEncodings({offerMediaObject:w}),a)for(_=0;_<u.encodings.length;++_)a[_]&&Object.assign(u.encodings[_],a[_]);if(u.encodings.length>1&&("video/vp8"===u.codecs[0].mimeType.toLowerCase()||"video/h264"===u.codecs[0].mimeType.toLowerCase())){k=r(u.encodings);try{for(k.s();!(C=k.n()).done;)C.value.scalabilityMode="S1T3"}catch(i){k.e(i)}finally{k.f()}}return this._remoteSdp.send({offerMediaObject:w,reuseMid:d.reuseMid,offerRtpParameters:u,answerRtpParameters:l,codecOptions:o}),P={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("send() | calling pc.setRemoteDescription() [answer:%o]",P),e.next=33,this._pc.setRemoteDescription(P);case 33:return this._mapMidTransceiver.set(x,f),e.abrupt("return",{localId:x,rtpParameters:u,rtpSender:f.sender});case 35:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopSending",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),S.debug("stopSending() [localId:%s]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return n.sender.replaceTrack(null),this._pc.removeTrack(n.sender),this._remoteSdp.closeMediaSection(n.mid),e.next=10,this._pc.createOffer();case 10:return r=e.sent,S.debug("stopSending() | calling pc.setLocalDescription() [offer:%o]",r),e.next=14,this._pc.setLocalDescription(r);case 14:return a={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("stopSending() | calling pc.setRemoteDescription() [answer:%o]",a),e.next=18,this._pc.setRemoteDescription(a);case 18:this._mapMidTransceiver.delete(t);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"replaceTrack",value:function(){var e=o(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n?S.debug("replaceTrack() [localId:%s, track.id:%s]",t,n.id):S.debug("replaceTrack() [localId:%s, no track]",t),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return e.next=7,r.sender.replaceTrack(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setMaxSpatialLayer",value:function(){var e=o(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),S.debug("setMaxSpatialLayer() [localId:%s, spatialLayer:%s]",t,n),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(a=r.sender.getParameters()).encodings.forEach((function(e,t){e.active=t<=n})),e.next=9,r.sender.setParameters(a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setRtpEncodingParameters",value:function(){var e=o(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),S.debug("setRtpEncodingParameters() [localId:%s, params:%o]",t,n),r=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return(o=r.sender.getParameters()).encodings.forEach((function(e,t){o.encodings[t]=a(a({},e),n)})),e.next=9,r.sender.setParameters(o);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getSenderStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertSendDirection(),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",n.sender.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.ordered,r=t.maxPacketLifeTime,a=t.maxRetransmits,o=t.label,s=t.protocol,this._assertSendDirection(),u={negotiated:!0,id:this._nextSendSctpStreamId,ordered:n,maxPacketLifeTime:r,maxRetransmits:a,protocol:s},S.debug("sendDataChannel() [options:%o]",u),l=this._pc.createDataChannel(o,u),this._nextSendSctpStreamId=++this._nextSendSctpStreamId%_.MIS,this._hasDataChannelMediaSection){e.next=24;break}return e.next=9,this._pc.createOffer();case 9:if(d=e.sent,f=h.parse(d.sdp),p=f.media.find((function(e){return"application"===e.type})),this._transportReady){e.next=15;break}return e.next=15,this._setupTransport({localDtlsRole:null!==(c=this._forcedLocalDtlsRole)&&void 0!==c?c:"client",localSdpObject:f});case 15:return S.debug("sendDataChannel() | calling pc.setLocalDescription() [offer:%o]",d),e.next=18,this._pc.setLocalDescription(d);case 18:return this._remoteSdp.sendSctpAssociation({offerMediaObject:p}),v={type:"answer",sdp:this._remoteSdp.getSdp()},S.debug("sendDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=23,this._pc.setRemoteDescription(v);case 23:this._hasDataChannelMediaSection=!0;case 24:return m={streamId:u.id,ordered:u.ordered,maxPacketLifeTime:u.maxPacketLifeTime,maxRetransmits:u.maxRetransmits},e.abrupt("return",{dataChannel:l,sctpStreamParameters:m});case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receive",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u,l,d,f,p,v,m,g,b,w,x,_,k,C,P=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),a=[],o=new Map,s=r(t);try{for(s.s();!(c=s.n()).done;)u=c.value,l=u.trackId,d=u.kind,f=u.rtpParameters,S.debug("receive() [trackId:%s, kind:%s]",l,d),p=f.mid||String(this._mapMidTransceiver.size),o.set(l,p),this._remoteSdp.receive({mid:p,kind:d,offerRtpParameters:f,streamId:f.rtcp.cname,trackId:l})}catch(i){s.e(i)}finally{s.f()}return v={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receive() | calling pc.setRemoteDescription() [offer:%o]",v),e.next=9,this._pc.setRemoteDescription(v);case 9:return e.next=11,this._pc.createAnswer();case 11:m=e.sent,g=h.parse(m.sdp),b=r(t);try{for(x=function(){var e=w.value,t=e.trackId,n=e.rtpParameters,r=o.get(t),a=g.media.find((function(e){return String(e.mid)===r}));y.applyCodecParameters({offerRtpParameters:n,answerMediaObject:a})},b.s();!(w=b.n()).done;)x()}catch(i){b.e(i)}finally{b.f()}if(m={type:"answer",sdp:h.write(g)},this._transportReady){e.next=19;break}return e.next=19,this._setupTransport({localDtlsRole:null!==(n=this._forcedLocalDtlsRole)&&void 0!==n?n:"client",localSdpObject:g});case 19:return S.debug("receive() | calling pc.setLocalDescription() [answer:%o]",m),e.next=22,this._pc.setLocalDescription(m);case 22:_=r(t);try{for(C=function(){var e=k.value.trackId,t=o.get(e),n=P._pc.getTransceivers().find((function(e){return e.mid===t}));if(!n)throw new Error("new RTCRtpTransceiver not found");P._mapMidTransceiver.set(t,n),a.push({localId:t,track:n.receiver.track,rtpReceiver:n.receiver})},_.s();!(k=_.n()).done;)C()}catch(i){_.e(i)}finally{_.f()}return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopReceiving",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),S.debug("stopReceiving() [localId:%s]",t),n=this._mapMidTransceiver.get(t)){e.next=5;break}throw new Error("associated RTCRtpTransceiver not found");case 5:return this._remoteSdp.closeMediaSection(n.mid),r={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("stopReceiving() | calling pc.setRemoteDescription() [offer:%o]",r),e.next=10,this._pc.setRemoteDescription(r);case 10:return e.next=12,this._pc.createAnswer();case 12:return a=e.sent,S.debug("stopReceiving() | calling pc.setLocalDescription() [answer:%o]",a),e.next=16,this._pc.setLocalDescription(a);case 16:this._mapMidTransceiver.delete(t);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseReceiving",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),n=r(t),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=13;break}if(o=a.value,S.debug("pauseReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="inactive";case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("pauseReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,S.debug("pauseReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"resumeReceiving",value:function(){var e=o(i().mark((function e(t){var n,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._assertRecvDirection(),n=r(t),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=13;break}if(o=a.value,S.debug("resumeReceiving() [localId:%s]",o),s=this._mapMidTransceiver.get(o)){e.next=10;break}throw new Error("associated RTCRtpTransceiver not found");case 10:s.direction="recvonly";case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return c={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("resumeReceiving() | calling pc.setRemoteDescription() [offer:%o]",c),e.next=25,this._pc.setRemoteDescription(c);case 25:return e.next=27,this._pc.createAnswer();case 27:return u=e.sent,S.debug("resumeReceiving() | calling pc.setLocalDescription() [answer:%o]",u),e.next=31,this._pc.setLocalDescription(u);case 31:case"end":return e.stop()}}),e,this,[[2,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getReceiverStats",value:function(){var e=o(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._assertRecvDirection(),n=this._mapMidTransceiver.get(t)){e.next=4;break}throw new Error("associated RTCRtpTransceiver not found");case 4:return e.abrupt("return",n.receiver.getStats());case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"receiveDataChannel",value:function(){var e=o(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,v,m;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sctpStreamParameters,r=t.label,a=t.protocol,this._assertRecvDirection(),s=n.streamId,c=n.ordered,u=n.maxPacketLifeTime,l=n.maxRetransmits,d={negotiated:!0,id:s,ordered:c,maxPacketLifeTime:u,maxRetransmits:l,protocol:a},S.debug("receiveDataChannel() [options:%o]",d),f=this._pc.createDataChannel(r,d),this._hasDataChannelMediaSection){e.next=23;break}return this._remoteSdp.receiveSctpAssociation(),p={type:"offer",sdp:this._remoteSdp.getSdp()},S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [offer:%o]",p),e.next=12,this._pc.setRemoteDescription(p);case 12:return e.next=14,this._pc.createAnswer();case 14:if(v=e.sent,this._transportReady){e.next=19;break}return m=h.parse(v.sdp),e.next=19,this._setupTransport({localDtlsRole:null!==(o=this._forcedLocalDtlsRole)&&void 0!==o?o:"client",localSdpObject:m});case 19:return S.debug("receiveDataChannel() | calling pc.setRemoteDescription() [answer:%o]",v),e.next=22,this._pc.setLocalDescription(v);case 22:this._hasDataChannelMediaSection=!0;case 23:return e.abrupt("return",{dataChannel:f});case 24:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_setupTransport",value:function(){var e=o(i().mark((function e(t){var n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.localDtlsRole,(r=t.localSdpObject)||(r=h.parse(this._pc.localDescription.sdp)),(a=y.extractDtlsParameters({sdpObject:r})).role=n,this._remoteSdp.updateDtlsRole("client"===n?"server":"client"),e.next=7,this.safeEmitAsPromise("@connect",{dtlsParameters:a});case 7:this._transportReady=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_assertSendDirection",value:function(){if("send"!==this._direction)throw new Error('method can just be called for handlers with "send" direction')}},{key:"_assertRecvDirection",value:function(){if("recv"!==this._direction)throw new Error('method can just be called for handlers with "recv" direction')}}],[{key:"createFactory",value:function(){return function(){return new n}}}]),n}(w.HandlerInterface);t.Safari12=k},9132:function(e,t,n){"use strict";var r=n(3269).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.mangleRtpParameters=t.getCapabilities=void 0;var s=o(n(3001));t.getCapabilities=function(){var e,t=RTCRtpReceiver.getCapabilities(),n=s.clone(t,{}),a=r(n.codecs);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i.channels=i.numChannels,delete i.numChannels,i.mimeType=i.mimeType||"".concat(i.kind,"/").concat(i.name),i.parameters){var o=i.parameters;o.apt&&(o.apt=Number(o.apt)),o["packetization-mode"]&&(o["packetization-mode"]=Number(o["packetization-mode"]))}var c,u=r(i.rtcpFeedback||[]);try{for(u.s();!(c=u.n()).done;){var l=c.value;l.parameter||(l.parameter="")}}catch(d){u.e(d)}finally{u.f()}}}catch(d){a.e(d)}finally{a.f()}return n},t.mangleRtpParameters=function(e){var t=s.clone(e,{});t.mid&&(t.muxId=t.mid,delete t.mid);var n,a=r(t.codecs);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.channels&&(i.numChannels=i.channels,delete i.channels),i.mimeType&&!i.name&&(i.name=i.mimeType.split("/")[1]),delete i.mimeType}}catch(o){a.e(o)}finally{a.f()}return t}},4112:function(e,t,n){"use strict";var r=n(2205).default,a=n(9842).default,i=n(3269).default,o=n(4575).default,s=n(3913).default,c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&c(t,e,n);return u(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OfferMediaSection=t.AnswerMediaSection=t.MediaSection=void 0;var d=l(n(3001)),f=function(){function e(t){var n=t.iceParameters,r=t.iceCandidates,a=t.dtlsParameters,s=t.planB,c=void 0!==s&&s;if(o(this,e),this._mediaObject={},this._planB=c,n&&this.setIceParameters(n),r){this._mediaObject.candidates=[];var u,l=i(r);try{for(l.s();!(u=l.n()).done;){var d=u.value,f={component:1};f.foundation=d.foundation,f.ip=d.ip,f.port=d.port,f.priority=d.priority,f.transport=d.protocol,f.type=d.type,d.tcpType&&(f.tcptype=d.tcpType),this._mediaObject.candidates.push(f)}}catch(p){l.e(p)}finally{l.f()}this._mediaObject.endOfCandidates="end-of-candidates",this._mediaObject.iceOptions="renomination"}a&&this.setDtlsRole(a.role)}return s(e,[{key:"mid",get:function(){return String(this._mediaObject.mid)}},{key:"closed",get:function(){return 0===this._mediaObject.port}},{key:"getObject",value:function(){return this._mediaObject}},{key:"setIceParameters",value:function(e){this._mediaObject.iceUfrag=e.usernameFragment,this._mediaObject.icePwd=e.password}},{key:"disable",value:function(){this._mediaObject.direction="inactive",delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids}},{key:"close",value:function(){this._mediaObject.direction="inactive",this._mediaObject.port=0,delete this._mediaObject.ext,delete this._mediaObject.ssrcs,delete this._mediaObject.ssrcGroups,delete this._mediaObject.simulcast,delete this._mediaObject.simulcast_03,delete this._mediaObject.rids,delete this._mediaObject.extmapAllowMixed}}]),e}();t.MediaSection=f;var p=function(e){r(n,e);var t=a(n);function n(e){var r,a=e.iceParameters,s=e.iceCandidates,c=e.dtlsParameters,u=e.sctpParameters,l=e.plainRtpParameters,f=e.planB,p=void 0!==f&&f,h=e.offerMediaObject,m=e.offerRtpParameters,g=e.answerRtpParameters,y=e.codecOptions,b=e.extmapAllowMixed,w=void 0!==b&&b;switch(o(this,n),(r=t.call(this,{iceParameters:a,iceCandidates:s,dtlsParameters:c,planB:p}))._mediaObject.mid=String(h.mid),r._mediaObject.type=h.type,r._mediaObject.protocol=h.protocol,l?(r._mediaObject.connection={ip:l.ip,version:l.ipVersion},r._mediaObject.port=l.port):(r._mediaObject.connection={ip:"127.0.0.1",version:4},r._mediaObject.port=7),h.type){case"audio":case"video":r._mediaObject.direction="recvonly",r._mediaObject.rtp=[],r._mediaObject.rtcpFb=[],r._mediaObject.fmtp=[];var x,S=i(g.codecs);try{var _=function(){var e=x.value,t={payload:e.payloadType,codec:v(e),rate:e.clockRate};e.channels>1&&(t.encoding=e.channels),r._mediaObject.rtp.push(t);var n=d.clone(e.parameters,{});if(y){var a=y.opusStereo,o=y.opusFec,s=y.opusDtx,c=y.opusMaxPlaybackRate,u=y.opusMaxAverageBitrate,l=y.opusPtime,f=y.videoGoogleStartBitrate,p=y.videoGoogleMaxBitrate,h=y.videoGoogleMinBitrate,g=m.codecs.find((function(t){return t.payloadType===e.payloadType}));switch(e.mimeType.toLowerCase()){case"audio/opus":void 0!==a&&(g.parameters["sprop-stereo"]=a?1:0,n.stereo=a?1:0),void 0!==o&&(g.parameters.useinbandfec=o?1:0,n.useinbandfec=o?1:0),void 0!==s&&(g.parameters.usedtx=s?1:0,n.usedtx=s?1:0),void 0!==c&&(n.maxplaybackrate=c),void 0!==u&&(n.maxaveragebitrate=u),void 0!==l&&(g.parameters.ptime=l,n.ptime=l);break;case"video/vp8":case"video/vp9":case"video/h264":case"video/h265":void 0!==f&&(n["x-google-start-bitrate"]=f),void 0!==p&&(n["x-google-max-bitrate"]=p),void 0!==h&&(n["x-google-min-bitrate"]=h)}}for(var b={payload:e.payloadType,config:""},w=0,S=Object.keys(n);w<S.length;w++){var _=S[w];b.config&&(b.config+=";"),b.config+="".concat(_,"=").concat(n[_])}b.config&&r._mediaObject.fmtp.push(b);var k,C=i(e.rtcpFeedback);try{for(C.s();!(k=C.n()).done;){var P=k.value;r._mediaObject.rtcpFb.push({payload:e.payloadType,type:P.type,subtype:P.parameter})}}catch(R){C.e(R)}finally{C.f()}};for(S.s();!(x=S.n()).done;)_()}catch(L){S.e(L)}finally{S.f()}r._mediaObject.payloads=g.codecs.map((function(e){return e.payloadType})).join(" "),r._mediaObject.ext=[];var k,C=i(g.headerExtensions);try{var P=function(){var e=k.value;if(!(h.ext||[]).some((function(t){return t.uri===e.uri})))return"continue";r._mediaObject.ext.push({uri:e.uri,value:e.id})};for(C.s();!(k=C.n()).done;)P()}catch(L){C.e(L)}finally{C.f()}if(w&&"extmap-allow-mixed"===h.extmapAllowMixed&&(r._mediaObject.extmapAllowMixed="extmap-allow-mixed"),h.simulcast){r._mediaObject.simulcast={dir1:"recv",list1:h.simulcast.list1},r._mediaObject.rids=[];var R,E=i(h.rids||[]);try{for(E.s();!(R=E.n()).done;){var j=R.value;"send"===j.direction&&r._mediaObject.rids.push({id:j.id,direction:"recv"})}}catch(L){E.e(L)}finally{E.f()}}else if(h.simulcast_03){r._mediaObject.simulcast_03={value:h.simulcast_03.value.replace(/send/g,"recv")},r._mediaObject.rids=[];var T,O=i(h.rids||[]);try{for(O.s();!(T=O.n()).done;){var M=T.value;"send"===M.direction&&r._mediaObject.rids.push({id:M.id,direction:"recv"})}}catch(L){O.e(L)}finally{O.f()}}r._mediaObject.rtcpMux="rtcp-mux",r._mediaObject.rtcpRsize="rtcp-rsize",r._planB&&"video"===r._mediaObject.type&&(r._mediaObject.xGoogleFlag="conference");break;case"application":"number"===typeof h.sctpPort?(r._mediaObject.payloads="webrtc-datachannel",r._mediaObject.sctpPort=u.port,r._mediaObject.maxMessageSize=u.maxMessageSize):h.sctpmap&&(r._mediaObject.payloads=u.port,r._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:u.port,maxMessageSize:u.maxMessageSize})}return r}return s(n,[{key:"setDtlsRole",value:function(e){switch(e){case"client":this._mediaObject.setup="active";break;case"server":this._mediaObject.setup="passive";break;case"auto":this._mediaObject.setup="actpass"}}}]),n}(f);t.AnswerMediaSection=p;var h=function(e){r(n,e);var t=a(n);function n(e){var r,a=e.iceParameters,s=e.iceCandidates,c=e.dtlsParameters,u=e.sctpParameters,l=e.plainRtpParameters,d=e.planB,f=void 0!==d&&d,p=e.mid,h=e.kind,m=e.offerRtpParameters,g=e.streamId,y=e.trackId,b=e.oldDataChannelSpec,w=void 0!==b&&b;switch(o(this,n),(r=t.call(this,{iceParameters:a,iceCandidates:s,dtlsParameters:c,planB:f}))._mediaObject.mid=String(p),r._mediaObject.type=h,l?(r._mediaObject.connection={ip:l.ip,version:l.ipVersion},r._mediaObject.protocol="RTP/AVP",r._mediaObject.port=l.port):(r._mediaObject.connection={ip:"127.0.0.1",version:4},r._mediaObject.protocol=u?"UDP/DTLS/SCTP":"UDP/TLS/RTP/SAVPF",r._mediaObject.port=7),h){case"audio":case"video":r._mediaObject.direction="sendonly",r._mediaObject.rtp=[],r._mediaObject.rtcpFb=[],r._mediaObject.fmtp=[],r._planB||(r._mediaObject.msid="".concat(g||"-"," ").concat(y));var x,S=i(m.codecs);try{for(S.s();!(x=S.n()).done;){var _=x.value,k={payload:_.payloadType,codec:v(_),rate:_.clockRate};_.channels>1&&(k.encoding=_.channels),r._mediaObject.rtp.push(k);for(var C={payload:_.payloadType,config:""},P=0,R=Object.keys(_.parameters);P<R.length;P++){var E=R[P];C.config&&(C.config+=";"),C.config+="".concat(E,"=").concat(_.parameters[E])}C.config&&r._mediaObject.fmtp.push(C);var j,T=i(_.rtcpFeedback);try{for(T.s();!(j=T.n()).done;){var O=j.value;r._mediaObject.rtcpFb.push({payload:_.payloadType,type:O.type,subtype:O.parameter})}}catch(F){T.e(F)}finally{T.f()}}}catch(F){S.e(F)}finally{S.f()}r._mediaObject.payloads=m.codecs.map((function(e){return e.payloadType})).join(" "),r._mediaObject.ext=[];var M,L=i(m.headerExtensions);try{for(L.s();!(M=L.n()).done;){var D=M.value;r._mediaObject.ext.push({uri:D.uri,value:D.id})}}catch(F){L.e(F)}finally{L.f()}r._mediaObject.rtcpMux="rtcp-mux",r._mediaObject.rtcpRsize="rtcp-rsize";var A=m.encodings[0],I=A.ssrc,N=A.rtx&&A.rtx.ssrc?A.rtx.ssrc:void 0;r._mediaObject.ssrcs=[],r._mediaObject.ssrcGroups=[],m.rtcp.cname&&r._mediaObject.ssrcs.push({id:I,attribute:"cname",value:m.rtcp.cname}),r._planB&&r._mediaObject.ssrcs.push({id:I,attribute:"msid",value:"".concat(g||"-"," ").concat(y)}),N&&(m.rtcp.cname&&r._mediaObject.ssrcs.push({id:N,attribute:"cname",value:m.rtcp.cname}),r._planB&&r._mediaObject.ssrcs.push({id:N,attribute:"msid",value:"".concat(g||"-"," ").concat(y)}),r._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(I," ").concat(N)}));break;case"application":w?(r._mediaObject.payloads=u.port,r._mediaObject.sctpmap={app:"webrtc-datachannel",sctpmapNumber:u.port,maxMessageSize:u.maxMessageSize}):(r._mediaObject.payloads="webrtc-datachannel",r._mediaObject.sctpPort=u.port,r._mediaObject.maxMessageSize=u.maxMessageSize)}return r}return s(n,[{key:"setDtlsRole",value:function(e){this._mediaObject.setup="actpass"}},{key:"planBReceive",value:function(e){var t,n=this,r=e.offerRtpParameters,a=e.streamId,o=e.trackId,s=r.encodings[0],c=s.ssrc,u=s.rtx&&s.rtx.ssrc?s.rtx.ssrc:void 0,l=this._mediaObject.payloads.split(" "),d=i(r.codecs);try{for(d.s();!(t=d.n()).done;){var f=t.value;if(!l.includes(String(f.payloadType))){var p={payload:f.payloadType,codec:v(f),rate:f.clockRate};f.channels>1&&(p.encoding=f.channels),this._mediaObject.rtp.push(p);for(var h={payload:f.payloadType,config:""},m=0,g=Object.keys(f.parameters);m<g.length;m++){var y=g[m];h.config&&(h.config+=";"),h.config+="".concat(y,"=").concat(f.parameters[y])}h.config&&this._mediaObject.fmtp.push(h);var b,w=i(f.rtcpFeedback);try{for(w.s();!(b=w.n()).done;){var x=b.value;this._mediaObject.rtcpFb.push({payload:f.payloadType,type:x.type,subtype:x.parameter})}}catch(S){w.e(S)}finally{w.f()}}}}catch(S){d.e(S)}finally{d.f()}this._mediaObject.payloads+=" ".concat(r.codecs.filter((function(e){return!n._mediaObject.payloads.includes(e.payloadType)})).map((function(e){return e.payloadType})).join(" ")),this._mediaObject.payloads=this._mediaObject.payloads.trim(),r.rtcp.cname&&this._mediaObject.ssrcs.push({id:c,attribute:"cname",value:r.rtcp.cname}),this._mediaObject.ssrcs.push({id:c,attribute:"msid",value:"".concat(a||"-"," ").concat(o)}),u&&(r.rtcp.cname&&this._mediaObject.ssrcs.push({id:u,attribute:"cname",value:r.rtcp.cname}),this._mediaObject.ssrcs.push({id:u,attribute:"msid",value:"".concat(a||"-"," ").concat(o)}),this._mediaObject.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(c," ").concat(u)}))}},{key:"planBStopReceiving",value:function(e){var t=e.offerRtpParameters.encodings[0],n=t.ssrc,r=t.rtx&&t.rtx.ssrc?t.rtx.ssrc:void 0;this._mediaObject.ssrcs=this._mediaObject.ssrcs.filter((function(e){return e.id!==n&&e.id!==r})),r&&(this._mediaObject.ssrcGroups=this._mediaObject.ssrcGroups.filter((function(e){return e.ssrcs!=="".concat(n," ").concat(r)})))}}]),n}(f);function v(e){var t=new RegExp("^(audio|video)/(.+)","i").exec(e.mimeType);if(!t)throw new TypeError("invalid codec.mimeType");return t[2]}t.OfferMediaSection=h},9678:function(e,t,n){"use strict";var r=n(3269).default,a=n(4575).default,i=n(3913).default,o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSdp=void 0;var u=c(n(5861)),l=n(4115),d=n(4112),f=new l.Logger("RemoteSdp"),p=function(){function e(t){var n=t.iceParameters,r=t.iceCandidates,i=t.dtlsParameters,o=t.sctpParameters,s=t.plainRtpParameters,c=t.planB,u=void 0!==c&&c;if(a(this,e),this._mediaSections=[],this._midToIndex=new Map,this._iceParameters=n,this._iceCandidates=r,this._dtlsParameters=i,this._sctpParameters=o,this._plainRtpParameters=s,this._planB=u,this._sdpObject={version:0,origin:{address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:1e4,sessionVersion:0,username:"mediasoup-client"},name:"-",timing:{start:0,stop:0},media:[]},n&&n.iceLite&&(this._sdpObject.icelite="ice-lite"),i){this._sdpObject.msidSemantic={semantic:"WMS",token:"*"};var l=this._dtlsParameters.fingerprints.length;this._sdpObject.fingerprint={type:i.fingerprints[l-1].algorithm,hash:i.fingerprints[l-1].value},this._sdpObject.groups=[{type:"BUNDLE",mids:""}]}s&&(this._sdpObject.origin.address=s.ip,this._sdpObject.origin.ipVer=s.ipVersion)}return i(e,[{key:"updateIceParameters",value:function(e){f.debug("updateIceParameters() [iceParameters:%o]",e),this._iceParameters=e,this._sdpObject.icelite=e.iceLite?"ice-lite":void 0;var t,n=r(this._mediaSections);try{for(n.s();!(t=n.n()).done;){t.value.setIceParameters(e)}}catch(a){n.e(a)}finally{n.f()}}},{key:"updateDtlsRole",value:function(e){f.debug("updateDtlsRole() [role:%s]",e),this._dtlsParameters.role=e;var t,n=r(this._mediaSections);try{for(n.s();!(t=n.n()).done;){t.value.setDtlsRole(e)}}catch(a){n.e(a)}finally{n.f()}}},{key:"getNextMediaSectionIdx",value:function(){for(var e=0;e<this._mediaSections.length;++e){var t=this._mediaSections[e];if(t.closed)return{idx:e,reuseMid:t.mid}}return{idx:this._mediaSections.length}}},{key:"send",value:function(e){var t=e.offerMediaObject,n=e.reuseMid,r=e.offerRtpParameters,a=e.answerRtpParameters,i=e.codecOptions,o=e.extmapAllowMixed,s=void 0!==o&&o,c=new d.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,offerMediaObject:t,offerRtpParameters:r,answerRtpParameters:a,codecOptions:i,extmapAllowMixed:s});n?this._replaceMediaSection(c,n):this._midToIndex.has(c.mid)?this._replaceMediaSection(c):this._addMediaSection(c)}},{key:"receive",value:function(e){var t,n=e.mid,r=e.kind,a=e.offerRtpParameters,i=e.streamId,o=e.trackId,s=this._midToIndex.get(n);if(void 0!==s&&(t=this._mediaSections[s]),t)t.planBReceive({offerRtpParameters:a,streamId:i,trackId:o}),this._replaceMediaSection(t);else{t=new d.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,plainRtpParameters:this._plainRtpParameters,planB:this._planB,mid:n,kind:r,offerRtpParameters:a,streamId:i,trackId:o});var c=this._mediaSections.find((function(e){return e.closed}));c?this._replaceMediaSection(t,c.mid):this._addMediaSection(t)}}},{key:"disableMediaSection",value:function(e){var t=this._midToIndex.get(e);if(void 0===t)throw new Error("no media section found with mid '".concat(e,"'"));this._mediaSections[t].disable()}},{key:"closeMediaSection",value:function(e){var t=this._midToIndex.get(e);if(void 0===t)throw new Error("no media section found with mid '".concat(e,"'"));var n=this._mediaSections[t];if(e===this._firstMid)return f.debug("closeMediaSection() | cannot close first media section, disabling it instead [mid:%s]",e),void this.disableMediaSection(e);n.close(),this._regenerateBundleMids()}},{key:"planBStopReceiving",value:function(e){var t=e.mid,n=e.offerRtpParameters,r=this._midToIndex.get(t);if(void 0===r)throw new Error("no media section found with mid '".concat(t,"'"));var a=this._mediaSections[r];a.planBStopReceiving({offerRtpParameters:n}),this._replaceMediaSection(a)}},{key:"sendSctpAssociation",value:function(e){var t=e.offerMediaObject,n=new d.AnswerMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,offerMediaObject:t});this._addMediaSection(n)}},{key:"receiveSctpAssociation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.oldDataChannelSpec,n=void 0!==t&&t,r=new d.OfferMediaSection({iceParameters:this._iceParameters,iceCandidates:this._iceCandidates,dtlsParameters:this._dtlsParameters,sctpParameters:this._sctpParameters,plainRtpParameters:this._plainRtpParameters,mid:"datachannel",kind:"application",oldDataChannelSpec:n});this._addMediaSection(r)}},{key:"getSdp",value:function(){return this._sdpObject.origin.sessionVersion++,u.write(this._sdpObject)}},{key:"_addMediaSection",value:function(e){this._firstMid||(this._firstMid=e.mid),this._mediaSections.push(e),this._midToIndex.set(e.mid,this._mediaSections.length-1),this._sdpObject.media.push(e.getObject()),this._regenerateBundleMids()}},{key:"_replaceMediaSection",value:function(e,t){if("string"===typeof t){var n=this._midToIndex.get(t);if(void 0===n)throw new Error("no media section found for reuseMid '".concat(t,"'"));var r=this._mediaSections[n];this._mediaSections[n]=e,this._midToIndex.delete(r.mid),this._midToIndex.set(e.mid,n),this._sdpObject.media[n]=e.getObject(),this._regenerateBundleMids()}else{var a=this._midToIndex.get(e.mid);if(void 0===a)throw new Error("no media section found with mid '".concat(e.mid,"'"));this._mediaSections[a]=e,this._sdpObject.media[a]=e.getObject()}}},{key:"_regenerateBundleMids",value:function(){this._dtlsParameters&&(this._sdpObject.groups[0].mids=this._mediaSections.filter((function(e){return!e.closed})).map((function(e){return e.mid})).join(" "))}}]),e}();t.RemoteSdp=p},8978:function(e,t,n){"use strict";var r=n(3269).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.applyCodecParameters=t.getCname=t.extractDtlsParameters=t.extractRtpCapabilities=void 0;var s=o(n(5861));t.extractRtpCapabilities=function(e){var t,n=e.sdpObject,a=new Map,i=[],o=!1,c=!1,u=r(n.media);try{for(u.s();!(t=u.n()).done;){var l=t.value,d=l.type;switch(d){case"audio":if(o)continue;o=!0;break;case"video":if(c)continue;c=!0;break;default:continue}var f,p=r(l.rtp);try{for(p.s();!(f=p.n()).done;){var h=f.value,v={kind:d,mimeType:"".concat(d,"/").concat(h.codec),preferredPayloadType:h.payload,clockRate:h.rate,channels:h.encoding,parameters:{},rtcpFeedback:[]};a.set(v.preferredPayloadType,v)}}catch(T){p.e(T)}finally{p.f()}var m,g=r(l.fmtp||[]);try{for(g.s();!(m=g.n()).done;){var y=m.value,b=s.parseParams(y.config),w=a.get(y.payload);w&&(b&&b.hasOwnProperty("profile-level-id")&&(b["profile-level-id"]=String(b["profile-level-id"])),w.parameters=b)}}catch(T){g.e(T)}finally{g.f()}var x,S=r(l.rtcpFb||[]);try{for(S.s();!(x=S.n()).done;){var _=x.value,k=a.get(_.payload);if(k){var C={type:_.type,parameter:_.subtype};C.parameter||delete C.parameter,k.rtcpFeedback.push(C)}}}catch(T){S.e(T)}finally{S.f()}var P,R=r(l.ext||[]);try{for(R.s();!(P=R.n()).done;){var E=P.value;if(!E["encrypt-uri"]){var j={kind:d,uri:E.uri,preferredId:E.value};i.push(j)}}}catch(T){R.e(T)}finally{R.f()}}}catch(T){u.e(T)}finally{u.f()}return{codecs:Array.from(a.values()),headerExtensions:i}},t.extractDtlsParameters=function(e){var t=e.sdpObject,n=(t.media||[]).find((function(e){return e.iceUfrag&&0!==e.port}));if(!n)throw new Error("no active media section found");var r,a=n.fingerprint||t.fingerprint;switch(n.setup){case"active":r="client";break;case"passive":r="server";break;case"actpass":r="auto"}return{role:r,fingerprints:[{algorithm:a.type,value:a.hash}]}},t.getCname=function(e){var t=(e.offerMediaObject.ssrcs||[]).find((function(e){return"cname"===e.attribute}));return t?t.value:""},t.applyCodecParameters=function(e){var t,n=e.offerRtpParameters,a=e.answerMediaObject,i=r(n.codecs);try{var o=function(){var e=t.value,n=e.mimeType.toLowerCase();if("audio/opus"!==n)return"continue";if(!(a.rtp||[]).find((function(t){return t.payload===e.payloadType})))return"continue";a.fmtp=a.fmtp||[];var r=a.fmtp.find((function(t){return t.payload===e.payloadType}));r||(r={payload:e.payloadType,config:""},a.fmtp.push(r));var i=s.parseParams(r.config);if("audio/opus"===n){var o=e.parameters["sprop-stereo"];void 0!==o&&(i.stereo=o?1:0)}r.config="";for(var c=0,u=Object.keys(i);c<u.length;c++){var l=u[c];r.config&&(r.config+=";"),r.config+="".concat(l,"=").concat(i[l])}};for(i.s();!(t=i.n()).done;)o()}catch(c){i.e(c)}finally{i.f()}}},9547:function(e,t,n){"use strict";var r=n(3038).default,a=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function(e){var t,n,i=e.offerMediaObject,o=e.track,s=new Set,c=a(i.ssrcs||[]);try{for(c.s();!(n=c.n()).done;){var u=n.value;if("msid"===u.attribute)if(u.value.split(" ")[1]===o.id){var l=u.id;s.add(l),t||(t=l)}}}catch(j){c.e(j)}finally{c.f()}if(0===s.size)throw new Error("a=ssrc line with msid information not found [track.id:".concat(o.id,"]"));var d,f=new Map,p=a(i.ssrcGroups||[]);try{for(p.s();!(d=p.n()).done;){var h=d.value;if("FID"===h.semantics){var v=h.ssrcs.split(/\s+/),m=r(v,2),g=m[0],y=m[1];g=Number(g),y=Number(y),s.has(g)&&(s.delete(g),s.delete(y),f.set(g,y))}}}catch(j){p.e(j)}finally{p.f()}var b,w=a(s);try{for(w.s();!(b=w.n()).done;){var x=b.value;f.set(x,null)}}catch(j){w.e(j)}finally{w.f()}var S,_=[],k=a(f);try{for(k.s();!(S=k.n()).done;){var C=r(S.value,2),P=C[0],R=C[1],E={ssrc:P};R&&(E.rtx={ssrc:R}),_.push(E)}}catch(j){k.e(j)}finally{k.f()}return _},t.addLegacySimulcast=function(e){var t,n,r,a=e.offerMediaObject,i=e.track,o=e.numStreams;if(o<=1)throw new TypeError("numStreams must be greater than 1");if(!(a.ssrcs||[]).find((function(e){return"msid"===e.attribute&&(e.value.split(" ")[1]===i.id&&(t=e.id,r=e.value.split(" ")[0],!0))})))throw new Error("a=ssrc line with msid information not found [track.id:".concat(i.id,"]"));(a.ssrcGroups||[]).some((function(e){if("FID"!==e.semantics)return!1;var r=e.ssrcs.split(/\s+/);return Number(r[0])===t&&(n=Number(r[1]),!0)}));var s=a.ssrcs.find((function(e){return"cname"===e.attribute&&e.id===t}));if(!s)throw new Error("a=ssrc line with cname information not found [track.id:".concat(i.id,"]"));for(var c=s.value,u=[],l=[],d=0;d<o;++d)u.push(t+d),n&&l.push(n+d);a.ssrcGroups=a.ssrcGroups||[],a.ssrcs=a.ssrcs||[],a.ssrcGroups.push({semantics:"SIM",ssrcs:u.join(" ")});for(var f=0;f<u.length;++f){var p=u[f];a.ssrcs.push({id:p,attribute:"cname",value:c}),a.ssrcs.push({id:p,attribute:"msid",value:"".concat(r," ").concat(i.id)})}for(var h=0;h<l.length;++h){var v=u[h],m=l[h];a.ssrcs.push({id:m,attribute:"cname",value:c}),a.ssrcs.push({id:m,attribute:"msid",value:"".concat(r," ").concat(i.id)}),a.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(v," ").concat(m)})}}},8480:function(e,t,n){"use strict";var r=n(3038).default,a=n(3269).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addLegacySimulcast=t.getRtpEncodings=void 0,t.getRtpEncodings=function(e){var t,n=e.offerMediaObject,i=new Set,o=a(n.ssrcs||[]);try{for(o.s();!(t=o.n()).done;){var s=t.value.id;i.add(s)}}catch(P){o.e(P)}finally{o.f()}if(0===i.size)throw new Error("no a=ssrc lines found");var c,u=new Map,l=a(n.ssrcGroups||[]);try{for(l.s();!(c=l.n()).done;){var d=c.value;if("FID"===d.semantics){var f=d.ssrcs.split(/\s+/),p=r(f,2),h=p[0],v=p[1];h=Number(h),v=Number(v),i.has(h)&&(i.delete(h),i.delete(v),u.set(h,v))}}}catch(P){l.e(P)}finally{l.f()}var m,g=a(i);try{for(g.s();!(m=g.n()).done;){var y=m.value;u.set(y,null)}}catch(P){g.e(P)}finally{g.f()}var b,w=[],x=a(u);try{for(x.s();!(b=x.n()).done;){var S=r(b.value,2),_=S[0],k=S[1],C={ssrc:_};k&&(C.rtx={ssrc:k}),w.push(C)}}catch(P){x.e(P)}finally{x.f()}return w},t.addLegacySimulcast=function(e){var t=e.offerMediaObject,n=e.numStreams;if(n<=1)throw new TypeError("numStreams must be greater than 1");var a=(t.ssrcs||[]).find((function(e){return"msid"===e.attribute}));if(!a)throw new Error("a=ssrc line with msid information not found");var i,o=a.value.split(" "),s=r(o,2),c=s[0],u=s[1],l=a.id;(t.ssrcGroups||[]).some((function(e){if("FID"!==e.semantics)return!1;var t=e.ssrcs.split(/\s+/);return Number(t[0])===l&&(i=Number(t[1]),!0)}));var d=t.ssrcs.find((function(e){return"cname"===e.attribute}));if(!d)throw new Error("a=ssrc line with cname information not found");for(var f=d.value,p=[],h=[],v=0;v<n;++v)p.push(l+v),i&&h.push(i+v);t.ssrcGroups=[],t.ssrcs=[],t.ssrcGroups.push({semantics:"SIM",ssrcs:p.join(" ")});for(var m=0;m<p.length;++m){var g=p[m];t.ssrcs.push({id:g,attribute:"cname",value:f}),t.ssrcs.push({id:g,attribute:"msid",value:"".concat(c," ").concat(u)})}for(var y=0;y<h.length;++y){var b=p[y],w=h[y];t.ssrcs.push({id:w,attribute:"cname",value:f}),t.ssrcs.push({id:w,attribute:"msid",value:"".concat(c," ").concat(u)}),t.ssrcGroups.push({semantics:"FID",ssrcs:"".concat(b," ").concat(w)})}}},1947:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.debug=t.parseScalabilityMode=t.detectDevice=t.Device=t.version=t.types=void 0;var s=o(n(8392));t.debug=s.default;var c=n(5703);Object.defineProperty(t,"Device",{enumerable:!0,get:function(){return c.Device}}),Object.defineProperty(t,"detectDevice",{enumerable:!0,get:function(){return c.detectDevice}});var u=i(n(507));t.types=u,t.version="3.6.52";var l=n(8732);Object.defineProperty(t,"parseScalabilityMode",{enumerable:!0,get:function(){return l.parse}})},1777:function(e,t,n){"use strict";var r=n(3269).default,a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.canReceive=t.canSend=t.generateProbatorRtpParameters=t.reduceCodecs=t.getSendingRemoteRtpParameters=t.getSendingRtpParameters=t.getRecvRtpCapabilities=t.getExtendedRtpCapabilities=t.validateSctpStreamParameters=t.validateSctpParameters=t.validateNumSctpStreams=t.validateSctpCapabilities=t.validateRtcpParameters=t.validateRtpEncodingParameters=t.validateRtpHeaderExtensionParameters=t.validateRtpCodecParameters=t.validateRtpParameters=t.validateRtpHeaderExtension=t.validateRtcpFeedback=t.validateRtpCodecCapability=t.validateRtpCapabilities=void 0;var s=o(n(4434)),c=o(n(3001));function u(e){var t=new RegExp("^(audio|video)/(.+)","i");if("object"!==typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!==typeof e.mimeType)throw new TypeError("missing codec.mimeType");var n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if(e.kind=n[1].toLowerCase(),e.preferredPayloadType&&"number"!==typeof e.preferredPayloadType)throw new TypeError("invalid codec.preferredPayloadType");if("number"!==typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===e.kind?"number"!==typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(var a=0,i=Object.keys(e.parameters);a<i.length;a++){var o=i[a],s=e.parameters[o];if(void 0===s&&(e.parameters[o]="",s=""),"string"!==typeof s&&"number"!==typeof s)throw new TypeError("invalid codec parameter [key:".concat(o,"s, value:").concat(s,"]"));if("apt"===o&&"number"!==typeof s)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);var c,u=r(e.rtcpFeedback);try{for(u.s();!(c=u.n()).done;){l(c.value)}}catch(d){u.e(d)}finally{u.f()}}function l(e){if("object"!==typeof e)throw new TypeError("fb is not an object");if(!e.type||"string"!==typeof e.type)throw new TypeError("missing fb.type");e.parameter&&"string"===typeof e.parameter||(e.parameter="")}function d(e){if("object"!==typeof e)throw new TypeError("ext is not an object");if("audio"!==e.kind&&"video"!==e.kind)throw new TypeError("invalid ext.kind");if(!e.uri||"string"!==typeof e.uri)throw new TypeError("missing ext.uri");if("number"!==typeof e.preferredId)throw new TypeError("missing ext.preferredId");if(e.preferredEncrypt&&"boolean"!==typeof e.preferredEncrypt)throw new TypeError("invalid ext.preferredEncrypt");if(e.preferredEncrypt||(e.preferredEncrypt=!1),e.direction&&"string"!==typeof e.direction)throw new TypeError("invalid ext.direction");e.direction||(e.direction="sendrecv")}function f(e){if("object"!==typeof e)throw new TypeError("params is not an object");if(e.mid&&"string"!==typeof e.mid)throw new TypeError("params.mid is not a string");if(!Array.isArray(e.codecs))throw new TypeError("missing params.codecs");var t,n=r(e.codecs);try{for(n.s();!(t=n.n()).done;){p(t.value)}}catch(c){n.e(c)}finally{n.f()}if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("params.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);var a,i=r(e.headerExtensions);try{for(i.s();!(a=i.n()).done;){h(a.value)}}catch(c){i.e(c)}finally{i.f()}if(e.encodings&&!Array.isArray(e.encodings))throw new TypeError("params.encodings is not an array");e.encodings||(e.encodings=[]);var o,s=r(e.encodings);try{for(s.s();!(o=s.n()).done;){v(o.value)}}catch(c){s.e(c)}finally{s.f()}if(e.rtcp&&"object"!==typeof e.rtcp)throw new TypeError("params.rtcp is not an object");e.rtcp||(e.rtcp={}),m(e.rtcp)}function p(e){var t=new RegExp("^(audio|video)/(.+)","i");if("object"!==typeof e)throw new TypeError("codec is not an object");if(!e.mimeType||"string"!==typeof e.mimeType)throw new TypeError("missing codec.mimeType");var n=t.exec(e.mimeType);if(!n)throw new TypeError("invalid codec.mimeType");if("number"!==typeof e.payloadType)throw new TypeError("missing codec.payloadType");if("number"!==typeof e.clockRate)throw new TypeError("missing codec.clockRate");"audio"===n[1].toLowerCase()?"number"!==typeof e.channels&&(e.channels=1):delete e.channels,e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(var a=0,i=Object.keys(e.parameters);a<i.length;a++){var o=i[a],s=e.parameters[o];if(void 0===s&&(e.parameters[o]="",s=""),"string"!==typeof s&&"number"!==typeof s)throw new TypeError("invalid codec parameter [key:".concat(o,"s, value:").concat(s,"]"));if("apt"===o&&"number"!==typeof s)throw new TypeError("invalid codec apt parameter")}e.rtcpFeedback&&Array.isArray(e.rtcpFeedback)||(e.rtcpFeedback=[]);var c,u=r(e.rtcpFeedback);try{for(u.s();!(c=u.n()).done;){l(c.value)}}catch(d){u.e(d)}finally{u.f()}}function h(e){if("object"!==typeof e)throw new TypeError("ext is not an object");if(!e.uri||"string"!==typeof e.uri)throw new TypeError("missing ext.uri");if("number"!==typeof e.id)throw new TypeError("missing ext.id");if(e.encrypt&&"boolean"!==typeof e.encrypt)throw new TypeError("invalid ext.encrypt");e.encrypt||(e.encrypt=!1),e.parameters&&"object"===typeof e.parameters||(e.parameters={});for(var t=0,n=Object.keys(e.parameters);t<n.length;t++){var r=n[t],a=e.parameters[r];if(void 0===a&&(e.parameters[r]="",a=""),"string"!==typeof a&&"number"!==typeof a)throw new TypeError("invalid header extension parameter")}}function v(e){if("object"!==typeof e)throw new TypeError("encoding is not an object");if(e.ssrc&&"number"!==typeof e.ssrc)throw new TypeError("invalid encoding.ssrc");if(e.rid&&"string"!==typeof e.rid)throw new TypeError("invalid encoding.rid");if(e.rtx&&"object"!==typeof e.rtx)throw new TypeError("invalid encoding.rtx");if(e.rtx&&"number"!==typeof e.rtx.ssrc)throw new TypeError("missing encoding.rtx.ssrc");if(e.dtx&&"boolean"===typeof e.dtx||(e.dtx=!1),e.scalabilityMode&&"string"!==typeof e.scalabilityMode)throw new TypeError("invalid encoding.scalabilityMode")}function m(e){if("object"!==typeof e)throw new TypeError("rtcp is not an object");if(e.cname&&"string"!==typeof e.cname)throw new TypeError("invalid rtcp.cname");e.reducedSize&&"boolean"===typeof e.reducedSize||(e.reducedSize=!0)}function g(e){if("object"!==typeof e)throw new TypeError("numStreams is not an object");if("number"!==typeof e.OS)throw new TypeError("missing numStreams.OS");if("number"!==typeof e.MIS)throw new TypeError("missing numStreams.MIS")}function y(e){return!!e&&/.+\/rtx$/i.test(e.mimeType)}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.strict,a=void 0!==r&&r,i=n.modify,o=void 0!==i&&i,c=e.mimeType.toLowerCase(),u=t.mimeType.toLowerCase();if(c!==u)return!1;if(e.clockRate!==t.clockRate)return!1;if(e.channels!==t.channels)return!1;switch(c){case"video/h264":if(a){var l,d=e.parameters["packetization-mode"]||0,f=t.parameters["packetization-mode"]||0;if(d!==f)return!1;if(!s.isSameProfile(e.parameters,t.parameters))return!1;try{l=s.generateProfileLevelIdForAnswer(e.parameters,t.parameters)}catch(v){return!1}o&&(l?(e.parameters["profile-level-id"]=l,t.parameters["profile-level-id"]=l):(delete e.parameters["profile-level-id"],delete t.parameters["profile-level-id"]))}break;case"video/vp9":if(a){var p=e.parameters["profile-id"]||0,h=t.parameters["profile-id"]||0;if(p!==h)return!1}}return!0}function w(e,t){var n,a=[],i=r(e.rtcpFeedback||[]);try{var o=function(){var e=n.value,r=(t.rtcpFeedback||[]).find((function(t){return t.type===e.type&&(t.parameter===e.parameter||!t.parameter&&!e.parameter)}));r&&a.push(r)};for(i.s();!(n=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return a}t.validateRtpCapabilities=function(e){if("object"!==typeof e)throw new TypeError("caps is not an object");if(e.codecs&&!Array.isArray(e.codecs))throw new TypeError("caps.codecs is not an array");e.codecs||(e.codecs=[]);var t,n=r(e.codecs);try{for(n.s();!(t=n.n()).done;){u(t.value)}}catch(o){n.e(o)}finally{n.f()}if(e.headerExtensions&&!Array.isArray(e.headerExtensions))throw new TypeError("caps.headerExtensions is not an array");e.headerExtensions||(e.headerExtensions=[]);var a,i=r(e.headerExtensions);try{for(i.s();!(a=i.n()).done;){d(a.value)}}catch(o){i.e(o)}finally{i.f()}},t.validateRtpCodecCapability=u,t.validateRtcpFeedback=l,t.validateRtpHeaderExtension=d,t.validateRtpParameters=f,t.validateRtpCodecParameters=p,t.validateRtpHeaderExtensionParameters=h,t.validateRtpEncodingParameters=v,t.validateRtcpParameters=m,t.validateSctpCapabilities=function(e){if("object"!==typeof e)throw new TypeError("caps is not an object");if(!e.numStreams||"object"!==typeof e.numStreams)throw new TypeError("missing caps.numStreams");g(e.numStreams)},t.validateNumSctpStreams=g,t.validateSctpParameters=function(e){if("object"!==typeof e)throw new TypeError("params is not an object");if("number"!==typeof e.port)throw new TypeError("missing params.port");if("number"!==typeof e.OS)throw new TypeError("missing params.OS");if("number"!==typeof e.MIS)throw new TypeError("missing params.MIS");if("number"!==typeof e.maxMessageSize)throw new TypeError("missing params.maxMessageSize")},t.validateSctpStreamParameters=function(e){if("object"!==typeof e)throw new TypeError("params is not an object");if("number"!==typeof e.streamId)throw new TypeError("missing params.streamId");var t=!1;if("boolean"===typeof e.ordered?t=!0:e.ordered=!0,e.maxPacketLifeTime&&"number"!==typeof e.maxPacketLifeTime)throw new TypeError("invalid params.maxPacketLifeTime");if(e.maxRetransmits&&"number"!==typeof e.maxRetransmits)throw new TypeError("invalid params.maxRetransmits");if(e.maxPacketLifeTime&&e.maxRetransmits)throw new TypeError("cannot provide both maxPacketLifeTime and maxRetransmits");if(t&&e.ordered&&(e.maxPacketLifeTime||e.maxRetransmits))throw new TypeError("cannot be ordered with maxPacketLifeTime or maxRetransmits");if(t||!e.maxPacketLifeTime&&!e.maxRetransmits||(e.ordered=!1),e.label&&"string"!==typeof e.label)throw new TypeError("invalid params.label");if(e.protocol&&"string"!==typeof e.protocol)throw new TypeError("invalid params.protocol")},t.getExtendedRtpCapabilities=function(e,t){var n,a={codecs:[],headerExtensions:[]},i=r(t.codecs||[]);try{var o=function(){var t=n.value;if(y(t))return"continue";var r=(e.codecs||[]).find((function(e){return b(e,t,{strict:!0,modify:!0})}));if(!r)return"continue";var i={mimeType:r.mimeType,kind:r.kind,clockRate:r.clockRate,channels:r.channels,localPayloadType:r.preferredPayloadType,localRtxPayloadType:void 0,remotePayloadType:t.preferredPayloadType,remoteRtxPayloadType:void 0,localParameters:r.parameters,remoteParameters:t.parameters,rtcpFeedback:w(r,t)};a.codecs.push(i)};for(i.s();!(n=i.n()).done;)o()}catch(p){i.e(p)}finally{i.f()}var s,c=r(a.codecs);try{var u=function(){var n=s.value,r=e.codecs.find((function(e){return y(e)&&e.parameters.apt===n.localPayloadType})),a=t.codecs.find((function(e){return y(e)&&e.parameters.apt===n.remotePayloadType}));r&&a&&(n.localRtxPayloadType=r.preferredPayloadType,n.remoteRtxPayloadType=a.preferredPayloadType)};for(c.s();!(s=c.n()).done;)u()}catch(p){c.e(p)}finally{c.f()}var l,d=r(t.headerExtensions);try{var f=function(){var t=l.value,n=e.headerExtensions.find((function(e){return r=t,(!(n=e).kind||!r.kind||n.kind===r.kind)&&n.uri===r.uri;var n,r}));if(!n)return"continue";var r={kind:t.kind,uri:t.uri,sendId:n.preferredId,recvId:t.preferredId,encrypt:n.preferredEncrypt,direction:"sendrecv"};switch(t.direction){case"sendrecv":r.direction="sendrecv";break;case"recvonly":r.direction="sendonly";break;case"sendonly":r.direction="recvonly";break;case"inactive":r.direction="inactive"}a.headerExtensions.push(r)};for(d.s();!(l=d.n()).done;)f()}catch(p){d.e(p)}finally{d.f()}return a},t.getRecvRtpCapabilities=function(e){var t,n={codecs:[],headerExtensions:[]},a=r(e.codecs);try{for(a.s();!(t=a.n()).done;){var i=t.value,o={mimeType:i.mimeType,kind:i.kind,preferredPayloadType:i.remotePayloadType,clockRate:i.clockRate,channels:i.channels,parameters:i.localParameters,rtcpFeedback:i.rtcpFeedback};if(n.codecs.push(o),i.remoteRtxPayloadType){var s={mimeType:"".concat(i.kind,"/rtx"),kind:i.kind,preferredPayloadType:i.remoteRtxPayloadType,clockRate:i.clockRate,parameters:{apt:i.remotePayloadType},rtcpFeedback:[]};n.codecs.push(s)}}}catch(f){a.e(f)}finally{a.f()}var c,u=r(e.headerExtensions);try{for(u.s();!(c=u.n()).done;){var l=c.value;if("sendrecv"===l.direction||"recvonly"===l.direction){var d={kind:l.kind,uri:l.uri,preferredId:l.recvId,preferredEncrypt:l.encrypt,direction:l.direction};n.headerExtensions.push(d)}}}catch(f){u.e(f)}finally{u.f()}return n},t.getSendingRtpParameters=function(e,t){var n,a={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},i=r(t.codecs);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.kind===e){var s={mimeType:o.mimeType,payloadType:o.localPayloadType,clockRate:o.clockRate,channels:o.channels,parameters:o.localParameters,rtcpFeedback:o.rtcpFeedback};if(a.codecs.push(s),o.localRtxPayloadType){var c={mimeType:"".concat(o.kind,"/rtx"),payloadType:o.localRtxPayloadType,clockRate:o.clockRate,parameters:{apt:o.localPayloadType},rtcpFeedback:[]};a.codecs.push(c)}}}}catch(p){i.e(p)}finally{i.f()}var u,l=r(t.headerExtensions);try{for(l.s();!(u=l.n()).done;){var d=u.value;if(!(d.kind&&d.kind!==e||"sendrecv"!==d.direction&&"sendonly"!==d.direction)){var f={uri:d.uri,id:d.sendId,encrypt:d.encrypt,parameters:{}};a.headerExtensions.push(f)}}}catch(p){l.e(p)}finally{l.f()}return a},t.getSendingRemoteRtpParameters=function(e,t){var n,a={mid:void 0,codecs:[],headerExtensions:[],encodings:[],rtcp:{}},i=r(t.codecs);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.kind===e){var s={mimeType:o.mimeType,payloadType:o.localPayloadType,clockRate:o.clockRate,channels:o.channels,parameters:o.remoteParameters,rtcpFeedback:o.rtcpFeedback};if(a.codecs.push(s),o.localRtxPayloadType){var c={mimeType:"".concat(o.kind,"/rtx"),payloadType:o.localRtxPayloadType,clockRate:o.clockRate,parameters:{apt:o.localPayloadType},rtcpFeedback:[]};a.codecs.push(c)}}}}catch(S){i.e(S)}finally{i.f()}var u,l=r(t.headerExtensions);try{for(l.s();!(u=l.n()).done;){var d=u.value;if(!(d.kind&&d.kind!==e||"sendrecv"!==d.direction&&"sendonly"!==d.direction)){var f={uri:d.uri,id:d.sendId,encrypt:d.encrypt,parameters:{}};a.headerExtensions.push(f)}}}catch(S){l.e(S)}finally{l.f()}if(a.headerExtensions.some((function(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e.uri}))){var p,h=r(a.codecs);try{for(h.s();!(p=h.n()).done;){var v=p.value;v.rtcpFeedback=(v.rtcpFeedback||[]).filter((function(e){return"goog-remb"!==e.type}))}}catch(S){h.e(S)}finally{h.f()}}else if(a.headerExtensions.some((function(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e.uri}))){var m,g=r(a.codecs);try{for(g.s();!(m=g.n()).done;){var y=m.value;y.rtcpFeedback=(y.rtcpFeedback||[]).filter((function(e){return"transport-cc"!==e.type}))}}catch(S){g.e(S)}finally{g.f()}}else{var b,w=r(a.codecs);try{for(w.s();!(b=w.n()).done;){var x=b.value;x.rtcpFeedback=(x.rtcpFeedback||[]).filter((function(e){return"transport-cc"!==e.type&&"goog-remb"!==e.type}))}}catch(S){w.e(S)}finally{w.f()}}return a},t.reduceCodecs=function(e,t){var n=[];if(t){for(var r=0;r<e.length;++r)if(b(e[r],t)){n.push(e[r]),y(e[r+1])&&n.push(e[r+1]);break}if(0===n.length)throw new TypeError("no matching codec found")}else n.push(e[0]),y(e[1])&&n.push(e[1]);return n},t.generateProbatorRtpParameters=function(e){f(e=c.clone(e,{}));var t={mid:"probator",codecs:[],headerExtensions:[],encodings:[{ssrc:1234}],rtcp:{cname:"probator"}};return t.codecs.push(e.codecs[0]),t.codecs[0].payloadType=127,t.headerExtensions=e.headerExtensions,t},t.canSend=function(e,t){return t.codecs.some((function(t){return t.kind===e}))},t.canReceive=function(e,t){if(f(e),0===e.codecs.length)return!1;var n=e.codecs[0];return t.codecs.some((function(e){return e.remotePayloadType===n.payloadType}))}},8732:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;var n=new RegExp("^[LS]([1-9]\\d{0,1})T([1-9]\\d{0,1})");t.parse=function(e){var t=n.exec(e||"");return t?{spatialLayers:Number(t[1]),temporalLayers:Number(t[2])}:{spatialLayers:1,temporalLayers:1}}},507:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),a(n(5703),t),a(n(475),t),a(n(9277),t),a(n(1098),t),a(n(7358),t),a(n(6919),t),a(n(2366),t),a(n(1045),t),a(n(4376),t),a(n(6431),t)},3001:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRandomNumber=t.clone=void 0,t.clone=function(e,t){return"undefined"===typeof e?t:JSON.parse(JSON.stringify(e))},t.generateRandomNumber=function(){return Math.round(1e7*Math.random())}},8193:function(e){var t=1e3,n=60*t,r=60*n,a=24*r,i=7*a,o=365.25*a;function s(e,t,n,r){var a=t>=1.5*n;return Math.round(e/n)+" "+r+(a?"s":"")}e.exports=function(e,c){c=c||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!s)return;var c=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*a;case"hours":case"hour":case"hrs":case"hr":case"h":return c*r;case"minutes":case"minute":case"mins":case"min":case"m":return c*n;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===u&&isFinite(e))return c.long?function(e){var i=Math.abs(e);if(i>=a)return s(e,i,a,"day");if(i>=r)return s(e,i,r,"hour");if(i>=n)return s(e,i,n,"minute");if(i>=t)return s(e,i,t,"second");return e+" ms"}(e):function(e){var i=Math.abs(e);if(i>=a)return Math.round(e/a)+"d";if(i>=r)return Math.round(e/r)+"h";if(i>=n)return Math.round(e/n)+"m";if(i>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),a=n(5296);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),R=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var I,N=Object.assign;function F(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var B=!1;function V(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var a=u.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var c="\n"+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case C:return"Profiler";case k:return"StrictMode";case j:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,ke=null;function Ce(e){if(e=ba(e)){if("function"!==typeof Se)throw Error(i(280));var t=e.stateNode;t&&(t=xa(t),Se(e.stateNode,e.type,t))}}function Pe(e){_e?ke?ke.push(e):ke=[e]:_e=e}function Re(){if(_e){var e=_e,t=ke;if(ke=_e=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ee(e,t){return e(t)}function je(){}var Te=!1;function Oe(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ee(e,t,n)}finally{Te=!1,(null!==_e||null!==ke)&&(je(),Re())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Le=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Le=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Le=!1}function Ae(e,t,n,r,a,i,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var Ie=!1,Ne=null,Fe=!1,Be=null,Ve={onError:function(e){Ie=!0,Ne=e}};function ze(e,t,n,r,a,i,o,s,c){Ie=!1,Ne=null,Ae.apply(Ve,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return We(a),e;if(o===r)return We(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ze(e):null}function Ze(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ze(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ye=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ct|0)|0},st=Math.log,ct=Math.LN2;var ut=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,St,_t,kt,Ct,Pt=!1,Rt=[],Et=null,jt=null,Tt=null,Ot=new Map,Mt=new Map,Lt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function It(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Nt(e){var t=ya(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Pt=!1,null!==Et&&Ft(Et)&&(Et=null),null!==jt&&Ft(jt)&&(jt=null),null!==Tt&&Ft(Tt)&&(Tt=null),Ot.forEach(Bt),Mt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Vt)))}function Ut(e){function t(t){return zt(t,e)}if(0<Rt.length){zt(Rt[0],e);for(var n=1;n<Rt.length;n++){var r=Rt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&zt(Et,e),null!==jt&&zt(jt,e),null!==Tt&&zt(Tt,e),Ot.forEach(t),Mt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Lt.shift()}var Ht=w.ReactCurrentBatchConfig,Wt=!0;function qt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=1,$t(e,t,n,r)}finally{bt=a,Ht.transition=i}}function Zt(e,t,n,r){var a=bt,i=Ht.transition;Ht.transition=null;try{bt=4,$t(e,t,n,r)}finally{bt=a,Ht.transition=i}}function $t(e,t,n,r){if(Wt){var a=Gt(e,t,n,r);if(null===a)Wr(e,t,r,Kt,n),At(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=It(Et,e,t,n,r,a),!0;case"dragenter":return jt=It(jt,e,t,n,r,a),!0;case"mouseover":return Tt=It(Tt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return Ot.set(i,It(Ot.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Mt.set(i,It(Mt.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&xt(i),null===(i=Gt(e,t,n,r))&&Wr(e,t,r,Kt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Gt(e,t,n,r){if(Kt=null,null!==(e=ya(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(un),dn=N({},un,{view:0,detail:0}),fn=an(dn),pn=N({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,sn=e.screenY-cn.screenY):sn=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),vn=an(N({},pn,{dataTransfer:0})),mn=an(N({},dn,{relatedTarget:0})),gn=an(N({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=N({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),wn=an(N({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Cn(){return kn}var Pn=N({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Rn=an(Pn),En=an(N({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=an(N({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Tn=an(N({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=N({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=an(On),Ln=[9,13,27,32],Dn=l&&"CompositionEvent"in window,An=null;l&&"documentMode"in document&&(An=document.documentMode);var In=l&&"TextEvent"in window&&!An,Nn=l&&(!Dn||An&&8<An&&11>=An),Fn=String.fromCharCode(32),Bn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Pe(r),0<(t=Zr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zn=null,$n=null;function Kn(e){Fr(e,0)}function Gn(e){if($(wa(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Zn&&(Zn.detachEvent("onpropertychange",nr),$n=Zn=null)}function nr(e){if("value"===e.propertyName&&Gn($n)){var t=[];qn(t,$n,e,xe(e)),Oe(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Zn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn($n)}function ir(e,t){if("click"===e)return Gn(t)}function or(e,t){if("input"===e||"change"===e)return Gn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=lr(n,i);var o=lr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Zr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},kr={};function Cr(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return _r[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Pr=Cr("animationend"),Rr=Cr("animationiteration"),Er=Cr("animationstart"),jr=Cr("transitionend"),Tr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Tr.set(e,t),c(t,[e])}for(var Lr=0;Lr<Or.length;Lr++){var Dr=Or[Lr];Mr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Mr(Pr,"onAnimationEnd"),Mr(Rr,"onAnimationIteration"),Mr(Er,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(jr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,c,u){if(ze.apply(this,arguments),Ie){if(!Ie)throw Error(i(198));var l=Ne;Ie=!1,Ne=null,Fe||(Fe=!0,Be=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;Nr(a,s,u),i=c}else for(o=0;o<r.length;o++){if(c=(s=r[o]).instance,u=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;Nr(a,s,u),i=c}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[va];void 0===n&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Ir.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var a=qt;break;case 4:a=Zt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===a||8===c.nodeType&&c.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(c=o.tag)||6===c){r=i=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=i,a=xe(n),o=[];e:{var s=Tr.get(e);if(void 0!==s){var c=ln,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Rn;break;case"focusin":u="focus",c=mn;break;case"focusout":u="blur",c=mn;break;case"beforeblur":case"afterblur":c=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=jn;break;case Pr:case Rr:case Er:c=gn;break;case jr:c=Tn;break;case"scroll":c=fn;break;case"wheel":c=Mn;break;case"copy":case"cut":case"paste":c=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=En}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=r;null!==h;){var v=(p=h).stateNode;if(5===p.tag&&null!==v&&(p=v,null!==f&&(null!=(v=Me(h,f))&&l.push(qr(h,v,p)))),d)break;h=h.return}0<l.length&&(s=new c(s,u,null,n,a),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!ya(u)&&!u[ha])&&(c||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ya(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=hn,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=En,v="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==c?s:wa(c),p=null==u?s:wa(u),(s=new l(v,h+"leave",c,n,a)).target=d,s.relatedTarget=p,v=null,ya(a)===r&&((l=new l(f,h+"enter",u,n,a)).target=p,l.relatedTarget=d,v=l),d=v,c&&u)e:{for(f=u,h=0,p=l=c;p;p=$r(p))h++;for(p=0,v=f;v;v=$r(v))p++;for(;0<h-p;)l=$r(l),h--;for(;0<p-h;)f=$r(f),p--;for(;h--;){if(l===f||null!==f&&l===f.alternate)break e;l=$r(l),f=$r(f)}l=null}else l=null;null!==c&&Kr(o,s,c,l,!1),null!==u&&null!==d&&Kr(o,d,u,l,!0)}if("select"===(c=(s=r?wa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Qn;else if(Wn(s))if(Yn)m=or;else{m=ar;var g=rr}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ir);switch(m&&(m=m(e,r))?qn(o,m,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?wa(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,a);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,a)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Xt="value"in(Yt=a)?Yt.value:Yt.textContent,Un=!0)),0<(g=Zr(r,b)).length&&(b=new wn(b,e,null,n,a),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=In?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Jt=Xt=Yt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Zr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Fr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Me(e,n))&&r.unshift(qr(e,i,a)),null!=(i=Me(e,t))&&r.push(qr(e,i,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,a?null!=(c=Me(n,i))&&o.unshift(qr(n,c,s)):a||null!=(c=Me(n,i))&&o.push(qr(n,c,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(i(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ca(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ua(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function la(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ha="__reactContainer$"+da,va="__reactEvents$"+da,ma="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=la(e);null!==e;){if(n=e[fa])return n;e=la(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xa(e){return e[pa]||null}var Sa=[],_a=-1;function ka(e){return{current:e}}function Ca(e){0>_a||(e.current=Sa[_a],Sa[_a]=null,_a--)}function Pa(e,t){_a++,Sa[_a]=e.current,e.current=t}var Ra={},Ea=ka(Ra),ja=ka(!1),Ta=Ra;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Ra;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ma(e){return null!==(e=e.childContextTypes)&&void 0!==e}function La(){Ca(ja),Ca(Ea)}function Da(e,t,n){if(Ea.current!==Ra)throw Error(i(168));Pa(Ea,t),Pa(ja,n)}function Aa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,H(e)||"Unknown",a));return N({},n,r)}function Ia(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ra,Ta=Ea.current,Pa(Ea,e),Pa(ja,ja.current),!0}function Na(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Aa(e,t,Ta),r.__reactInternalMemoizedMergedChildContext=e,Ca(ja),Ca(Ea),Pa(Ea,e)):Ca(ja),Pa(ja,n)}var Fa=null,Ba=!1,Va=!1;function za(e){null===Fa?Fa=[e]:Fa.push(e)}function Ua(){if(!Va&&null!==Fa){Va=!0;var e=0,t=bt;try{var n=Fa;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fa=null,Ba=!1}catch(a){throw null!==Fa&&(Fa=Fa.slice(e+1)),$e(Je,Ua),a}finally{bt=t,Va=!1}}return null}var Ha=w.ReactCurrentBatchConfig;function Wa(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var qa=ka(null),Za=null,$a=null,Ka=null;function Ga(){Ka=$a=Za=null}function Qa(e){var t=qa.current;Ca(qa),e._currentValue=t}function Ya(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xa(e,t){Za=e,Ka=$a=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ja(e){var t=e._currentValue;if(Ka!==e)if(e={context:e,memoizedValue:t,next:null},null===$a){if(null===Za)throw Error(i(308));$a=e,Za.dependencies={lanes:0,firstContext:e}}else $a=$a.next=e;return t}var ei=null,ti=!1;function ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ai(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ii(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tu(e)?(null===(e=n.interleaved)?(t.next=t,null===ei?ei=[n]:ei.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ci(e,t,n,r){var a=e.updateQueue;ti=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,u=c.next;c.next=null,null===o?i=u:o.next=u,o=c;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=u:s.next=u,l.lastBaseUpdate=c))}if(null!==i){var d=a.baseState;for(o=0,l=u=c=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(f=t,p=n,v.tag){case 1:if("function"===typeof(h=v.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=v.payload)?h.call(p,d,f):h)||void 0===f)break e;d=N({},d,f);break e;case 2:ti=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(u=l=p,c=d):l=l.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===l&&(c=d),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Lc|=o,e.lanes=o,e.memoizedState=d}}function ui(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var li=(new r.Component).refs;function di(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fi={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yc(),a=Xc(e),i=ai(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ii(e,i),null!==(t=Jc(e,a,r))&&oi(t,e,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yc(),a=Xc(e),i=ai(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ii(e,i),null!==(t=Jc(e,a,r))&&oi(t,e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yc(),r=Xc(e),a=ai(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),ii(e,a),null!==(t=Jc(e,r,n))&&oi(t,e,r)}};function pi(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(a,i))}function hi(e,t,n){var r=!1,a=Ra,i=t.contextType;return"object"===typeof i&&null!==i?i=Ja(i):(a=Ma(t)?Ta:Ea.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Ra),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function vi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fi.enqueueReplaceState(t,t.state,null)}function mi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=li,ni(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ja(i):(i=Ma(t)?Ta:Ea.current,a.context=Oa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(di(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&fi.enqueueReplaceState(a,a.state,null),ci(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}var gi=[],yi=0,bi=null,wi=0,xi=[],Si=0,_i=null,ki=1,Ci="";function Pi(e,t){gi[yi++]=wi,gi[yi++]=bi,bi=e,wi=t}function Ri(e,t,n){xi[Si++]=ki,xi[Si++]=Ci,xi[Si++]=_i,_i=e;var r=ki;e=Ci;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,ki=1<<32-ot(t)+a|n<<a|r,Ci=i+e}else ki=1<<i|n<<a|r,Ci=e}function Ei(e){null!==e.return&&(Pi(e,1),Ri(e,1,0))}function ji(e){for(;e===bi;)bi=gi[--yi],gi[yi]=null,wi=gi[--yi],gi[yi]=null;for(;e===_i;)_i=xi[--Si],xi[Si]=null,Ci=xi[--Si],xi[Si]=null,ki=xi[--Si],xi[Si]=null}var Ti=null,Oi=null,Mi=!1,Li=null;function Di(e,t){var n=Tu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ti=e,Oi=ua(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ti=e,Oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_i?{id:ki,overflow:Ci}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ti=e,Oi=null,!0);default:return!1}}function Ii(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Ni(e){if(Mi){var t=Oi;if(t){var n=t;if(!Ai(e,t)){if(Ii(e))throw Error(i(418));t=ua(n.nextSibling);var r=Ti;t&&Ai(e,t)?Di(r,n):(e.flags=-4097&e.flags|2,Mi=!1,Ti=e)}}else{if(Ii(e))throw Error(i(418));e.flags=-4097&e.flags|2,Mi=!1,Ti=e}}}function Fi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ti=e}function Bi(e){if(e!==Ti)return!1;if(!Mi)return Fi(e),Mi=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=Oi)){if(Ii(e)){for(e=Oi;e;)e=ua(e.nextSibling);throw Error(i(418))}for(;t;)Di(e,t),t=ua(t.nextSibling)}if(Fi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Oi=ua(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Oi=null}}else Oi=Ti?ua(e.stateNode.nextSibling):null;return!0}function Vi(){Oi=Ti=null,Mi=!1}function zi(e){null===Li?Li=[e]:Li.push(e)}function Ui(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===li&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wi(e){return(0,e._init)(e._payload)}function qi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Iu(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===M&&Wi(i)===t.type)?((r=a(t,n.props)).ref=Ui(e,t,n),r.return=e,r):((r=Lu(n.type,n.key,n.props,null,e.mode,r)).ref=Ui(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nu(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Du(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Iu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lu(t.type,t.key,t.props,null,e.mode,n)).ref=Ui(e,null,t),n.return=e,n;case S:return(t=Nu(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Du(t,e.mode,n,null)).return=e,t;Hi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?u(e,t,n,r):null;case S:return n.key===a?l(e,t,n,r):null;case M:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||A(n))return null!==a?null:d(e,t,n,r,null);Hi(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case M:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);Hi(t,r)}return null}function v(a,i,s,c){for(var u=null,l=null,d=i,v=i=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=p(a,d,s[v],c);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,v),null===l?u=g:l.sibling=g,l=g,d=m}if(v===s.length)return n(a,d),Mi&&Pi(a,v),u;if(null===d){for(;v<s.length;v++)null!==(d=f(a,s[v],c))&&(i=o(d,i,v),null===l?u=d:l.sibling=d,l=d);return Mi&&Pi(a,v),u}for(d=r(a,d);v<s.length;v++)null!==(m=h(d,a,v,s[v],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),i=o(m,i,v),null===l?u=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(a,e)})),Mi&&Pi(a,v),u}function m(a,s,c,u){var l=A(c);if("function"!==typeof l)throw Error(i(150));if(null==(c=l.call(c)))throw Error(i(151));for(var d=l=null,v=s,m=s=0,g=null,y=c.next();null!==v&&!y.done;m++,y=c.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=p(a,v,y.value,u);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(a,v),s=o(b,s,m),null===d?l=b:d.sibling=b,d=b,v=g}if(y.done)return n(a,v),Mi&&Pi(a,m),l;if(null===v){for(;!y.done;m++,y=c.next())null!==(y=f(a,y.value,u))&&(s=o(y,s,m),null===d?l=y:d.sibling=y,d=y);return Mi&&Pi(a,m),l}for(v=r(a,v);!y.done;m++,y=c.next())null!==(y=h(v,a,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=o(y,s,m),null===d?l=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(a,e)})),Mi&&Pi(a,m),l}return function e(r,i,o,c){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var u=o.key,l=i;null!==l;){if(l.key===u){if((u=o.type)===_){if(7===l.tag){n(r,l.sibling),(i=a(l,o.props.children)).return=r,r=i;break e}}else if(l.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&Wi(u)===l.type){n(r,l.sibling),(i=a(l,o.props)).ref=Ui(r,l,o),i.return=r,r=i;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((i=Du(o.props.children,r.mode,c,o.key)).return=r,r=i):((c=Lu(o.type,o.key,o.props,null,r.mode,c)).ref=Ui(r,i,o),c.return=r,r=c)}return s(r);case S:e:{for(l=o.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Nu(o,r.mode,c)).return=r,r=i}return s(r);case M:return e(r,i,(l=o._init)(o._payload),c)}if(te(o))return v(r,i,o,c);if(A(o))return m(r,i,o,c);Hi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Iu(o,r.mode,c)).return=r,r=i),s(r)):n(r,i)}}var Zi=qi(!0),$i=qi(!1),Ki={},Gi=ka(Ki),Qi=ka(Ki),Yi=ka(Ki);function Xi(e){if(e===Ki)throw Error(i(174));return e}function Ji(e,t){switch(Pa(Yi,t),Pa(Qi,e),Pa(Gi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Gi),Pa(Gi,t)}function eo(){Ca(Gi),Ca(Qi),Ca(Yi)}function to(e){Xi(Yi.current);var t=Xi(Gi.current),n=ce(t,e.type);t!==n&&(Pa(Qi,e),Pa(Gi,n))}function no(e){Qi.current===e&&(Ca(Gi),Ca(Qi))}var ro=ka(0);function ao(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var io=[];function oo(){for(var e=0;e<io.length;e++)io[e]._workInProgressVersionPrimary=null;io.length=0}var so=w.ReactCurrentDispatcher,co=w.ReactCurrentBatchConfig,uo=0,lo=null,fo=null,po=null,ho=!1,vo=!1,mo=0,go=0;function yo(){throw Error(i(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,a,o){if(uo=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:as,e=n(r,a),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(i(301));o+=1,po=fo=null,t.updateQueue=null,so.current=is,e=n(r,a)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,uo=0,po=fo=lo=null,ho=!1,t)throw Error(i(300));return e}function xo(){var e=0!==mo;return mo=0,e}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===po?lo.memoizedState=po=e:po=po.next=e,po}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===po?lo.memoizedState:po.next;if(null!==t)po=t,fo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===po?lo.memoizedState=po=e:po=po.next=e}return po}function ko(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=fo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var c=s=null,u=null,l=o;do{var d=l.lane;if((uo&d)===d)null!==u&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===u?(c=u=f,s=r):u=u.next=f,lo.lanes|=d,Lc|=d}l=l.next}while(null!==l&&l!==o);null===u?s=r:u.next=c,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,lo.lanes|=o,Lc|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Po(e){var t=_o(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(xs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Eo(e,t){var n=lo,r=_o(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,xs=!0),r=r.queue,Bo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==po&&1&po.memoizedState.tag){if(n.flags|=2048,Do(9,To.bind(null,n,r,a,t),void 0,null),null===Pc)throw Error(i(349));0!==(30&uo)||jo(n,t,a)}return a}function jo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Jc(e,1,-1)}function Oo(e,t,n){return n((function(){Mo(t)&&Jc(e,1,-1)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Lo(e){var t=So();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return _o().memoizedState}function Io(e,t,n,r){var a=So();lo.flags|=e,a.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function No(e,t,n,r){var a=_o();r=void 0===r?null:r;var i=void 0;if(null!==fo){var o=fo.memoizedState;if(i=o.destroy,null!==r&&bo(r,o.deps))return void(a.memoizedState=Do(t,n,i,r))}lo.flags|=e,a.memoizedState=Do(1|t,n,i,r)}function Fo(e,t){return Io(8390656,8,e,t)}function Bo(e,t){return No(2048,8,e,t)}function Vo(e,t){return No(4,2,e,t)}function zo(e,t){return No(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,No(4,4,Uo.bind(null,t,e),n)}function Wo(){}function qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&uo)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),lo.lanes|=n,Lc|=n,e.baseState=!0),t)}function Ko(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=co.transition;co.transition={};try{e(!1),t()}finally{bt=n,co.transition=r}}function Go(){return _o().memoizedState}function Qo(e,t,n){var r=Xc(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Jo(t,n):(es(e,t,n),null!==(e=Jc(e,r,n=Yc()))&&ts(e,t,r))}function Yo(e,t,n){var r=Xc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Jo(t,a);else{es(e,t,a);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o))return}catch(c){}null!==(e=Jc(e,r,n=Yc()))&&ts(e,t,r)}}function Xo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Jo(e,t){vo=ho=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tu(e)?(null===(e=t.interleaved)?(n.next=n,null===ei?ei=[t]:ei.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:Ja,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},rs={readContext:Ja,useCallback:function(e,t){return So().memoizedState=[e,void 0===t?null:t],e},useContext:Ja,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=So();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=So();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},So().memoizedState=e},useState:Lo,useDebugValue:Wo,useDeferredValue:function(e){return So().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Ko.bind(null,e[1]),So().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,a=So();if(Mi){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Pc)throw Error(i(349));0!==(30&uo)||jo(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Fo(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=So(),t=Pc.identifierPrefix;if(Mi){var n=Ci;t=":"+t+"R"+(n=(ki&~(1<<32-ot(ki)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=go++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},as={readContext:Ja,useCallback:qo,useContext:Ja,useEffect:Bo,useImperativeHandle:Ho,useInsertionEffect:Vo,useLayoutEffect:zo,useMemo:Zo,useReducer:Co,useRef:Ao,useState:function(){return Co(ko)},useDebugValue:Wo,useDeferredValue:function(e){return $o(_o(),fo.memoizedState,e)},useTransition:function(){return[Co(ko)[0],_o().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Eo,useId:Go,unstable_isNewReconciler:!1},is={readContext:Ja,useCallback:qo,useContext:Ja,useEffect:Bo,useImperativeHandle:Ho,useInsertionEffect:Vo,useLayoutEffect:zo,useMemo:Zo,useReducer:Po,useRef:Ao,useState:function(){return Po(ko)},useDebugValue:Wo,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:$o(t,fo.memoizedState,e)},useTransition:function(){return[Po(ko)[0],_o().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Eo,useId:Go,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var cs,us,ls,ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=ai(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zc||(zc=!0,Uc=r),ss(0,t)},n}function ps(e,t,n){(n=ai(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ss(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Hc?Hc=new Set([this]):Hc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=ku.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ai(-1,1)).tag=2,ii(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}function gs(e,t){if(!Mi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bs(e,t,n){var r=t.pendingProps;switch(ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(t),null;case 1:case 17:return Ma(t.type)&&La(),ys(t),null;case 3:return r=t.stateNode,eo(),Ca(ja),Ca(Ea),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Li&&(iu(Li),Li=null))),ys(t),null;case 5:no(t);var a=Xi(Yi.current);if(n=t.type,null!==e&&null!=t.stateNode)us(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ys(t),null}if(e=Xi(Gi.current),Bi(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fa]=t,r[pa]=o,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(a=0;a<Ar.length;a++)Br(Ar[a],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Q(r,o),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Br("invalid",r);break;case"textarea":ae(r,o),Br("invalid",r)}for(var c in ye(n,o),a=null,o)if(o.hasOwnProperty(c)){var u=o[c];"children"===c?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),a=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,u,e),a=["children",""+u]):s.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&Br("scroll",r)}switch(n){case"input":Z(r),J(r,o,!0);break;case"textarea":Z(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fa]=t,e[pa]=r,cs(e,t),t.stateNode=e;e:{switch(c=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),a=r;break;case"iframe":case"object":case"embed":Br("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ar.length;a++)Br(Ar[a],e);a=r;break;case"source":Br("error",e),a=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),a=r;break;case"details":Br("toggle",e),a=r;break;case"input":Q(e,r),a=G(e,r),Br("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=N({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Br("invalid",e)}for(o in ye(n,a),u=a)if(u.hasOwnProperty(o)){var l=u[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Br("scroll",e):null!=l&&b(e,o,l,c))}switch(n){case"input":Z(e),J(e,r,!1);break;case"textarea":Z(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ys(t),null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Xi(Yi.current),Xi(Gi.current),Bi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(o=r.nodeValue!==n)&&null!==(e=Ti))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return ys(t),null;case 13:if(Ca(ro),r=t.memoizedState,Mi&&null!==Oi&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Oi;r;)r=ua(r.nextSibling);return Vi(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Bi(t),null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(i(317));r[fa]=t}else Vi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ys(t),null}return null!==Li&&(iu(Li),Li=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Bi(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Oc&&(Oc=3):hu())),null!==t.updateQueue&&(t.flags|=4),ys(t),null);case 4:return eo(),null===e&&Ur(t.stateNode.containerInfo),ys(t),null;case 10:return Qa(t.type._context),ys(t),null;case 19:if(Ca(ro),null===(o=t.memoizedState))return ys(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)gs(o,!1);else{if(0!==Oc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ao(e))){for(t.flags|=128,gs(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pa(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bc&&(t.flags|=128,r=!0,gs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ao(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),gs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!Mi)return ys(t),null}else 2*Ye()-o.renderingStartTime>Bc&&1073741824!==n&&(t.flags|=128,r=!0,gs(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=ro.current,Pa(ro,r?1&n|2:1&n),t):(ys(t),null);case 22:case 23:return lu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jc)&&(ys(t),6&t.subtreeFlags&&(t.flags|=8192)):ys(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},us=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Xi(Gi.current);var i,o=null;switch(n){case"input":a=G(e,a),r=G(e,r),o=[];break;case"select":a=N({},a,{value:void 0}),r=N({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var c=a[l];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(c=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&u!==c&&(null!=u||null!=c))if("style"===l)if(c){for(i in c)!c.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&c[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(o||(o=[]),o.push(l,n)),n=u;else"dangerouslySetInnerHTML"===l?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(o=o||[]).push(l,u)):"children"===l?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(l,""+u):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=u&&"onScroll"===l&&Br("scroll",e),o||c===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var ws=w.ReactCurrentOwner,xs=!1;function Ss(e,t,n,r){t.child=null===e?$i(t,null,n,r):Zi(t,e.child,n,r)}function _s(e,t,n,r,a){n=n.render;var i=t.ref;return Xa(t,a),r=wo(e,t,n,r,i,a),n=xo(),null===e||xs?(Mi&&n&&Ei(t),t.flags|=1,Ss(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a))}function ks(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Ou(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Cs(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Ws(e,t,a)}return t.flags|=1,(e=Mu(i,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,Ws(e,t,a);0!==(131072&e.flags)&&(xs=!0)}}return Es(e,t,n,r,a)}function Ps(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pa(Tc,jc),jc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pa(Tc,jc),jc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Pa(Tc,jc),jc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Pa(Tc,jc),jc|=r;return Ss(e,t,a,n),t.child}function Rs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Es(e,t,n,r,a){var i=Ma(n)?Ta:Ea.current;return i=Oa(t,i),Xa(t,a),n=wo(e,t,n,r,i,a),r=xo(),null===e||xs?(Mi&&r&&Ei(t),t.flags|=1,Ss(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ws(e,t,a))}function js(e,t,n,r,a){if(Ma(n)){var i=!0;Ia(t)}else i=!1;if(Xa(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),hi(t,n,r),mi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ja(u):u=Oa(t,u=Ma(n)?Ta:Ea.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==u)&&vi(t,o,r,u),ti=!1;var f=t.memoizedState;o.state=f,ci(t,r,o,a),c=t.memoizedState,s!==r||f!==c||ja.current||ti?("function"===typeof l&&(di(t,n,l,r),c=t.memoizedState),(s=ti||pi(t,n,s,r,f,c,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ri(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Wa(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ja(c):c=Oa(t,c=Ma(n)?Ta:Ea.current);var p=n.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==c)&&vi(t,o,r,c),ti=!1,f=t.memoizedState,o.state=f,ci(t,r,o,a);var h=t.memoizedState;s!==d||f!==h||ja.current||ti?("function"===typeof p&&(di(t,n,p,r),h=t.memoizedState),(u=ti||pi(t,n,u,r,f,h,c)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=c,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,i,a)}function Ts(e,t,n,r,a,i){Rs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Na(t,n,!1),Ws(e,t,i);r=t.stateNode,ws.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Zi(t,e.child,null,i),t.child=Zi(t,null,s,i)):Ss(e,t,s,i),t.memoizedState=r.state,a&&Na(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Da(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Da(0,t.context,!1),Ji(e,t.containerInfo)}function Ms(e,t,n,r,a){return Vi(),zi(a),t.flags|=256,Ss(e,t,n,r),t.child}var Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function As(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Is(e,t,n){var r,a=t.pendingProps,o=ro.current,s=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Pa(ro,1&o),null===e)return Ni(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,s?(a=t.mode,s=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=Au(o,a,0,null),e=Du(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):Ns(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(c)return 256&t.flags?(t.flags&=-257,Vs(e,t,n,Error(i(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,o=t.mode,a=Au({mode:"visible",children:a.children},o,0,null),(s=Du(s,o,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&Zi(t,e.child,null,n),t.child.memoizedState=Ds(n),t.memoizedState=Ls,s);if(0===(1&t.mode))t=Vs(e,t,n,null);else if("$!"===r.data)t=Vs(e,t,n,Error(i(419)));else if(a=0!==(n&e.childLanes),xs||a){if(null!==(a=Pc)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(a=0!==(s&(a.suspendedLanes|n))?0:s)&&a!==o.retryLane&&(o.retryLane=a,Jc(e,a,-1))}hu(),t=Vs(e,t,n,Error(i(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Oi=ua(r.nextSibling),Ti=t,Mi=!0,Li=null,null!==n&&(xi[Si++]=ki,xi[Si++]=Ci,xi[Si++]=_i,ki=n.id,Ci=n.overflow,_i=t),(t=Ns(t,t.pendingProps.children)).flags|=4096);return t}return s?(a=Bs(e,t,a.children,a.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ds(n):As(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a):(n=Fs(e,t,a.children,n),t.memoizedState=null,n)}return s?(a=Bs(e,t,a.children,a.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?Ds(n):As(o,n),s.childLanes=e.childLanes&~n,t.memoizedState=Ls,a):(n=Fs(e,t,a.children,n),t.memoizedState=null,n)}function Ns(e,t){return(t=Au({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){var a=e.child;return e=a.sibling,n=Mu(a,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Bs(e,t,n,r,a){var i=t.mode,o=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&i)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Mu(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Mu(o,r):(r=Du(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vs(e,t,n,r){return null!==r&&zi(r),Zi(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ya(e.return,t,n)}function Us(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Hs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ss(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pa(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ao(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ao(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){switch(ji(t),t.tag){case 1:return Ma(t.type)&&La(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ca(ja),Ca(Ea),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ca(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));Vi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ro),null;case 4:return eo(),null;case 10:return Qa(t.type._context),null;case 22:case 23:return lu(),null;default:return null}}var Zs=!1,$s=!1,Ks="function"===typeof WeakSet?WeakSet:Set,Gs=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_u(e,t,r)}else n.current=null}function Ys(e,t,n){try{n()}catch(r){_u(e,t,r)}}var Xs=!1;function Js(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&Ys(t,n,i)}a=a.next}while(a!==r)}}function ec(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nc(e){var t=e.alternate;null!==t&&(e.alternate=null,nc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[va],delete t[ma],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ic(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ic(e,t,n),e=e.sibling;null!==e;)ic(e,t,n),e=e.sibling}function oc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oc(e,t,n),e=e.sibling;null!==e;)oc(e,t,n),e=e.sibling}var sc=null,cc=!1;function uc(e,t,n){for(n=n.child;null!==n;)lc(e,t,n),n=n.sibling}function lc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:$s||Qs(n,t);case 6:var r=sc,a=cc;sc=null,uc(e,t,n),cc=a,null!==(sc=r)&&(cc?(e=sc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sc.removeChild(n.stateNode));break;case 18:null!==sc&&(cc?(e=sc,n=n.stateNode,8===e.nodeType?ca(e.parentNode,n):1===e.nodeType&&ca(e,n),Ut(e)):ca(sc,n.stateNode));break;case 4:r=sc,a=cc,sc=n.stateNode.containerInfo,cc=!0,uc(e,t,n),sc=r,cc=a;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&Ys(n,t,o),a=a.next}while(a!==r)}uc(e,t,n);break;case 1:if(!$s&&(Qs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_u(n,t,s)}uc(e,t,n);break;case 21:uc(e,t,n);break;case 22:1&n.mode?($s=(r=$s)||null!==n.memoizedState,uc(e,t,n),$s=r):uc(e,t,n);break;default:uc(e,t,n)}}function dc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 5:sc=c.stateNode,cc=!1;break e;case 3:case 4:sc=c.stateNode.containerInfo,cc=!0;break e}c=c.return}if(null===sc)throw Error(i(160));lc(o,s,a),sc=null,cc=!1;var u=a.alternate;null!==u&&(u.return=null),a.return=null}catch(l){_u(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pc(t,e),t=t.sibling}function pc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fc(t,e),hc(e),4&r){try{Js(3,e,e.return),ec(3,e)}catch(v){_u(e,e.return,v)}try{Js(5,e,e.return)}catch(v){_u(e,e.return,v)}}break;case 1:fc(t,e),hc(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(fc(t,e),hc(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(v){_u(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,c=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===c&&"radio"===o.type&&null!=o.name&&Y(a,o),be(c,s);var l=be(c,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,l)}switch(c){case"input":X(a,o);break;case"textarea":ie(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(a,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[pa]=o}catch(v){_u(e,e.return,v)}}break;case 6:if(fc(t,e),hc(e),4&r){if(null===e.stateNode)throw Error(i(162));l=e.stateNode,d=e.memoizedProps;try{l.nodeValue=d}catch(v){_u(e,e.return,v)}}break;case 3:if(fc(t,e),hc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){_u(e,e.return,v)}break;case 4:default:fc(t,e),hc(e);break;case 13:fc(t,e),hc(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Fc=Ye()),4&r&&dc(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?($s=(d=$s)||l,fc(t,e),$s=d):fc(t,e),hc(e),8192&r){d=null!==e.memoizedState;e:for(f=null,p=e;;){if(5===p.tag){if(null===f){f=p;try{a=p.stateNode,d?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=p.stateNode,s=void 0!==(u=p.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,c.style.display=ve("display",s))}catch(v){_u(e,e.return,v)}}}else if(6===p.tag){if(null===f)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(v){_u(e,e.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}if(d&&!l&&0!==(1&e.mode))for(Gs=e,e=e.child;null!==e;){for(l=Gs=e;null!==Gs;){switch(f=(d=Gs).child,d.tag){case 0:case 11:case 14:case 15:Js(4,d,d.return);break;case 1:if(Qs(d,d.return),"function"===typeof(o=d.stateNode).componentWillUnmount){p=d,h=d.return;try{a=p,o.props=a.memoizedProps,o.state=a.memoizedState,o.componentWillUnmount()}catch(v){_u(p,h,v)}}break;case 5:Qs(d,d.return);break;case 22:if(null!==d.memoizedState){yc(l);continue}}null!==f?(f.return=d,Gs=f):yc(l)}e=e.sibling}}break;case 19:fc(t,e),hc(e),4&r&&dc(e);case 21:}}function hc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rc(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),oc(e,ac(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;ic(e,ac(e),o);break;default:throw Error(i(161))}}catch(s){_u(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Gs=e,mc(e,t,n)}function mc(e,t,n){for(var r=0!==(1&e.mode);null!==Gs;){var a=Gs,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Zs;if(!o){var s=a.alternate,c=null!==s&&null!==s.memoizedState||$s;s=Zs;var u=$s;if(Zs=o,($s=c)&&!u)for(Gs=a;null!==Gs;)c=(o=Gs).child,22===o.tag&&null!==o.memoizedState?bc(a):null!==c?(c.return=o,Gs=c):bc(a);for(;null!==i;)Gs=i,mc(i,t,n),i=i.sibling;Gs=a,Zs=s,$s=u}gc(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Gs=i):gc(e)}}function gc(e){for(;null!==Gs;){var t=Gs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||ec(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$s)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Wa(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ui(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ui(t,s,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(i(163))}$s||512&t.flags&&tc(t)}catch(p){_u(t,t.return,p)}}if(t===e){Gs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Gs=n;break}Gs=t.return}}function yc(e){for(;null!==Gs;){var t=Gs;if(t===e){Gs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Gs=n;break}Gs=t.return}}function bc(e){for(;null!==Gs;){var t=Gs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ec(4,t)}catch(c){_u(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(c){_u(t,a,c)}}var i=t.return;try{tc(t)}catch(c){_u(t,i,c)}break;case 5:var o=t.return;try{tc(t)}catch(c){_u(t,o,c)}}}catch(c){_u(t,t.return,c)}if(t===e){Gs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Gs=s;break}Gs=t.return}}var wc,xc=Math.ceil,Sc=w.ReactCurrentDispatcher,_c=w.ReactCurrentOwner,kc=w.ReactCurrentBatchConfig,Cc=0,Pc=null,Rc=null,Ec=0,jc=0,Tc=ka(0),Oc=0,Mc=null,Lc=0,Dc=0,Ac=0,Ic=null,Nc=null,Fc=0,Bc=1/0,Vc=null,zc=!1,Uc=null,Hc=null,Wc=!1,qc=null,Zc=0,$c=0,Kc=null,Gc=-1,Qc=0;function Yc(){return 0!==(6&Cc)?Ye():-1!==Gc?Gc:Gc=Ye()}function Xc(e){return 0===(1&e.mode)?1:0!==(2&Cc)&&0!==Ec?Ec&-Ec:null!==Ha.transition?(0===Qc&&(Qc=vt()),Qc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Jc(e,t,n){if(50<$c)throw $c=0,Kc=null,Error(i(185));var r=eu(e,t);return null===r?null:(gt(r,t,n),0!==(2&Cc)&&r===Pc||(r===Pc&&(0===(2&Cc)&&(Dc|=t),4===Oc&&ou(r,Ec)),nu(r,n),1===t&&0===Cc&&0===(1&e.mode)&&(Bc=Ye()+500,Ba&&Ua())),r)}function eu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tu(e){return(null!==Pc||null!==ei)&&0!==(1&e.mode)&&0===(2&Cc)}function nu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,c=a[o];-1===c?0!==(s&n)&&0===(s&r)||(a[o]=pt(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===Pc?Ec:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ba=!0,za(e)}(su.bind(null,e)):za(su.bind(null,e)),oa((function(){0===Cc&&Ua()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Eu(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Gc=-1,Qc=0,0!==(6&Cc))throw Error(i(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=ft(e,e===Pc?Ec:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vu(e,r);else{t=r;var a=Cc;Cc|=2;var o=pu();for(Pc===e&&Ec===t||(Vc=null,Bc=Ye()+500,du(e,t));;)try{gu();break}catch(c){fu(e,c)}Ga(),Sc.current=o,Cc=a,null!==Rc?t=0:(Pc=null,Ec=0,t=Oc)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=au(e,a))),1===t)throw n=Mc,du(e,0),ou(e,r),nu(e,Ye()),n;if(6===t)ou(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vu(e,r))&&(0!==(o=ht(e))&&(r=o,t=au(e,o))),1===t))throw n=Mc,du(e,0),ou(e,r),nu(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wu(e,Nc,Vc);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=Fc+500-Ye())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Yc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wu.bind(null,e,Nc,Vc),t);break}wu(e,Nc,Vc);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xc(r/1960))-r)){e.timeoutHandle=ra(wu.bind(null,e,Nc,Vc),r);break}wu(e,Nc,Vc);break;default:throw Error(i(329))}}}return nu(e,Ye()),e.callbackNode===n?ru.bind(null,e):null}function au(e,t){var n=Ic;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=vu(e,t))&&(t=Nc,Nc=n,null!==t&&iu(t)),e}function iu(e){null===Nc?Nc=e:Nc.push.apply(Nc,e)}function ou(e,t){for(t&=~Ac,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function su(e){if(0!==(6&Cc))throw Error(i(327));xu();var t=ft(e,0);if(0===(1&t))return nu(e,Ye()),null;var n=vu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Mc,du(e,0),ou(e,t),nu(e,Ye()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wu(e,Nc,Vc),nu(e,Ye()),null}function cu(e,t){var n=Cc;Cc|=1;try{return e(t)}finally{0===(Cc=n)&&(Bc=Ye()+500,Ba&&Ua())}}function uu(e){null!==qc&&0===qc.tag&&0===(6&Cc)&&xu();var t=Cc;Cc|=1;var n=kc.transition,r=bt;try{if(kc.transition=null,bt=1,e)return e()}finally{bt=r,kc.transition=n,0===(6&(Cc=t))&&Ua()}}function lu(){jc=Tc.current,Ca(Tc)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Rc)for(n=Rc.return;null!==n;){var r=n;switch(ji(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&La();break;case 3:eo(),Ca(ja),Ca(Ea),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ca(ro);break;case 10:Qa(r.type._context);break;case 22:case 23:lu()}n=n.return}if(Pc=e,Rc=e=Mu(e.current,null),Ec=jc=t,Oc=0,Mc=null,Ac=Dc=Lc=0,Nc=Ic=null,null!==ei){for(t=0;t<ei.length;t++)if(null!==(r=(n=ei[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}ei=null}return e}function fu(e,t){for(;;){var n=Rc;try{if(Ga(),so.current=ns,ho){for(var r=lo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ho=!1}if(uo=0,po=fo=lo=null,vo=!1,mo=0,_c.current=null,null===n||null===n.return){Oc=1,Mc=t,Rc=null;break}e:{var o=e,s=n.return,c=n,u=t;if(t=Ec,c.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var l=u,d=c,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ms(h,s,c,0,t),1&h.mode&&hs(o,l,t),u=l;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0===(1&t)){hs(o,l,t),hu();break e}u=Error(i(426))}else if(Mi&&1&c.mode){var g=vs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ms(g,s,c,0,t),zi(u);break e}}o=u,4!==Oc&&(Oc=2),null===Ic?Ic=[o]:Ic.push(o),u=os(u,c),c=s;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t,si(c,fs(0,u,t));break e;case 1:o=u;var y=c.type,b=c.stateNode;if(0===(128&c.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hc||!Hc.has(b)))){c.flags|=65536,t&=-t,c.lanes|=t,si(c,ps(c,o,t));break e}}c=c.return}while(null!==c)}bu(n)}catch(w){t=w,Rc===n&&null!==n&&(Rc=n=n.return);continue}break}}function pu(){var e=Sc.current;return Sc.current=ns,null===e?ns:e}function hu(){0!==Oc&&3!==Oc&&2!==Oc||(Oc=4),null===Pc||0===(268435455&Lc)&&0===(268435455&Dc)||ou(Pc,Ec)}function vu(e,t){var n=Cc;Cc|=2;var r=pu();for(Pc===e&&Ec===t||(Vc=null,du(e,t));;)try{mu();break}catch(a){fu(e,a)}if(Ga(),Cc=n,Sc.current=r,null!==Rc)throw Error(i(261));return Pc=null,Ec=0,Oc}function mu(){for(;null!==Rc;)yu(Rc)}function gu(){for(;null!==Rc&&!Ge();)yu(Rc)}function yu(e){var t=wc(e.alternate,e,jc);e.memoizedProps=e.pendingProps,null===t?bu(e):Rc=t,_c.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bs(n,t,jc)))return void(Rc=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Rc=n);if(null===e)return Oc=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===Oc&&(Oc=5)}function wu(e,t,n){var r=bt,a=kc.transition;try{kc.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==qc);if(0!==(6&Cc))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Pc&&(Rc=Pc=null,Ec=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Wc||(Wc=!0,Eu(tt,(function(){return xu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=kc.transition,kc.transition=null;var s=bt;bt=1;var c=Cc;Cc|=4,_c.current=null,function(e,t){if(ea=Wt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(S){n=null;break e}var s=0,c=-1,u=-1,l=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==a&&3!==f.nodeType||(c=s+a),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++l===a&&(c=s),p===o&&++d===r&&(u=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===c||-1===u?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Gs=t;null!==Gs;)if(e=(t=Gs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Gs=e;else for(;null!==Gs;){t=Gs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wa(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var x=w.body;null!=x&&(x.textContent="")}break;default:throw Error(i(163))}}catch(S){_u(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Gs=e;break}Gs=t.return}v=Xs,Xs=!1}(e,n),pc(n,e),hr(ta),Wt=!!ea,ta=ea=null,e.current=n,vc(n,e,a),Qe(),Cc=c,bt=s,kc.transition=o}else e.current=n;if(Wc&&(Wc=!1,qc=e,Zc=a),0===(o=e.pendingLanes)&&(Hc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nu(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zc)throw zc=!1,e=Uc,Uc=null,e;0!==(1&Zc)&&0!==e.tag&&xu(),0!==(1&(o=e.pendingLanes))?e===Kc?$c++:($c=0,Kc=e):$c=0,Ua()}(e,t,n,r)}finally{kc.transition=a,bt=r}return null}function xu(){if(null!==qc){var e=wt(Zc),t=kc.transition,n=bt;try{if(kc.transition=null,bt=16>e?16:e,null===qc)var r=!1;else{if(e=qc,qc=null,Zc=0,0!==(6&Cc))throw Error(i(331));var a=Cc;for(Cc|=4,Gs=e.current;null!==Gs;){var o=Gs,s=o.child;if(0!==(16&Gs.flags)){var c=o.deletions;if(null!==c){for(var u=0;u<c.length;u++){var l=c[u];for(Gs=l;null!==Gs;){var d=Gs;switch(d.tag){case 0:case 11:case 15:Js(8,d,o)}var f=d.child;if(null!==f)f.return=d,Gs=f;else for(;null!==Gs;){var p=(d=Gs).sibling,h=d.return;if(nc(d),d===l){Gs=null;break}if(null!==p){p.return=h,Gs=p;break}Gs=h}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Gs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Gs=s;else e:for(;null!==Gs;){if(0!==(2048&(o=Gs).flags))switch(o.tag){case 0:case 11:case 15:Js(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Gs=y;break e}Gs=o.return}}var b=e.current;for(Gs=b;null!==Gs;){var w=(s=Gs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Gs=w;else e:for(s=b;null!==Gs;){if(0!==(2048&(c=Gs).flags))try{switch(c.tag){case 0:case 11:case 15:ec(9,c)}}catch(S){_u(c,c.return,S)}if(c===s){Gs=null;break e}var x=c.sibling;if(null!==x){x.return=c.return,Gs=x;break e}Gs=c.return}}if(Cc=a,Ua(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(S){}r=!0}return r}finally{bt=n,kc.transition=t}}return!1}function Su(e,t,n){ii(e,t=fs(0,t=os(n,t),1)),t=Yc(),null!==(e=eu(e,1))&&(gt(e,1,t),nu(e,t))}function _u(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hc||!Hc.has(r))){ii(t,e=ps(t,e=os(n,e),1)),e=Yc(),null!==(t=eu(t,1))&&(gt(t,1,e),nu(t,e));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Yc(),e.pingedLanes|=e.suspendedLanes&n,Pc===e&&(Ec&n)===n&&(4===Oc||3===Oc&&(130023424&Ec)===Ec&&500>Ye()-Fc?du(e,0):Ac|=n),nu(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Yc();null!==(e=eu(e,t))&&(gt(e,t,n),nu(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Ru(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cu(e,n)}function Eu(e,t){return $e(e,t)}function ju(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tu(e,t,n,r){return new ju(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Tu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lu(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Du(n.children,a,o,t);case k:s=8,a|=8;break;case C:return(e=Tu(12,n,t,2|a)).elementType=C,e.lanes=o,e;case j:return(e=Tu(13,n,t,a)).elementType=j,e.lanes=o,e;case T:return(e=Tu(19,n,t,a)).elementType=T,e.lanes=o,e;case L:return Au(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case R:s=9;break e;case E:s=11;break e;case O:s=14;break e;case M:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Tu(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=Tu(7,e,r,t)).lanes=n,e}function Au(e,t,n,r){return(e=Tu(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={},e}function Iu(e,t,n){return(e=Tu(6,e,null,t)).lanes=n,e}function Nu(e,t,n){return(t=Tu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bu(e,t,n,r,a,i,o,s,c){return e=new Fu(e,t,n,s,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Tu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ni(i),e}function Vu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zu(e){if(!e)return Ra;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ma(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ma(n))return Aa(e,n,t)}return t}function Uu(e,t,n,r,a,i,o,s,c){return(e=Bu(n,r,!0,e,0,i,0,s,c)).context=zu(null),n=e.current,(i=ai(r=Yc(),a=Xc(n))).callback=void 0!==t&&null!==t?t:null,ii(n,i),e.current.lanes=a,gt(e,a,r),nu(e,r),e}function Hu(e,t,n,r){var a=t.current,i=Yc(),o=Xc(a);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=ai(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ii(a,t),null!==(e=Jc(a,o,i))&&oi(e,a,o),o}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}wc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ja.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Os(t),Vi();break;case 5:to(t);break;case 1:Ma(t.type)&&Ia(t);break;case 4:Ji(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Pa(qa,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pa(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Is(e,t,n):(Pa(ro,1&ro.current),null!==(e=Ws(e,t,n))?e.sibling:null);Pa(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pa(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Ps(e,t,n)}return Ws(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,Mi&&0!==(1048576&t.flags)&&Ri(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var a=Oa(t,Ea.current);Xa(t,n),a=wo(null,t,r,e,a,n);var o=xo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ma(r)?(o=!0,Ia(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ni(t),a.updater=fi,t.stateNode=a,a._reactInternals=t,mi(t,r,e,n),t=Ts(null,t,r,!0,o,n)):(t.tag=0,Mi&&o&&Ei(t),Ss(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(r),e=Wa(r,e),a){case 0:t=Es(null,t,r,e,n);break e;case 1:t=js(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=ks(null,t,r,Wa(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Es(e,t,r,a=t.elementType===r?a:Wa(r,a),n);case 1:return r=t.type,a=t.pendingProps,js(e,t,r,a=t.elementType===r?a:Wa(r,a),n);case 3:e:{if(Os(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,ri(e,t),ci(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ms(e,t,r,n,a=Error(i(423)));break e}if(r!==a){t=Ms(e,t,r,n,a=Error(i(424)));break e}for(Oi=ua(t.stateNode.containerInfo.firstChild),Ti=t,Mi=!0,Li=null,n=$i(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Vi(),r===a){t=Ws(e,t,n);break e}Ss(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Ni(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Rs(e,t),Ss(e,t,s,n),t.child;case 6:return null===e&&Ni(t),null;case 13:return Is(e,t,n);case 4:return Ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zi(t,null,r,n):Ss(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,_s(e,t,r,a=t.elementType===r?a:Wa(r,a),n);case 7:return Ss(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ss(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Pa(qa,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!ja.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){s=o.child;for(var u=c.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=ai(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),l.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ya(o.return,n,t),c.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ya(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}Ss(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Xa(t,n),r=r(a=Ja(a)),t.flags|=1,Ss(e,t,r,n),t.child;case 14:return a=Wa(r=t.type,t.pendingProps),ks(e,t,r,a=Wa(r.type,a),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Wa(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ma(r)?(e=!0,Ia(t)):e=!1,Xa(t,n),hi(t,r,a),mi(t,r,a,n),Ts(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Ps(e,t,n)}throw Error(i(156,t.tag))};var $u="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Gu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Ju(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=Wu(o);s.call(e)}}Hu(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=Wu(o);i.call(e)}}var o=Uu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=o,e[ha]=o.current,Ur(8===e.nodeType?e.parentNode:e),uu(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Wu(c);s.call(e)}}var c=Bu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=c,e[ha]=c.current,Ur(8===e.nodeType?e.parentNode:e),uu((function(){Hu(t,c,n,r)})),c}(n,t,e,a,r);return Wu(o)}Gu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hu(e,t,null,null)},Gu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uu((function(){Hu(null,e,null,null)})),t[ha]=null}},Gu.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Nt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),nu(t,Ye()),0===(6&Cc)&&(Bc=Ye()+500,Ua()))}break;case 13:var r=Yc();uu((function(){return Jc(e,1,r)})),Zu(e,1)}},St=function(e){13===e.tag&&(Jc(e,134217728,Yc()),Zu(e,134217728))},_t=function(e){if(13===e.tag){var t=Yc(),n=Xc(e);Jc(e,n,t),Zu(e,n)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(i(90));$(r),X(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cu,je=uu;var el={usingClientEntryPoint:!1,Events:[ba,wa,xa,Pe,Re,cu]},tl={findFiberByHostInstance:ya,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{at=rl.inject(nl),it=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(i(200));return Vu(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(i(299));var n=!1,r="",a=$u;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bu(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(i(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=$u;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uu(t,null,e,1,null!=n?n:null,a,0,o,s),e[ha]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gu(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(i(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(i(40));return!!e._reactRootContainer&&(uu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Ju(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},8459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case f:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case d:case v:case h:case c:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference")},6900:function(e,t,n){"use strict";n(8459)},6374:function(e,t,n){"use strict";var r=n(2791),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:u,ref:l,props:i,_owner:s.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=b.prototype=new y;w.constructor=b,v(w,g.prototype),w.isPureReactComponent=!0;var x=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)S.call(t,a)&&!k.hasOwnProperty(a)&&(i[a]=t[a]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(a in c=e.defaultProps)void 0===i[a]&&(i[a]=c[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:_.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===i?"."+E(c,0):i,x(o)?(a="",null!=e&&(a=e.replace(R,"$&/")+"/"),j(o,t,a,"",(function(e){return e}))):null!=o&&(P(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(R,"$&/")+"/")+e)),t.push(o)),1;if(c=0,i=""===i?".":i+":",x(e))for(var u=0;u<e.length;u++){var l=i+E(s=e[u],u);c+=j(s,t,a,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=j(s=s.value,t,a,l=i+E(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function T(e,t,n){if(null==e)return e;var r=[],a=0;return j(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},L={transition:null},D={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:L,ReactCurrentOwner:_};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=v({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!k.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],u=s+1,l=e[u];if(0>i(c,n))u<a&&0>i(l,c)?(e[r]=l,e[u]=n,r=u):(e[r]=c,e[s]=n,r=s);else{if(!(u<a&&0>i(l,n)))break e;e[r]=l,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],l=[],d=1,f=null,p=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,n(u,t)}t=r(l)}}function x(e){if(m=!1,w(e),!v)if(null!==r(u))v=!0,L(S);else{var t=r(l);null!==t&&D(x,t.startTime-e)}}function S(e,n){v=!1,m&&(m=!1,y(P),P=-1),h=!0;var i=p;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!j());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&a(u),w(n)}else a(u);f=r(u)}if(null!==f)var c=!0;else{var d=r(l);null!==d&&D(x,d.startTime-n),c=!1}return c}finally{f=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,k=!1,C=null,P=-1,R=5,E=-1;function j(){return!(t.unstable_now()-E<R)}function T(){if(null!==C){var e=t.unstable_now();E=e;var n=!0;try{n=C(!0,e)}finally{n?_():(k=!1,C=null)}}else k=!1}if("function"===typeof b)_=function(){b(T)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=T,_=function(){M.postMessage(null)}}else _=function(){g(T,0)};function L(e){C=e,k||(k=!0,_())}function D(e,n){P=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,L(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(l,e),null===r(u)&&e===r(l)&&(m?(y(P),P=-1):m=!0,D(x,i-o))):(e.sortIndex=s,n(u,e),v||h||(v=!0,L(S))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6712:function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},5861:function(e,t,n){var r=n(1775),a=n(2921);t.write=a,t.parse=r.parse,t.parseParams=r.parseParams,t.parseFmtpConfig=r.parseFmtpConfig,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates,t.parseImageAttributes=r.parseImageAttributes,t.parseSimulcastStreamList=r.parseSimulcastStreamList},1775:function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},a=function(e,t,n){var a=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:a&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:a?t[e.name]:t;!function(e,t,n,a){if(a&&!n)t[a]=r(e[1]);else for(var i=0;i<n.length;i+=1)null!=e[i+1]&&(t[n[i]]=r(e[i+1]))}(n.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=n(6712),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var c=i[t][s];if(c.reg.test(o))return a(c,r,o)}})),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),a=0;a<n.length;a+=3)t.push({component:n[a],ip:n[a+1],port:n[a+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},2921:function(e,t,n){var r=n(6712),a=/%[sdv%]/g,i=function(e){var t=1,n=arguments,r=n.length;return e.replace(a,(function(e){if(t>=r)return e;var a=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(a);case"%d":return Number(a);case"%v":return""}}))},o=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var a=0;a<t.names.length;a+=1){var o=t.names[a];t.name?r.push(n[t.name][o]):r.push(n[t.names[a]])}else r.push(n[t.name]);return i.apply(null,r)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||s,a=t.innerOrder||c,i=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(o(t,n,e))}))}))})),e.media.forEach((function(e){i.push(o("m",r.m[0],e)),a.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(o(t,n,e))}))}))}))})),i.join("\r\n")+"\r\n"}},1561:function(e,t,n){"use strict";var r=n(2791);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,o=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,l=r[1];return s((function(){a.value=n,a.getSnapshot=t,u(a)&&l({inst:a})}),[e,n,t]),o((function(){return u(a)&&l({inst:a}),e((function(){u(a)&&l({inst:a})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),a=n(7248);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,s=r.useRef,c=r.useEffect,u=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!c){if(c=!0,o=e,e=r(e),void 0!==a&&f.hasValue){var t=f.value;if(a(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?t:(o=e,s=n)}var o,s,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,r,a]);var p=o(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},9687:function(e,t,n){"use strict";e.exports=n.p+"static/media/keytar.1358bf7d4c674875baa4.node"},6445:function(e,t,n){"use strict";e.exports=n.p+"static/media/connected.02c736a3d1f0d82cb3d6.wav"},2800:function(e,t,n){"use strict";e.exports=n.p+"static/media/control-sound-effect.638b77323f5af37cb486.mp3"},932:function(e,t,n){"use strict";e.exports=n.p+"static/media/disconnected.ee03ecaad472367bbc74.wav"},4853:function(e,t,n){"use strict";e.exports=n.p+"static/media/user_has_disconnected.38fa7bf17259bc1fade9.mp3"},6074:function(e,t,n){"use strict";e.exports=n.p+"static/media/user_has_joined.007371a58d5a9b0c4310.mp3"},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".71ff10e0.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="bubbledesktop:";n.l=function(r,a,i,o){if(e[r])e[r].push(a);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+i),s.src=r),e[r]=[a];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var i=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=i);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var a,i,o=r[0],s=r[1],c=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)c(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkbubbledesktop=self.webpackChunkbubbledesktop||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{Decoder:function(){return Pp},Encoder:function(){return Cp},PacketType:function(){return _p},protocol:function(){return kp}});var t=n(2791),r=n(1250);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof p?t:p,i=Object.create(a.prototype),o=new C(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return R()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=l;var f={};function p(){}function h(){}function v(){}var m={};u(m,o,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=v.prototype=p.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(i,o,s,c){var u=d(e[i],e,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,c)}))}c(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:R}}function R(){return{value:void 0,done:!0}}return h.prototype=v,u(b,"constructor",v),u(v,"constructor",h),h.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new x(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),u(b,c,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;k(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function o(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function s(e){o(i,r,a,s,c,"next",e)}function c(e){o(i,r,a,s,c,"throw",e)}s(void 0)}))}}var c=n(7248),u=n(327),l=n(4164);var d=function(e){e()},f=function(){return d},p=t.createContext(null);function h(){return(0,t.useContext)(p)}var v=function(){throw new Error("uSES not initialized!")},m=v,g=function(e,t){return e===t};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=e===p?h:function(){return(0,t.useContext)(e)};return function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;var a=n(),i=a.store,o=a.subscription,s=a.getServerState,c=m(o.addNestedSub,i.getState,s||i.getState,e,r);return(0,t.useDebugValue)(c),c}}var b=y();n(2110),n(6900);var w={notify:function(){},get:function(){return[]}};function x(e,t){var n,r=w;function a(){o.onStateChange&&o.onStateChange()}function i(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=f(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var o={addNestedSub:function(e){return i(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=w)},getListeners:function(){return r}};return o}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect;var _=function(e){var n=e.store,r=e.context,a=e.children,i=e.serverState,o=(0,t.useMemo)((function(){var e=x(n);return{store:n,subscription:e,getServerState:i?function(){return i}:void 0}}),[n,i]),s=(0,t.useMemo)((function(){return n.getState()}),[n]);S((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var c=r||p;return t.createElement(c.Provider,{value:o},a)};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=e===p?h:function(){return(0,t.useContext)(e)};return function(){return n().store}}var C=k();function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=e===p?C:k(e);return function(){return t().dispatch}}var R,E,j,T=P();function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){if(e){if("string"===typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}R=u.useSyncExternalStoreWithSelector,m=R,function(e){e}(c.useSyncExternalStore),E=l.unstable_batchedUpdates,d=E,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(j||(j={}));var A=function(e){return e};var I="beforeunload",N="popstate";function F(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function a(){var e=H(n.location.hash.substr(1)),t=e.pathname,a=void 0===t?"/":t,i=e.search,o=void 0===i?"":i,s=e.hash,c=void 0===s?"":s,u=r.state||{};return[u.idx,A({pathname:a,search:o,hash:c,state:u.usr||null,key:u.key||"default"})]}var i=null;function o(){if(i)f.call(i),i=null;else{var e=j.Pop,t=a(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=u-n;o&&(i={action:e,location:r,retry:function(){y(-1*o)}},y(o))}}else g(e)}}n.addEventListener(N,o),n.addEventListener("hashchange",(function(){U(a()[1])!==U(l)&&o()}));var s=j.Pop,c=a(),u=c[0],l=c[1],d=V(),f=V();function p(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,a=r.indexOf("#");t=-1===a?r:r.slice(0,a)}return t}()+"#"+("string"===typeof e?e:U(e))}function h(e,t){return void 0===t&&(t=null),A(D({pathname:l.pathname,hash:"",search:""},"string"===typeof e?H(e):e,{state:t,key:z()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},p(e)]}function m(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function g(e){s=e;var t=a();u=t[0],l=t[1],d.call({action:s,location:l})}function y(e){r.go(e)}null==u&&(u=0,r.replaceState(D({},r.state,{idx:u}),""));var b={get action(){return s},get location(){return l},createHref:p,push:function e(t,a){var i=j.Push,o=h(t,a);if(m(i,o,(function(){e(t,a)}))){var s=v(o,u+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(d){n.location.assign(l)}g(i)}},replace:function e(t,n){var a=j.Replace,i=h(t,n);if(m(a,i,(function(){e(t,n)}))){var o=v(i,u),s=o[0],c=o[1];r.replaceState(s,"",c),g(a)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(e){return d.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(I,B),function(){t(),f.length||n.removeEventListener(I,B)}}};return b}function B(e){e.preventDefault(),e.returnValue=""}function V(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function z(){return Math.random().toString(36).substr(2,8)}function U(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,i=e.hash,o=void 0===i?"":i;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function H(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var W=(0,t.createContext)(null);var q=(0,t.createContext)(null);var Z=(0,t.createContext)({outlet:null,matches:[]});function $(e,t){if(!e)throw new Error(t)}function K(e,t,n){void 0===n&&(n="/");var r=ne(("string"===typeof t?H(t):t).pathname||"/",n);if(null==r)return null;var a=G(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var i=null,o=0;null==i&&o<a.length;++o)i=J(a[o],r);return i}function G(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,a){var i={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(i.relativePath.startsWith(r)||$(!1),i.relativePath=i.relativePath.slice(r.length));var o=re([r,i.relativePath]),s=n.concat(i);e.children&&e.children.length>0&&(!0===e.index&&$(!1),G(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:X(o,e.index),routesMeta:s})})),t}var Q=/^:\w+$/,Y=function(e){return"*"===e};function X(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(Q.test(t)?3:""===t?1:10)}),r)}function J(e,t){for(var n=e.routesMeta,r={},a="/",i=[],o=0;o<n.length;++o){var s=n[o],c=o===n.length-1,u="/"===a?t:t.slice(a.length)||"/",l=ee({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},u);if(!l)return null;Object.assign(r,l.params);var d=s.route;i.push({params:r,pathname:re([a,l.pathname]),pathnameBase:ae(re([a,l.pathnameBase])),route:d}),"/"!==l.pathnameBase&&(a=re([a,l.pathnameBase]))}return i}function ee(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=L(n,2),a=r[0],i=r[1],o=t.match(a);if(!o)return null;var s=o[0],c=s.replace(/(.)\/+$/,"$1"),u=o.slice(1),l=i.reduce((function(e,t,n){if("*"===t){var r=u[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(u[n]||""),e}),{});return{params:l,pathname:s,pathnameBase:c,pattern:e}}function te(e,t,n){var r,a="string"===typeof e?H(e):e,i=""===e||""===a.pathname?"/":a.pathname;if(null==i)r=n;else{var o=t.length-1;if(i.startsWith("..")){for(var s=i.split("/");".."===s[0];)s.shift(),o-=1;a.pathname=s.join("/")}r=o>=0?t[o]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?H(e):e,r=n.pathname,a=n.search,i=void 0===a?"":a,o=n.hash,s=void 0===o?"":o,c=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:c,search:ie(i),hash:oe(s)}}(a,r);return i&&"/"!==i&&i.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function ne(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ae=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ie=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function se(){return null!=(0,t.useContext)(q)}function ce(){return se()||$(!1),(0,t.useContext)(q).location}function ue(){se()||$(!1);var e=(0,t.useContext)(W),n=e.basename,r=e.navigator,a=(0,t.useContext)(Z).matches,i=ce().pathname,o=JSON.stringify(a.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);return(0,t.useEffect)((function(){s.current=!0})),(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var a=te(e,JSON.parse(o),i);"/"!==n&&(a.pathname=re([n,a.pathname])),(t.replace?r.replace:r.push)(a,t.state)}else r.go(e)}),[n,r,o,i])}function le(e,n){se()||$(!1);var r,a=(0,t.useContext)(Z).matches,i=a[a.length-1],o=i?i.params:{},s=(i&&i.pathname,i?i.pathnameBase:"/"),c=(i&&i.route,ce());if(n){var u,l="string"===typeof n?H(n):n;"/"===s||(null==(u=l.pathname)?void 0:u.startsWith(s))||$(!1),r=l}else r=c;var d=r.pathname||"/",f=K(e,{pathname:"/"===s?d:d.slice(s.length)||"/"});return de(f&&f.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:re([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:re([s,e.pathnameBase])})})),a)}function de(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,a,i){return(0,t.createElement)(Z.Provider,{children:void 0!==a.route.element?a.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,i+1))}})}),null)}function fe(e){$(!1)}function pe(e){var n=e.basename,r=void 0===n?"/":n,a=e.children,i=void 0===a?null:a,o=e.location,s=e.navigationType,c=void 0===s?j.Pop:s,u=e.navigator,l=e.static,d=void 0!==l&&l;se()&&$(!1);var f=ae(r),p=(0,t.useMemo)((function(){return{basename:f,navigator:u,static:d}}),[f,u,d]);"string"===typeof o&&(o=H(o));var h=o,v=h.pathname,m=void 0===v?"/":v,g=h.search,y=void 0===g?"":g,b=h.hash,w=void 0===b?"":b,x=h.state,S=void 0===x?null:x,_=h.key,k=void 0===_?"default":_,C=(0,t.useMemo)((function(){var e=ne(m,f);return null==e?null:{pathname:e,search:y,hash:w,state:S,key:k}}),[f,m,y,w,S,k]);return null==C?null:(0,t.createElement)(W.Provider,{value:p},(0,t.createElement)(q.Provider,{children:i,value:{location:C,navigationType:c}}))}function he(e){var t=e.children,n=e.location;return le(ve(t),n)}function ve(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==fe&&$(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=ve(e.props.children)),n.push(r)}else n.push.apply(n,ve(e.props.children))})),n}var me=function(e,t){return me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},me(e,t)};function ge(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}me(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ye=function(){return ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ye.apply(this,arguments)};function be(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function we(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){e.done?a(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function xe(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}Object.create;function Se(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _e(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function ke(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var Ce=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},Pe={measureLayout:Ce(["layout","layoutId","drag"]),animation:Ce(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:Ce(["exit"]),drag:Ce(["drag","dragControls"]),focus:Ce(["whileFocus"]),hover:Ce(["whileHover","onHoverStart","onHoverEnd"]),tap:Ce(["whileTap","onTap","onTapStart","onTapCancel"]),pan:Ce(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:Ce(["whileInView","onViewportEnter","onViewportLeave"])};var Re=(0,t.createContext)({strict:!1}),Ee=Object.keys(Pe),je=Ee.length;var Te=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),Oe=(0,t.createContext)({});var Me=(0,t.createContext)(null),Le="undefined"!==typeof document,De=Le?t.useLayoutEffect:t.useEffect,Ae={current:null},Ie=!1;function Ne(){return!Ie&&function(){if(Ie=!0,Le)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return Ae.current=e.matches};e.addListener(t),t()}else Ae.current=!1}(),_e((0,t.useState)(Ae.current),1)[0]}function Fe(e,n,r,a){var i=(0,t.useContext)(Re),o=(0,t.useContext)(Oe).visualElement,s=(0,t.useContext)(Me),c=function(){var e=Ne(),n=(0,t.useContext)(Te).reducedMotion;return"never"!==n&&("always"===n||e)}(),u=(0,t.useRef)(void 0);a||(a=i.renderer),!u.current&&a&&(u.current=a(e,{visualState:n,parent:o,props:r,presenceId:null===s||void 0===s?void 0:s.id,blockInitialAnimation:!1===(null===s||void 0===s?void 0:s.initial),shouldReduceMotion:c}));var l=u.current;return De((function(){null===l||void 0===l||l.syncRender()})),(0,t.useEffect)((function(){var e;null===(e=null===l||void 0===l?void 0:l.animationState)||void 0===e||e.animateChanges()})),De((function(){return function(){return null===l||void 0===l?void 0:l.notifyUnmount()}}),[]),l}function Be(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ve(e){return Array.isArray(e)}function ze(e){return"string"===typeof e||Ve(e)}function Ue(e,t,n,r,a){var i;return void 0===r&&(r={}),void 0===a&&(a={}),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,a)),"string"===typeof t&&(t=null===(i=e.variants)||void 0===i?void 0:i[t]),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,a)),t}function He(e,t,n){var r=e.getProps();return Ue(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function We(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||ze(e.initial)||ze(e.animate)||ze(e.whileHover)||ze(e.whileDrag)||ze(e.whileTap)||ze(e.whileFocus)||ze(e.exit)}function qe(e){return Boolean(We(e)||e.variants)}function Ze(e){var n=function(e,t){if(We(e)){var n=e.initial,r=e.animate;return{initial:!1===n||ze(n)?n:void 0,animate:ze(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(Oe)),r=n.initial,a=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:a}}),[$e(r),$e(a)])}function $e(e){return Array.isArray(e)?e.join(" "):e}function Ke(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var Ge=1/60*1e3,Qe="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},Ye="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Qe())}),Ge)};var Xe=!0,Je=!1,et=!1,tt={delta:0,timestamp:0},nt=["read","update","preRender","render","postRender"],rt=nt.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,a=!1,i=!1,o=new WeakSet,s={schedule:function(e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&a,s=i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===s.indexOf(e)&&(s.push(e),i&&a&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(c){if(a)i=!0;else{a=!0;var u=[n,t];if(t=u[0],(n=u[1]).length=0,r=t.length)for(var l=0;l<r;l++){var d=t[l];d(c),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(c))}}};return s}((function(){return Je=!0})),e}),{}),at=nt.reduce((function(e,t){var n=rt[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Je||ut(),n.schedule(e,t,r)},e}),{}),it=nt.reduce((function(e,t){return e[t]=rt[t].cancel,e}),{}),ot=nt.reduce((function(e,t){return e[t]=function(){return rt[t].process(tt)},e}),{}),st=function(e){return rt[e].process(tt)},ct=function e(t){Je=!1,tt.delta=Xe?Ge:Math.max(Math.min(t-tt.timestamp,40),1),tt.timestamp=t,et=!0,nt.forEach(st),et=!1,Je&&(Xe=!1,Ye(e))},ut=function(){Je=!0,Xe=!0,et||Ye(ct)},lt=function(){return tt},dt=at,ft=function(e,t,n){return-n*e+n*t+e};function pt(e,t){return t?e*(1e3/t):0}function ht(e,t){-1===e.indexOf(t)&&e.push(t)}function vt(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var mt=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return ht(this.subscriptions,e),function(){return vt(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var a=0;a<r;a++){var i=this.subscriptions[a];i&&i(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),gt=function(){function e(e){var t=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new mt,this.velocityUpdateSubscribers=new mt,this.renderSubscribers=new mt,this.canTrackVelocity=!1,this.updateAndNotify=function(e,n){void 0===n&&(n=!0),t.prev=t.current,t.current=e;var r=lt(),a=r.delta,i=r.timestamp;t.lastUpdated!==i&&(t.timeDelta=a,t.lastUpdated=i,dt.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),n&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return dt.postRender(t.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=function(e){return!isNaN(parseFloat(e))}(this.current)}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?pt(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function yt(e){return new gt(e)}var bt=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)};var wt=function(e,t,n){return Math.min(Math.max(n,e),t)},xt=.001;function St(e){var t,n,r=e.duration,a=void 0===r?800:r,i=e.bounce,o=void 0===i?.25:i,s=e.velocity,c=void 0===s?0:s,u=e.mass,l=void 0===u?1:u,d=1-o;d=wt(.05,1,d),a=wt(.01,10,a/1e3),d<1?(t=function(e){var t=e*d,n=t*a,r=t-c,i=_t(e,d),o=Math.exp(-n);return xt-r/i*o},n=function(e){var n=e*d*a,r=n*c+c,i=Math.pow(d,2)*Math.pow(e,2)*a,o=Math.exp(-n),s=_t(Math.pow(e,2),d);return(-t(e)+xt>0?-1:1)*((r-i)*o)/s}):(t=function(e){return Math.exp(-e*a)*((e-c)*a+1)-.001},n=function(e){return Math.exp(-e*a)*(a*a*(c-e))});var f=function(e,t,n){for(var r=n,a=1;a<12;a++)r-=e(r)/t(r);return r}(t,n,5/a);if(a*=1e3,isNaN(f))return{stiffness:100,damping:10,duration:a};var p=Math.pow(f,2)*l;return{stiffness:p,damping:2*d*Math.sqrt(l*p),duration:a}}function _t(e,t){return e*Math.sqrt(1-t*t)}var kt=["duration","bounce"],Ct=["stiffness","damping","mass"];function Pt(e,t){return t.some((function(t){return void 0!==e[t]}))}function Rt(e){var t=e.from,n=void 0===t?0:t,r=e.to,a=void 0===r?1:r,i=e.restSpeed,o=void 0===i?2:i,s=e.restDelta,c=be(e,["from","to","restSpeed","restDelta"]),u={done:!1,value:n},l=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Pt(e,Ct)&&Pt(e,kt)){var n=St(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(c),d=l.stiffness,f=l.damping,p=l.mass,h=l.velocity,v=l.duration,m=l.isResolvedFromDuration,g=Et,y=Et;function b(){var e=h?-h/1e3:0,t=a-n,r=f/(2*Math.sqrt(d*p)),i=Math.sqrt(d/p)/1e3;if(void 0===s&&(s=Math.min(Math.abs(a-n)/100,.4)),r<1){var o=_t(i,r);g=function(n){var s=Math.exp(-r*i*n);return a-s*((e+r*i*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},y=function(n){var a=Math.exp(-r*i*n);return r*i*a*(Math.sin(o*n)*(e+r*i*t)/o+t*Math.cos(o*n))-a*(Math.cos(o*n)*(e+r*i*t)-o*t*Math.sin(o*n))}}else if(1===r)g=function(n){return a-Math.exp(-i*n)*(t+(e+i*t)*n)};else{var c=i*Math.sqrt(r*r-1);g=function(n){var o=Math.exp(-r*i*n),s=Math.min(c*n,300);return a-o*((e+r*i*t)*Math.sinh(s)+c*t*Math.cosh(s))/c}}}return b(),{next:function(e){var t=g(e);if(m)u.done=e>=v;else{var n=1e3*y(e),r=Math.abs(n)<=o,i=Math.abs(a-t)<=s;u.done=r&&i}return u.value=u.done?a:t,u},flipTarget:function(){h=-h;var e=[a,n];n=e[0],a=e[1],b()}}}Rt.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var Et=function(e){return 0},jt=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Tt=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Ot=function(e){return e%1?Number(e.toFixed(5)):e},Mt=/(-)?([\d]*\.?[\d])+/g,Lt=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Dt=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function At(e){return"string"===typeof e}var It={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},Nt=Object.assign(Object.assign({},It),{transform:Tt(0,1)}),Ft=Object.assign(Object.assign({},It),{default:1}),Bt=n(4942),Vt=function(e,t){return function(n){return Boolean(At(n)&&Dt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},zt=function(e,t,n){return function(r){var a;if(!At(r))return r;var i=L(r.match(Mt),4),o=i[0],s=i[1],c=i[2],u=i[3];return a={},(0,Bt.Z)(a,e,parseFloat(o)),(0,Bt.Z)(a,t,parseFloat(s)),(0,Bt.Z)(a,n,parseFloat(c)),(0,Bt.Z)(a,"alpha",void 0!==u?parseFloat(u):1),a}},Ut=Tt(0,255),Ht=Object.assign(Object.assign({},It),{transform:function(e){return Math.round(Ut(e))}}),Wt={test:Vt("rgb","red"),parse:zt("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,a=e.alpha,i=void 0===a?1:a;return"rgba("+Ht.transform(t)+", "+Ht.transform(n)+", "+Ht.transform(r)+", "+Ot(Nt.transform(i))+")"}};var qt={test:Vt("#"),parse:function(e){var t="",n="",r="",a="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),a=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),a=e.substr(4,1),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}},transform:Wt.transform},Zt=function(e){return{test:function(t){return At(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},$t=Zt("deg"),Kt=Zt("%"),Gt=Zt("px"),Qt=Zt("vh"),Yt=Zt("vw"),Xt=Object.assign(Object.assign({},Kt),{parse:function(e){return Kt.parse(e)/100},transform:function(e){return Kt.transform(100*e)}}),Jt={test:Vt("hsl","hue"),parse:zt("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,a=e.alpha,i=void 0===a?1:a;return"hsla("+Math.round(t)+", "+Kt.transform(Ot(n))+", "+Kt.transform(Ot(r))+", "+Ot(Nt.transform(i))+")"}};function en(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tn(e){var t=e.hue,n=e.saturation,r=e.lightness,a=e.alpha;t/=360,r/=100;var i=0,o=0,s=0;if(n/=100){var c=r<.5?r*(1+n):r+n-r*n,u=2*r-c;i=en(u,c,t+1/3),o=en(u,c,t),s=en(u,c,t-1/3)}else i=o=s=r;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*s),alpha:a}}var nn=function(e,t,n){var r=e*e,a=t*t;return Math.sqrt(Math.max(0,n*(a-r)+r))},rn=[qt,Wt,Jt],an=function(e){return rn.find((function(t){return t.test(e)}))},on=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},sn=function(e,t){var n=an(e),r=an(t);on(e),on(t);var a=n.parse(e),i=r.parse(t);n===Jt&&(a=tn(a),n=Wt),r===Jt&&(i=tn(i),r=Wt);var o=Object.assign({},a);return function(e){for(var t in o)"alpha"!==t&&(o[t]=nn(a[t],i[t],e));return o.alpha=ft(a.alpha,i.alpha,e),n.transform(o)}};function cn(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var un={test:function(e){return Wt.test(e)||qt.test(e)||Jt.test(e)},parse:function(e){return Wt.test(e)?Wt.parse(e):Jt.test(e)?Jt.parse(e):qt.parse(e)},transform:function(e){return At(e)?e:e.hasOwnProperty("red")?Wt.transform(e):Jt.transform(e)}},ln="${c}",dn="${n}";function fn(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(Lt);r&&(n=r.length,e=e.replace(Lt,ln),t.push.apply(t,cn(r.map(un.parse))));var a=e.match(Mt);return a&&(e=e.replace(Mt,dn),t.push.apply(t,cn(a.map(It.parse)))),{values:t,numColors:n,tokenised:e}}function pn(e){return fn(e).values}function hn(e){var t=fn(e),n=t.values,r=t.numColors,a=t.tokenised,i=n.length;return function(e){for(var t=a,n=0;n<i;n++)t=t.replace(n<r?ln:dn,n<r?un.transform(e[n]):Ot(e[n]));return t}}var vn=function(e){return"number"===typeof e?0:e};var mn={test:function(e){var t,n,r,a;return isNaN(e)&&At(e)&&(null!==(n=null===(t=e.match(Mt))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(a=null===(r=e.match(Lt))||void 0===r?void 0:r.length)&&void 0!==a?a:0)>0},parse:pn,createTransformer:hn,getAnimatableNone:function(e){var t=pn(e);return hn(e)(t.map(vn))}},gn=function(e){return"number"===typeof e},yn=function(e,t){return function(n){return t(e(n))}},bn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(yn)};function wn(e,t){return gn(e)?function(n){return ft(e,t,n)}:un.test(e)?sn(e,t):kn(e,t)}var xn=function(e,t){var n=cn(e),r=n.length,a=e.map((function(e,n){return wn(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=a[t](e);return n}},Sn=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var a in n)void 0!==e[a]&&void 0!==t[a]&&(r[a]=wn(e[a],t[a]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function _n(e){for(var t=mn.parse(e),n=t.length,r=0,a=0,i=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?i++:a++;return{parsed:t,numNumbers:r,numRGB:a,numHSL:i}}var kn=function(e,t){var n=mn.createTransformer(t),r=_n(e),a=_n(t);return r.numHSL===a.numHSL&&r.numRGB===a.numRGB&&r.numNumbers>=a.numNumbers?bn(xn(r.parsed,a.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},Cn=function(e,t){return function(n){return ft(e,t,n)}};function Pn(e,t,n){for(var r,a=[],i=n||("number"===typeof(r=e[0])?Cn:"string"===typeof r?un.test(r)?sn:kn:Array.isArray(r)?xn:"object"===typeof r?Sn:void 0),o=e.length-1,s=0;s<o;s++){var c=i(e[s],e[s+1]);if(t){var u=Array.isArray(t)?t[s]:t;c=bn(u,c)}a.push(c)}return a}function Rn(e,t){var n=L(e,2),r=n[0],a=n[1],i=L(t,1)[0];return function(e){return i(jt(r,a,e))}}function En(e,t){var n=e.length,r=n-1;return function(a){var i=0,o=!1;if(a<=e[0]?o=!0:a>=e[r]&&(i=r-1,o=!0),!o){for(var s=1;s<n&&!(e[s]>a||s===r);s++);i=s-1}var c=jt(e[i],e[i+1],a);return t[i](c)}}function jn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,a=void 0===r||r,i=n.ease,o=n.mixer,s=e.length;t.length,!i||!Array.isArray(i)||i.length,e[0]>e[s-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var c=Pn(t,i,o),u=2===s?Rn(e,c):En(e,c);return a?function(t){return u(wt(e[0],e[s-1],t))}:u}var Tn,On=function(e){return function(t){return 1-e(1-t)}},Mn=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Ln=function(e){return function(t){return t*t*((e+1)*t-e)}},Dn=function(e){return e},An=(Tn=2,function(e){return Math.pow(e,Tn)}),In=On(An),Nn=Mn(An),Fn=function(e){return 1-Math.sin(Math.acos(e))},Bn=On(Fn),Vn=Mn(Bn),zn=Ln(1.525),Un=On(zn),Hn=Mn(zn),Wn=function(e){var t=Ln(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),qn=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},Zn=On(qn);function $n(e,t){return e.map((function(){return t||Nn})).splice(0,e.length-1)}function Kn(e){var t=e.from,n=void 0===t?0:t,r=e.to,a=void 0===r?1:r,i=e.ease,o=e.offset,s=e.duration,c=void 0===s?300:s,u={done:!1,value:n},l=Array.isArray(a)?a:[n,a],d=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===l.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),c);function f(){return jn(d,l,{ease:Array.isArray(i)?i:$n(l,i)})}var p=f();return{next:function(e){return u.value=p(e),u.done=e>=c,u},flipTarget:function(){l.reverse(),p=f()}}}var Gn={keyframes:Kn,spring:Rt,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,a=void 0===r?0:r,i=e.power,o=void 0===i?.8:i,s=e.timeConstant,c=void 0===s?350:s,u=e.restDelta,l=void 0===u?.5:u,d=e.modifyTarget,f={done:!1,value:a},p=o*n,h=a+p,v=void 0===d?h:d(h);return v!==h&&(p=v-a),{next:function(e){var t=-p*Math.exp(-e/c);return f.done=!(t>l||t<-l),f.value=f.done?v:v+t,f},flipTarget:function(){}}}};function Qn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var Yn=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return dt.update(t,!0)},stop:function(){return it.update(t)}}};function Xn(e){var t,n,r,a,i,o=e.from,s=e.autoplay,c=void 0===s||s,u=e.driver,l=void 0===u?Yn:u,d=e.elapsed,f=void 0===d?0:d,p=e.repeat,h=void 0===p?0:p,v=e.repeatType,m=void 0===v?"loop":v,g=e.repeatDelay,y=void 0===g?0:g,b=e.onPlay,w=e.onStop,x=e.onComplete,S=e.onRepeat,_=e.onUpdate,k=be(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),C=k.to,P=0,R=k.duration,E=!1,j=!0,T=function(e){if(Array.isArray(e.to))return Kn;if(Gn[e.type])return Gn[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Kn:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Rt:Kn}(k);(null===(n=(t=T).needsInterpolation)||void 0===n?void 0:n.call(t,o,C))&&(i=jn([0,100],[o,C],{clamp:!1}),o=0,C=100);var O=T(Object.assign(Object.assign({},k),{from:o,to:C}));function M(){P++,"reverse"===m?f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:Qn(t+-e,t,n)}(f,R,y,j=P%2===0):(f=Qn(f,R,y),"mirror"===m&&O.flipTarget()),E=!1,S&&S()}function L(e){if(j||(e=-e),f+=e,!E){var t=O.next(Math.max(0,f));a=t.value,i&&(a=i(a)),E=j?t.done:f<=0}null===_||void 0===_||_(a),E&&(0===P&&(null!==R&&void 0!==R||(R=f)),P<h?function(e,t,n,r){return r?e>=t+n:e<=-n}(f,R,y,j)&&M():(r.stop(),x&&x()))}return c&&(null===b||void 0===b||b(),(r=l(L)).start()),{stop:function(){null===w||void 0===w||w(),r.stop()}}}var Jn=function(e){return 1e3*e},er=function(e,t){return 1-3*t+3*e},tr=function(e,t){return 3*t-6*e},nr=function(e){return 3*e},rr=function(e,t,n){return((er(t,n)*e+tr(t,n))*e+nr(t))*e},ar=function(e,t,n){return 3*er(t,n)*e*e+2*tr(t,n)*e+nr(t)};var ir=.1;function or(e,t,n,r){if(e===t&&n===r)return Dn;for(var a=new Float32Array(11),i=0;i<11;++i)a[i]=rr(i*ir,e,n);function o(t){for(var r=0,i=1;10!==i&&a[i]<=t;++i)r+=ir;--i;var o=r+(t-a[i])/(a[i+1]-a[i])*ir,s=ar(o,e,n);return s>=.001?function(e,t,n,r){for(var a=0;a<8;++a){var i=ar(t,n,r);if(0===i)return t;t-=(rr(t,n,r)-e)/i}return t}(t,o,e,n):0===s?o:function(e,t,n,r,a){var i,o,s=0;do{(i=rr(o=t+(n-t)/2,r,a)-e)>0?n=o:t=o}while(Math.abs(i)>1e-7&&++s<10);return o}(t,r,r+ir,e,n)}return function(e){return 0===e||1===e?e:rr(o(e),t,r)}}var sr={linear:Dn,easeIn:An,easeInOut:Nn,easeOut:In,circIn:Fn,circInOut:Vn,circOut:Bn,backIn:zn,backInOut:Hn,backOut:Un,anticipate:Wn,bounceIn:Zn,bounceInOut:function(e){return e<.5?.5*(1-qn(1-2*e)):.5*qn(2*e-1)+.5},bounceOut:qn},cr=function(e){if(Array.isArray(e)){e.length;var t=_e(e,4);return or(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),sr[e]):e},ur=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!mn.test(t)||t.startsWith("url(")))},lr=function(e){return Array.isArray(e)},dr=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},fr=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},pr=function(){return{type:"keyframes",ease:"linear",duration:.3}},hr=function(e){return{type:"keyframes",duration:.8,values:e}},vr={x:dr,y:dr,z:dr,rotate:dr,rotateX:dr,rotateY:dr,rotateZ:dr,scaleX:fr,scaleY:fr,scale:fr,opacity:pr,backgroundColor:pr,color:pr,default:fr},mr=new Set(["brightness","contrast","saturate","opacity"]);function gr(e){var t=L(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var a=L(r.match(Mt)||[],1)[0];if(!a)return e;var i=r.replace(a,""),o=mr.has(n)?1:0;return a!==r&&(o*=100),n+"("+o+i+")"}var yr=/([a-z-]*)\(.*?\)/g,br=Object.assign(Object.assign({},mn),{getAnimatableNone:function(e){var t=e.match(yr);return t?t.map(gr).join(" "):e}}),wr=ye(ye({},It),{transform:Math.round}),xr={borderWidth:Gt,borderTopWidth:Gt,borderRightWidth:Gt,borderBottomWidth:Gt,borderLeftWidth:Gt,borderRadius:Gt,radius:Gt,borderTopLeftRadius:Gt,borderTopRightRadius:Gt,borderBottomRightRadius:Gt,borderBottomLeftRadius:Gt,width:Gt,maxWidth:Gt,height:Gt,maxHeight:Gt,size:Gt,top:Gt,right:Gt,bottom:Gt,left:Gt,padding:Gt,paddingTop:Gt,paddingRight:Gt,paddingBottom:Gt,paddingLeft:Gt,margin:Gt,marginTop:Gt,marginRight:Gt,marginBottom:Gt,marginLeft:Gt,rotate:$t,rotateX:$t,rotateY:$t,rotateZ:$t,scale:Ft,scaleX:Ft,scaleY:Ft,scaleZ:Ft,skew:$t,skewX:$t,skewY:$t,distance:Gt,translateX:Gt,translateY:Gt,translateZ:Gt,x:Gt,y:Gt,z:Gt,perspective:Gt,transformPerspective:Gt,opacity:Nt,originX:Xt,originY:Xt,originZ:Gt,zIndex:wr,fillOpacity:Nt,strokeOpacity:Nt,numOctaves:wr},Sr=ye(ye({},xr),{color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:br,WebkitFilter:br}),_r=function(e){return Sr[e]};function kr(e,t){var n,r=_r(e);return r!==br&&(r=mn),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var Cr=!1,Pr=function(e){return lr(e)?e[e.length-1]||0:e};function Rr(e){var t=e.ease,n=e.times,r=e.yoyo,a=e.flip,i=e.loop,o=be(e,["ease","times","yoyo","flip","loop"]),s=ye({},o);return n&&(s.offset=n),o.duration&&(s.duration=Jn(o.duration)),o.repeatDelay&&(s.repeatDelay=Jn(o.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(cr):cr(t)),"tween"===o.type&&(s.type="keyframes"),(r||i||a)&&(!0,r?s.repeatType="reverse":i?s.repeatType="loop":a&&(s.repeatType="mirror"),s.repeat=i||r||a||o.repeat),"spring"!==o.type&&(s.type="keyframes"),s}function Er(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=ke([],_e(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=be(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=ye(ye({},e),function(e,t){var n;return n=lr(t)?hr:vr[e]||vr.default,ye({to:t},n(t))}(n,t.to))),ye(ye({},t),Rr(e))}function jr(e,t,n,r,a){var i,o=Mr(r,e),s=null!==(i=o.from)&&void 0!==i?i:t.get(),c=ur(e,n);"none"===s&&c&&"string"===typeof n?s=kr(e,n):Tr(s)&&"string"===typeof n?s=Or(n):!Array.isArray(n)&&Tr(n)&&"string"===typeof s&&(n=Or(s));var u=ur(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(n,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(n," via the `style` property."),u&&c&&!1!==o.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:a,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,a=e.velocity,i=void 0===a?0:a,o=e.min,s=e.max,c=e.power,u=void 0===c?.8:c,l=e.timeConstant,d=void 0===l?750:l,f=e.bounceStiffness,p=void 0===f?500:f,h=e.bounceDamping,v=void 0===h?10:h,m=e.restDelta,g=void 0===m?1:m,y=e.modifyTarget,b=e.driver,w=e.onUpdate,x=e.onComplete,S=e.onStop;function _(e){return void 0!==o&&e<o||void 0!==s&&e>s}function k(e){return void 0===o?s:void 0===s||Math.abs(o-e)<Math.abs(s-e)?o:s}function C(e){null===t||void 0===t||t.stop(),t=Xn(Object.assign(Object.assign({},e),{driver:b,onUpdate:function(t){var n;null===w||void 0===w||w(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:x,onStop:S}))}function P(e){C(Object.assign({type:"spring",stiffness:p,damping:v,restDelta:g},e))}if(_(r))P({from:r,velocity:i,to:k(r)});else{var R=u*i+r;"undefined"!==typeof y&&(R=y(R));var E,j,T=k(R),O=T===o?-1:1;C({type:"decay",from:r,velocity:i,timeConstant:d,power:u,restDelta:g,modifyTarget:y,onUpdate:_(R)?function(e){E=j,j=e,i=pt(e-E,lt().delta),(1===O&&e>T||-1===O&&e<T)&&P({from:e,to:T,velocity:i})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(ye(ye({},r),o)):Xn(ye(ye({},Er(o,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=o.onUpdate)||void 0===t||t.call(o,e)},onComplete:function(){var e;r.onComplete(),null===(e=o.onComplete)||void 0===e||e.call(o)}}))}:function(){var e,r,i=Pr(n);return t.set(i),a(),null===(e=null===o||void 0===o?void 0:o.onUpdate)||void 0===e||e.call(o,i),null===(r=null===o||void 0===o?void 0:o.onComplete)||void 0===r||r.call(o),{stop:function(){}}}}function Tr(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Or(e){return"number"===typeof e?0:kr("",e)}function Mr(e,t){return e[t]||e.default||e}function Lr(e,t,n,r){return void 0===r&&(r={}),Cr&&(r={type:!1}),t.start((function(a){var i,o,s=jr(e,t,n,r,a),c=function(e,t){var n,r;return null!==(r=null!==(n=(Mr(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),u=function(){return o=s()};return c?i=window.setTimeout(u,Jn(c)):u(),function(){clearTimeout(i),null===o||void 0===o||o.stop()}}))}var Dr=["TopLeft","TopRight","BottomLeft","BottomRight"],Ar=Dr.length,Ir=function(e){return"string"===typeof e?parseFloat(e):e},Nr=function(e){return"number"===typeof e||Gt.test(e)};function Fr(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var Br=zr(0,.5,Bn),Vr=zr(.5,.95,Dn);function zr(e,t,n){return function(r){return r<e?0:r>t?1:n(jt(e,t,r))}}function Ur(e,t){e.min=t.min,e.max=t.max}function Hr(e,t){Ur(e.x,t.x),Ur(e.y,t.y)}function Wr(e){return void 0===e||1===e}function qr(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!Wr(t)||!Wr(n)||!Wr(r)}function Zr(e){return qr(e)||$r(e.x)||$r(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function $r(e){return e&&"0%"!==e}function Kr(e,t,n){return n+t*(e-n)}function Gr(e,t,n,r,a){return void 0!==a&&(e=Kr(e,a,r)),Kr(e,n,r)+t}function Qr(e,t,n,r,a){void 0===t&&(t=0),void 0===n&&(n=1),e.min=Gr(e.min,t,n,r,a),e.max=Gr(e.max,t,n,r,a)}function Yr(e,t){var n=t.x,r=t.y;Qr(e.x,n.translate,n.scale,n.originPoint),Qr(e.y,r.translate,r.scale,r.originPoint)}function Xr(e,t){e.min=e.min+t,e.max=e.max+t}function Jr(e,t,n){var r=_e(n,3),a=r[0],i=r[1],o=r[2],s=void 0!==t[o]?t[o]:.5,c=ft(e.min,e.max,s);Qr(e,t[a],t[i],c,t.scale)}var ea=["x","scaleX","originX"],ta=["y","scaleY","originY"];function na(e,t){Jr(e.x,t,ea),Jr(e.y,t,ta)}var ra=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},aa=function(e){return ra(e)&&e.hasOwnProperty("z")},ia=function(e,t){return Math.abs(e-t)};function oa(e,t){if(gn(e)&&gn(t))return ia(e,t);if(ra(e)&&ra(t)){var n=ia(e.x,t.x),r=ia(e.y,t.y),a=aa(e)&&aa(t)?ia(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(a,2))}}function sa(e){return e.max-e.min}function ca(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),oa(e,t)<n}function ua(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=ft(t.min,t.max,e.origin),e.scale=sa(n)/sa(t),(ca(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ft(n.min,n.max,e.origin)-e.originPoint,(ca(e.translate)||isNaN(e.translate))&&(e.translate=0)}function la(e,t,n,r){ua(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),ua(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function da(e,t,n){e.min=n.min+t.min,e.max=e.min+sa(t)}function fa(e,t,n){e.min=t.min-n.min,e.max=e.min+sa(t)}function pa(e,t,n){fa(e.x,t.x,n.x),fa(e.y,t.y,n.y)}function ha(e,t,n,r,a){return e=Kr(e-=t,1/n,r),void 0!==a&&(e=Kr(e,1/a,r)),e}function va(e,t,n,r,a){var i=_e(n,3),o=i[0],s=i[1],c=i[2];!function(e,t,n,r,a,i,o){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===i&&(i=e),void 0===o&&(o=e),Kt.test(t)&&(t=parseFloat(t),t=ft(o.min,o.max,t/100)-o.min),"number"===typeof t){var s=ft(i.min,i.max,r);e===i&&(s-=t),e.min=ha(e.min,t,n,s,a),e.max=ha(e.max,t,n,s,a)}}(e,t[o],t[s],t[c],t.scale,r,a)}var ma=["x","scaleX","originX"],ga=["y","scaleY","originY"];function ya(e,t,n,r){va(e.x,t,ma,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),va(e.y,t,ga,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function ba(e){return 0===e.translate&&1===e.scale}function wa(e){return ba(e.x)&&ba(e.y)}function xa(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Sa=function(){function e(){this.members=[]}return e.prototype.add=function(e){ht(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(vt(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var a=this.members[r];if(!1!==a.isPresent){t=a;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,a,i;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(i=null===(r=e.resumingFrom)||void 0===r?void 0:(a=r.options).onExitComplete)||void 0===i||i.call(a)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}(),_a={};function ka(e,t,n){var r=e.x.translate/t.x,a=e.y.translate/t.y,i="translate3d(".concat(r,"px, ").concat(a,"px, 0) ");if(n){var o=n.rotate,s=n.rotateX,c=n.rotateY;o&&(i+="rotate(".concat(o,"deg) ")),s&&(i+="rotateX(".concat(s,"deg) ")),c&&(i+="rotateY(".concat(c,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(i+="scale(".concat(e.x.scale,", ").concat(e.y.scale,")"))?"none":i}function Ca(e){return[e("x"),e("y")]}var Pa=["","X","Y","Z"],Ra=["transformPerspective","x","y","z"];function Ea(e,t){return Ra.indexOf(e)-Ra.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return Pa.forEach((function(t){return Ra.push(e+t)}))}));var ja=new Set(Ra);function Ta(e){return ja.has(e)}var Oa=new Set(["originX","originY","originZ"]);function Ma(e){return Oa.has(e)}var La=function(e,t){return e.depth-t.depth},Da=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){ht(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){vt(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(La),this.isDirty=!1,this.children.forEach(e)},e}();function Aa(e){var t,n=bt(e)?e.get():e;return t=n,Boolean(t&&"object"===typeof t&&t.mix&&t.toValue)?n.toValue():n}var Ia={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Na(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,a=e.resetTransform;return function(){function e(e,t,r){var a=this;void 0===t&&(t={}),void 0===r&&(r=null===n||void 0===n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){a.isUpdating&&(a.isUpdating=!1,a.clearAllSnapshots())},this.updateProjection=function(){a.nodes.forEach(Wa),a.nodes.forEach(qa)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?ke(ke([],_e(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var i=0;i<this.path.length;i++)this.path[i].shouldResetTransform=!0;this.root===this&&(this.nodes=new Da)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new mt),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null===r||void 0===r||r.notify.apply(r,ke([],_e(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,a=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var i=this.options,o=i.layoutId,s=i.layout,c=i.visualElement;if(c&&!c.getInstance()&&c.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||o)&&(this.isLayoutDirty=!0),t){var u,l=function(){return a.root.updateBlockedByResize=!1};t(e,(function(){a.root.updateBlockedByResize=!0,clearTimeout(u),u=window.setTimeout(l,250),Ia.hasAnimatedSinceResize&&(Ia.hasAnimatedSinceResize=!1,a.nodes.forEach(Ha))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&c&&(o||s)&&this.addEventListener("didUpdate",(function(e){var t,n,r,i,o,s=e.delta,u=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,d=e.layout;if(a.isTreeAnimationBlocked())return a.target=void 0,void(a.relativeTarget=void 0);var f=null!==(n=null!==(t=a.options.transition)&&void 0!==t?t:c.getDefaultTransition())&&void 0!==n?n:Ya,p=c.getProps(),h=p.onLayoutAnimationStart,v=p.onLayoutAnimationComplete,m=!a.targetLayout||!xa(a.targetLayout,d)||l,g=!u&&l;if((null===(r=a.resumeFrom)||void 0===r?void 0:r.instance)||g||u&&(m||!a.currentAnimation)){a.resumeFrom&&(a.resumingFrom=a.resumeFrom,a.resumingFrom.resumingFrom=void 0),a.setAnimationOrigin(s,g);var y=ye(ye({},Mr(f,"layout")),{onPlay:h,onComplete:v});c.shouldReduceMotion&&(y.delay=0,y.type=!1),a.startAnimation(y)}else u||0!==a.animationProgress||a.finishAnimation(),a.isLead()&&(null===(o=(i=a.options).onExitComplete)||void 0===o||o.call(i));a.targetLayout=d}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,it.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(Za))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var a=0;a<this.path.length;a++){var i=this.path[a];i.shouldResetTransform=!0,i.updateScroll()}var o=this.options,s=o.layoutId,c=o.layout;if(void 0!==s||c){var u=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===u||void 0===u?void 0:u(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(za);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Xa),this.potentialNodes.clear()),this.nodes.forEach(Ua),this.nodes.forEach(Fa),this.nodes.forEach(Ba),this.clearAllSnapshots(),ot.update(),ot.preRender(),ot.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(Va),this.sharedNodes.forEach($a)},e.prototype.scheduleUpdateProjection=function(){dt.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;dt.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));ei(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();ei(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(a){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!wa(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(n||Zr(this.latestValues)||o)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(Xr(t.x,n.x),Xr(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};Hr(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],a=r.scroll,i=r.options;r!==this.root&&a&&i.layoutScroll&&(Xr(t.x,a.x),Xr(t.y,a.y))}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};Hr(n,e);for(var r=0;r<this.path.length;r++){var a=this.path[r];!t&&a.options.layoutScroll&&a.scroll&&a!==a.root&&na(n,{x:-a.scroll.x,y:-a.scroll.y}),Zr(a.latestValues)&&na(n,a.latestValues)}return Zr(this.latestValues)&&na(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};Hr(n,e);for(var r=0;r<this.path.length;r++){var a=this.path[r];if(a.instance&&Zr(a.latestValues)){qr(a.latestValues)&&a.updateSnapshot();var i={x:{min:0,max:0},y:{min:0,max:0}};Hr(i,a.measure()),ya(n,a.latestValues,null===(t=a.snapshot)||void 0===t?void 0:t.layout,i)}}return Zr(this.latestValues)&&ya(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=ye(ye(ye({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,a=this.options,i=a.layout,o=a.layoutId;this.layout&&(i||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},pa(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),Hr(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,da(t.x,n.x,r.x),da(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):Hr(this.target,this.layout.actual),Yr(this.target,this.targetDelta)):Hr(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},pa(this.relativeTargetOrigin,this.target,this.relativeParent.target),Hr(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!Zr(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var a=this.getLead();Hr(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var a,i;void 0===r&&(r=!1);var o=n.length;if(o){var s,c;t.x=t.y=1;for(var u=0;u<o;u++)c=(s=n[u]).projectionDelta,"contents"!==(null===(i=null===(a=s.instance)||void 0===a?void 0:a.style)||void 0===i?void 0:i.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&na(e,{x:-s.scroll.x,y:-s.scroll.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Yr(e,c)),r&&Zr(s.latestValues)&&na(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==a);var i=a.target;if(i){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,s=this.treeScale.y,c=this.projectionTransform;la(this.projectionDelta,this.layoutCorrected,i,this.latestValues),this.projectionTransform=ka(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===o&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",i))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var a=this.snapshot,i=(null===a||void 0===a?void 0:a.latestValues)||{},o=ye({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var c={x:{min:0,max:0},y:{min:0,max:0}},u=null===a||void 0===a?void 0:a.isShared,l=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,d=Boolean(u&&!l&&!0===this.options.crossfade&&!this.path.some(Qa));this.animationProgress=0,this.mixTargetDelta=function(t){var n,a,f,p,h,v=t/1e3;Ka(s.x,e.x,v),Ka(s.y,e.y,v),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(pa(c,r.layout.actual,r.relativeParent.layout.actual),a=r.relativeTarget,f=r.relativeTargetOrigin,p=c,h=v,Ga(a.x,f.x,p.x,h),Ga(a.y,f.y,p.y,h)),u&&(r.animationValues=o,function(e,t,n,r,a,i){var o,s,c,u;a?(e.opacity=ft(0,null!==(o=n.opacity)&&void 0!==o?o:1,Br(r)),e.opacityExit=ft(null!==(s=t.opacity)&&void 0!==s?s:1,0,Vr(r))):i&&(e.opacity=ft(null!==(c=t.opacity)&&void 0!==c?c:1,null!==(u=n.opacity)&&void 0!==u?u:1,r));for(var l=0;l<Ar;l++){var d="border".concat(Dr[l],"Radius"),f=Fr(t,d),p=Fr(n,d);void 0===f&&void 0===p||(f||(f=0),p||(p=0),0===f||0===p||Nr(f)===Nr(p)?(e[d]=Math.max(ft(Ir(f),Ir(p),r),0),(Kt.test(p)||Kt.test(f))&&(e[d]+="%")):e[d]=p)}(t.rotate||n.rotate)&&(e.rotate=ft(t.rotate||0,n.rotate||0,r))}(o,i,r.latestValues,v,d,l)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=v},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(it.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=dt.update((function(){Ia.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=bt(e)?e:yt(e);return Lr("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,ye(ye({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,a=e.latestValues;t&&n&&r&&(Hr(t,n),na(t,a),la(this.projectionDeltaWithTransform,this.layoutCorrected,t,a))},e.prototype.registerSharedNode=function(e,t){var n,r,a;this.sharedNodes.has(e)||this.sharedNodes.set(e,new Sa),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(a=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===a?void 0:a.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,a=t.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,a),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<Pa.length;r++){var a="rotate"+Pa[r];e.getStaticValue(a)&&(t=!0,n[a]=e.getStaticValue(a),e.setStaticValue(a,0))}if(t){for(var a in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(a,n[a]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,a,i,o;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var c=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=Aa(e.pointerEvents)||"",s.transform=c?c(this.latestValues,""):"none",s;var u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){var l={};return this.options.layoutId&&(l.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,l.pointerEvents=Aa(e.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1),l}var d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),s.transform=ka(this.projectionDeltaWithTransform,this.treeScale,d),c&&(s.transform=c(d,s.transform));var f=this.projectionDelta,p=f.x,h=f.y;for(var v in s.transformOrigin="".concat(100*p.origin,"% ").concat(100*h.origin,"% 0"),u.animationValues?s.opacity=u===this?null!==(a=null!==(r=d.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==a?a:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?null!==(i=d.opacity)&&void 0!==i?i:"":null!==(o=d.opacityExit)&&void 0!==o?o:0,_a)if(void 0!==d[v]){var m=_a[v],g=m.correct,y=m.applyTo,b=g(d[v],u);if(y)for(var w=y.length,x=0;x<w;x++)s[y[x]]=b;else s[v]=b}return this.options.layoutId&&(s.pointerEvents=u===this?Aa(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(za),this.root.sharedNodes.clear()},e}()}function Fa(e){e.updateLayout()}function Ba(e){var t,n,r,a,i=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&i&&e.hasListeners("didUpdate")){var o=e.layout,s=o.actual,c=o.measured;"size"===e.options.animationType?Ca((function(e){var t=i.isShared?i.measured[e]:i.layout[e],n=sa(t);t.min=s[e].min,t.max=t.min+n})):"position"===e.options.animationType&&Ca((function(e){var t=i.isShared?i.measured[e]:i.layout[e],n=sa(s[e]);t.max=t.min+n}));var u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};la(u,s,i.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i.isShared?la(l,e.applyTransform(c,!0),i.measured):la(l,s,i.layout);var d=!wa(u),f=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var p=e.relativeParent,h=p.snapshot,v=p.layout;if(h&&v){var m={x:{min:0,max:0},y:{min:0,max:0}};pa(m,i.layout,h.layout);var g={x:{min:0,max:0},y:{min:0,max:0}};pa(g,s,v.actual),xa(m,g)||(f=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:l,layoutDelta:u,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else e.isLead()&&(null===(a=(r=e.options).onExitComplete)||void 0===a||a.call(r));e.options.transition=void 0}function Va(e){e.clearSnapshot()}function za(e){e.clearMeasurements()}function Ua(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function Ha(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Wa(e){e.resolveTargetDelta()}function qa(e){e.calcProjection()}function Za(e){e.resetRotation()}function $a(e){e.removeLeadSnapshot()}function Ka(e,t,n){e.translate=ft(t.translate,0,n),e.scale=ft(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Ga(e,t,n,r){e.min=ft(t.min,n.min,r),e.max=ft(t.max,n.max,r)}function Qa(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Ya={duration:.45,ease:[.4,0,.1,1]};function Xa(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var a=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));a&&e.mount(a,!0)}function Ja(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function ei(e){Ja(e.x),Ja(e.y)}var ti=1;var ni=(0,t.createContext)({}),ri=(0,t.createContext)({});var ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ge(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(t.Component);function ii(e){var n=e.preloadedFeatures,r=e.createVisualElement,a=e.projectionNodeConstructor,i=e.useRender,o=e.useVisualState,s=e.Component;return n&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?Pe.projectionNodeConstructor=e[t]:Pe[t].Component=e[t])}(n),(0,t.forwardRef)((function(e,n){var c=function(e){var n,r=e.layoutId,a=null===(n=(0,t.useContext)(ni))||void 0===n?void 0:n.id;return a&&void 0!==r?a+"-"+r:r}(e);e=ye(ye({},e),{layoutId:c});var u=(0,t.useContext)(Te),l=null,d=Ze(e),f=u.isStatic?void 0:Ke((function(){if(Ia.hasEverUpdated)return ti++})),p=o(e,u.isStatic);return!u.isStatic&&Le&&(d.visualElement=Fe(s,p,ye(ye({},u),e),r),function(e,n,r,a){var i,o=n.layoutId,s=n.layout,c=n.drag,u=n.dragConstraints,l=n.layoutScroll,d=(0,t.useContext)(ri);a&&r&&!(null===r||void 0===r?void 0:r.projection)&&(r.projection=new a(e,r.getLatestValues(),null===(i=r.parent)||void 0===i?void 0:i.projection),r.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:Boolean(c)||u&&Be(u),visualElement:r,scheduleRender:function(){return r.scheduleRender()},animationType:"string"===typeof s?s:"both",initialPromotionConfig:d,layoutScroll:l}))}(f,e,d.visualElement,a||Pe.projectionNodeConstructor),l=function(e,n,r){var a=[];if((0,t.useContext)(Re),!n)return null;for(var i=0;i<je;i++){var o=Ee[i],s=Pe[o],c=s.isEnabled,u=s.Component;c(e)&&u&&a.push(t.createElement(u,ye({key:o},e,{visualElement:n})))}return a}(e,d.visualElement)),t.createElement(ai,{visualElement:d.visualElement,props:ye(ye({},u),e)},l,t.createElement(Oe.Provider,{value:d},i(s,e,f,function(e,n,r){return(0,t.useCallback)((function(t){var a;t&&(null===(a=e.mount)||void 0===a||a.call(e,t)),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):Be(r)&&(r.current=t))}),[n])}(p,d.visualElement,n),p,u.isStatic,d.visualElement)))}))}function oi(e){function t(t,n){return void 0===n&&(n={}),ii(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var si=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function ci(e){return"string"===typeof e&&!e.includes("-")&&!!(si.indexOf(e)>-1||/[A-Z]/.test(e))}function ui(e,t){var n=t.layout,r=t.layoutId;return Ta(e)||Ma(e)||(n||void 0!==r)&&(!!_a[e]||"opacity"===e)}var li={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function di(e){return e.startsWith("--")}var fi=function(e,t){return t&&"number"===typeof e?t.transform(e):e};function pi(e,t,n,r){var a,i=e.style,o=e.vars,s=e.transform,c=e.transformKeys,u=e.transformOrigin;c.length=0;var l=!1,d=!1,f=!0;for(var p in t){var h=t[p];if(di(p))o[p]=h;else{var v=xr[p],m=fi(h,v);if(Ta(p)){if(l=!0,s[p]=m,c.push(p),!f)continue;h!==(null!==(a=v.default)&&void 0!==a?a:0)&&(f=!1)}else Ma(p)?(u[p]=m,d=!0):i[p]=m}}l?i.transform=function(e,t,n,r){var a=e.transform,i=e.transformKeys,o=t.enableHardwareAcceleration,s=void 0===o||o,c=t.allowTransformNone,u=void 0===c||c,l="";i.sort(Ea);for(var d=!1,f=i.length,p=0;p<f;p++){var h=i[p];l+="".concat(li[h]||h,"(").concat(a[h],") "),"z"===h&&(d=!0)}return!d&&s?l+="translateZ(0)":l=l.trim(),r?l=r(a,n?"":l):u&&n&&(l="none"),l}(e,n,f,r):r?i.transform=r({},""):!t.transform&&i.transform&&(i.transform="none"),d&&(i.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,a=void 0===r?"50%":r,i=e.originZ,o=void 0===i?0:i;return"".concat(n," ").concat(a," ").concat(o)}(u))}var hi=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function vi(e,t,n){for(var r in t)bt(t[r])||ui(r,n)||(e[r]=t[r])}function mi(e,n,r){var a={};return vi(a,e.style||{},e),Object.assign(a,function(e,n,r){var a=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};pi(e,n,{enableHardwareAcceleration:!r},a);var t=e.style;return ye(ye({},e.vars),t)}),[n])}(e,n,r)),e.transformValues&&(a=e.transformValues(a)),a}function gi(e,t,n){var r={},a=mi(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=a,r}var yi=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function bi(e){return yi.has(e)}var wi,xi=function(e){return!bi(e)};try{(wi=require("@emotion/is-prop-valid").default)&&(xi=function(e){return e.startsWith("on")?!bi(e):wi(e)})}catch(mg){}function Si(e,t,n){return"string"===typeof e?e:Gt.transform(t+n*e)}var _i={offset:"stroke-dashoffset",array:"stroke-dasharray"},ki={offset:"strokeDashoffset",array:"strokeDasharray"};function Ci(e,t,n,r){var a=t.attrX,i=t.attrY,o=t.originX,s=t.originY,c=t.pathLength,u=t.pathSpacing,l=void 0===u?1:u,d=t.pathOffset,f=void 0===d?0:d;pi(e,be(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var p=e.attrs,h=e.style,v=e.dimensions;p.transform&&(v&&(h.transform=p.transform),delete p.transform),v&&(void 0!==o||void 0!==s||h.transform)&&(h.transformOrigin=function(e,t,n){var r=Si(t,e.x,e.width),a=Si(n,e.y,e.height);return"".concat(r," ").concat(a)}(v,void 0!==o?o:.5,void 0!==s?s:.5)),void 0!==a&&(p.x=a),void 0!==i&&(p.y=i),void 0!==c&&function(e,t,n,r,a){void 0===n&&(n=1),void 0===r&&(r=0),void 0===a&&(a=!0),e.pathLength=1;var i=a?_i:ki;e[i.offset]=Gt.transform(-r);var o=Gt.transform(t),s=Gt.transform(n);e[i.array]="".concat(o," ").concat(s)}(p,c,l,f,!1)}var Pi=function(){return ye(ye({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function Ri(e,n){var r=(0,t.useMemo)((function(){var t=Pi();return Ci(t,n,{enableHardwareAcceleration:!1},e.transformTemplate),ye(ye({},t.attrs),{style:ye({},t.style)})}),[n]);if(e.style){var a={};vi(a,e.style,e),r.style=ye(ye({},a),r.style)}return r}function Ei(e){void 0===e&&(e=!1);return function(n,r,a,i,o,s){var c=o.latestValues,u=(ci(n)?Ri:gi)(r,c,s),l=function(e,t,n){var r={};for(var a in e)(xi(a)||!0===n&&bi(a)||!t&&!bi(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}(r,"string"===typeof n,e),d=ye(ye(ye({},l),u),{ref:i});return a&&(d["data-projection-id"]=a),(0,t.createElement)(n,d)}}var ji=/([a-z])([A-Z])/g,Ti=function(e){return e.replace(ji,"$1-$2").toLowerCase()};function Oi(e,t,n,r){var a=t.style,i=t.vars;for(var o in Object.assign(e.style,a,r&&r.getProjectionStyles(n)),i)e.style.setProperty(o,i[o])}var Mi=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Li(e,t,n,r){for(var a in Oi(e,t,void 0,r),t.attrs)e.setAttribute(Mi.has(a)?a:Ti(a),t.attrs[a])}function Di(e){var t=e.style,n={};for(var r in t)(bt(t[r])||ui(r,e))&&(n[r]=t[r]);return n}function Ai(e){var t=Di(e);for(var n in e){if(bt(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function Ii(e){return"object"===typeof e&&"function"===typeof e.start}function Ni(e,t,n,r){var a=e.scrapeMotionValuesFromProps,i=e.createRenderState,o=e.onMount,s={latestValues:Bi(t,n,r,a),renderState:i()};return o&&(s.mount=function(e){return o(t,e,s)}),s}var Fi=function(e){return function(n,r){var a=(0,t.useContext)(Oe),i=(0,t.useContext)(Me);return r?Ni(e,n,a,i):Ke((function(){return Ni(e,n,a,i)}))}};function Bi(e,t,n,r){var a={},i=!1===(null===n||void 0===n?void 0:n.initial),o=r(e);for(var s in o)a[s]=Aa(o[s]);var c=e.initial,u=e.animate,l=We(e),d=qe(e);t&&d&&!l&&!1!==e.inherit&&(null!==c&&void 0!==c||(c=t.initial),null!==u&&void 0!==u||(u=t.animate));var f=i||!1===c,p=f?u:c;p&&"boolean"!==typeof p&&!Ii(p)&&(Array.isArray(p)?p:[p]).forEach((function(t){var n=Ue(e,t);if(n){var r=n.transitionEnd;n.transition;var i=be(n,["transitionEnd","transition"]);for(var o in i){var s=i[o];if(Array.isArray(s))s=s[f?s.length-1:0];null!==s&&(a[o]=s)}for(var o in r)a[o]=r[o]}}));return a}var Vi,zi={useVisualState:Fi({scrapeMotionValuesFromProps:Ai,createRenderState:Pi,onMount:function(e,t,n){var r=n.renderState,a=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(i){r.dimensions={x:0,y:0,width:0,height:0}}Ci(r,a,{enableHardwareAcceleration:!1},e.transformTemplate),Li(t,r)}})},Ui={useVisualState:Fi({scrapeMotionValuesFromProps:Di,createRenderState:hi})};function Hi(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function Wi(e,n,r,a){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return Hi(t,n,r,a)}),[e,n,r,a])}function qi(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Zi(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(Vi||(Vi={}));var $i={pageX:0,pageY:0};function Ki(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||$i;return{x:n[t+"X"],y:n[t+"Y"]}}function Gi(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Qi(e,t){return void 0===t&&(t="page"),{point:Zi(e)?Ki(e,t):Gi(e,t)}}var Yi=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,Qi(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},Xi={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},Ji={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function eo(e){return Le&&null===window.onpointerdown?e:Le&&null===window.ontouchstart?Ji[e]:Le&&null===window.onmousedown?Xi[e]:e}function to(e,t,n,r){return Hi(e,eo(t),Yi(n,"pointerdown"===t),r)}function no(e,t,n,r){return Wi(e,eo(t),n&&Yi(n,"pointerdown"===t),r)}function ro(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var ao=ro("dragHorizontal"),io=ro("dragVertical");function oo(e){var t=!1;if("y"===e)t=io();else if("x"===e)t=ao();else{var n=ao(),r=io();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function so(){var e=oo(!0);return!e||(e(),!1)}function co(e,t,n){return function(r,a){var i;qi(r)&&!so()&&(null===(i=e.animationState)||void 0===i||i.setActive(Vi.Hover,t),null===n||void 0===n||n(r,a))}}var uo=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function lo(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var fo=new WeakMap,po=new WeakMap,ho=function(e){var t;null===(t=fo.get(e.target))||void 0===t||t(e)},vo=function(e){e.forEach(ho)};function mo(e,t,n){var r=function(e){var t=e.root,n=be(e,["root"]),r=t||document;po.has(r)||po.set(r,{});var a=po.get(r),i=JSON.stringify(n);return a[i]||(a[i]=new IntersectionObserver(vo,ye({root:t},n))),a[i]}(t);return fo.set(e,n),r.observe(e),function(){fo.delete(e),r.unobserve(e)}}var go={some:0,all:1};function yo(e,n,r,a){var i=a.root,o=a.margin,s=a.amount,c=void 0===s?"some":s,u=a.once;(0,t.useEffect)((function(){if(e){var t={root:null===i||void 0===i?void 0:i.current,rootMargin:o,threshold:"number"===typeof c?c:go[c]};return mo(r.getInstance(),t,(function(e){var t,a=e.isIntersecting;if(n.isInView!==a&&(n.isInView=a,!u||a||!n.hasEnteredView)){a&&(n.hasEnteredView=!0),null===(t=r.animationState)||void 0===t||t.setActive(Vi.InView,a);var i=r.getProps(),o=a?i.onViewportEnter:i.onViewportLeave;null===o||void 0===o||o(e)}}))}}),[e,i,o,c])}function bo(e,n,r,a){var i=a.fallback,o=void 0===i||i;(0,t.useEffect)((function(){e&&o&&requestAnimationFrame((function(){var e;n.hasEnteredView=!0;var t=r.getProps().onViewportEnter;null===t||void 0===t||t(null),null===(e=r.animationState)||void 0===e||e.setActive(Vi.InView,!0)}))}),[e])}var wo=function(e){return function(t){return e(t),null}},xo={inView:wo((function(e){var n=e.visualElement,r=e.whileInView,a=e.onViewportEnter,i=e.onViewportLeave,o=e.viewport,s=void 0===o?{}:o,c=(0,t.useRef)({hasEnteredView:!1,isInView:!1}),u=Boolean(r||a||i);s.once&&c.current.hasEnteredView&&(u=!1),("undefined"===typeof IntersectionObserver?bo:yo)(u,c.current,n,s)})),tap:wo((function(e){var n=e.onTap,r=e.onTapStart,a=e.onTapCancel,i=e.whileTap,o=e.visualElement,s=n||r||a||i,c=(0,t.useRef)(!1),u=(0,t.useRef)(null);function l(){var e;null===(e=u.current)||void 0===e||e.call(u),u.current=null}function d(){var e;return l(),c.current=!1,null===(e=o.animationState)||void 0===e||e.setActive(Vi.Tap,!1),!so()}function f(e,t){d()&&(uo(o.getInstance(),e.target)?null===n||void 0===n||n(e,t):null===a||void 0===a||a(e,t))}function p(e,t){d()&&(null===a||void 0===a||a(e,t))}no(o,"pointerdown",s?function(e,t){var n;l(),c.current||(c.current=!0,u.current=bn(to(window,"pointerup",f),to(window,"pointercancel",p)),null===(n=o.animationState)||void 0===n||n.setActive(Vi.Tap,!0),null===r||void 0===r||r(e,t))}:void 0),lo(l)})),focus:wo((function(e){var t=e.whileFocus,n=e.visualElement;Wi(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Vi.Focus,!0)}:void 0),Wi(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Vi.Focus,!1)}:void 0)})),hover:wo((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,a=e.visualElement;no(a,"pointerenter",t||r?co(a,!0,t):void 0),no(a,"pointerleave",n||r?co(a,!1,n):void 0)}))},So=0,_o=function(){return So++},ko=function(){return Ke(_o)};function Co(){var e=(0,t.useContext)(Me);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,a=e.register,i=ko();(0,t.useEffect)((function(){return a(i)}),[]);return!n&&r?[!1,function(){return null===r||void 0===r?void 0:r(i)}]:[!0]}function Po(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Ro=function(e){return/^0[^.\s]+$/.test(e)},Eo=function(e){return function(t){return t.test(e)}},jo=[It,Gt,Kt,$t,Yt,Qt,{test:function(e){return"auto"===e},parse:function(e){return e}}],To=function(e){return jo.find(Eo(e))},Oo=ke(ke([],_e(jo),!1),[un,mn],!1),Mo=function(e){return Oo.find(Eo(e))};function Lo(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yt(n))}function Do(e,t){var n=He(e,t),r=n?e.makeTargetAnimatable(n,!1):{},a=r.transitionEnd,i=void 0===a?{}:a;r.transition;var o=be(r,["transitionEnd","transition"]);for(var s in o=ye(ye({},o),i)){Lo(e,s,Pr(o[s]))}}function Ao(e,t){ke([],_e(t),!1).reverse().forEach((function(n){var r,a=e.getVariant(n);a&&Do(e,a),null===(r=e.variantChildren)||void 0===r||r.forEach((function(e){Ao(e,t)}))}))}function Io(e,t){if(t)return(t[e]||t.default||t).from}function No(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var a=t.map((function(t){return Fo(e,t,n)}));r=Promise.all(a)}else if("string"===typeof t)r=Fo(e,t,n);else{var i="function"===typeof t?He(e,t,n.custom):t;r=Bo(e,i,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}function Fo(e,t,n){var r;void 0===n&&(n={});var a=He(e,t,n.custom),i=(a||{}).transition,o=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(o=n.transitionOverride);var s=a?function(){return Bo(e,a,n)}:function(){return Promise.resolve()},c=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var a=o.delayChildren,i=void 0===a?0:a,s=o.staggerChildren,c=o.staggerDirection;return function(e,t,n,r,a,i){void 0===n&&(n=0);void 0===r&&(r=0);void 0===a&&(a=1);var o=[],s=(e.variantChildren.size-1)*r,c=1===a?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(Vo).forEach((function(e,r){o.push(Fo(e,t,ye(ye({},i),{delay:n+c(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}(e,t,i+r,s,c,n)}:function(){return Promise.resolve()},u=o.when;if(u){var l=_e("beforeChildren"===u?[s,c]:[c,s],2),d=l[0],f=l[1];return d().then(f)}return Promise.all([s(),c(n.delay)])}function Bo(e,t,n){var r,a=void 0===n?{}:n,i=a.delay,o=void 0===i?0:i,s=a.transitionOverride,c=a.type,u=e.makeTargetAnimatable(t),l=u.transition,d=void 0===l?e.getDefaultTransition():l,f=u.transitionEnd,p=be(u,["transition","transitionEnd"]);s&&(d=s);var h=[],v=c&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[c]);for(var m in p){var g=e.getValue(m),y=p[m];if(!(!g||void 0===y||v&&zo(v,m))){var b=ye({delay:o},d);e.shouldReduceMotion&&Ta(m)&&(b=ye(ye({},b),{type:!1,delay:0}));var w=Lr(m,g,y,b);h.push(w)}}return Promise.all(h).then((function(){f&&Do(e,f)}))}function Vo(e,t){return e.sortNodePosition(t)}function zo(e,t){var n=e.protectedKeys,r=e.needsAnimating,a=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,a}var Uo=[Vi.Animate,Vi.InView,Vi.Focus,Vi.Hover,Vi.Tap,Vi.Drag,Vi.Exit],Ho=ke([],_e(Uo),!1).reverse(),Wo=Uo.length;function qo(e){var t=function(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return No(e,n,r)})))}}(e),n=function(){var e;return(e={})[Vi.Animate]=Zo(!0),e[Vi.InView]=Zo(),e[Vi.Hover]=Zo(),e[Vi.Tap]=Zo(),e[Vi.Drag]=Zo(),e[Vi.Focus]=Zo(),e[Vi.Exit]=Zo(),e}(),r={},a=!0,i=function(t,n){var r=He(e,n);if(r){r.transition;var a=r.transitionEnd,i=be(r,["transition","transitionEnd"]);t=ye(ye(ye({},t),i),a)}return t};function o(o,s){for(var c,u=e.getProps(),l=e.getVariantContext(!0)||{},d=[],f=new Set,p={},h=1/0,v=function(t){var r=Ho[t],v=n[r],m=null!==(c=u[r])&&void 0!==c?c:l[r],g=ze(m),y=r===s?v.isActive:null;!1===y&&(h=t);var b=m===l[r]&&m!==u[r]&&g;if(b&&a&&e.manuallyAnimateOnMount&&(b=!1),v.protectedKeys=ye({},p),!v.isActive&&null===y||!m&&!v.prevProp||Ii(m)||"boolean"===typeof m)return"continue";var w=function(e,t){if("string"===typeof t)return t!==e;if(Ve(t))return!Po(t,e);return!1}(v.prevProp,m),x=w||r===s&&v.isActive&&!b&&g||t>h&&g,S=Array.isArray(m)?m:[m],_=S.reduce(i,{});!1===y&&(_={});var k=v.prevResolvedValues,C=void 0===k?{}:k,P=ye(ye({},C),_),R=function(e){x=!0,f.delete(e),v.needsAnimating[e]=!0};for(var E in P){var j=_[E],T=C[E];p.hasOwnProperty(E)||(j!==T?lr(j)&&lr(T)?!Po(j,T)||w?R(E):v.protectedKeys[E]=!0:void 0!==j?R(E):f.add(E):void 0!==j&&f.has(E)?R(E):v.protectedKeys[E]=!0)}v.prevProp=m,v.prevResolvedValues=_,v.isActive&&(p=ye(ye({},p),_)),a&&e.blockInitialAnimation&&(x=!1),x&&!b&&d.push.apply(d,ke([],_e(S.map((function(e){return{animation:e,options:ye({type:r},o)}}))),!1))},m=0;m<Wo;m++)v(m);if(r=ye({},p),f.size){var g={};f.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(g[t]=n)})),d.push({animation:g})}var y=Boolean(d.length);return a&&!1===u.initial&&!e.manuallyAnimateOnMount&&(y=!1),a=!1,y?t(d):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:o,setActive:function(t,r,a){var i;if(n[t].isActive===r)return Promise.resolve();null===(i=e.variantChildren)||void 0===i||i.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=o(a,t);for(var c in n)n[c].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function Zo(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var $o={animation:wo((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=qo(n)),Ii(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:wo((function(e){var n=e.custom,r=e.visualElement,a=_e(Co(),2),i=a[0],o=a[1],s=(0,t.useContext)(Me);(0,t.useEffect)((function(){var e,t;r.isPresent=i;var a=null===(e=r.animationState)||void 0===e?void 0:e.setActive(Vi.Exit,!i,{custom:null!==(t=null===s||void 0===s?void 0:s.custom)&&void 0!==t?t:n});!i&&(null===a||void 0===a||a.then(o))}),[i])}))},Ko=function(){function e(e,t,n){var r=this,a=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=Yo(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=oa(e.offset,{x:0,y:0})>=3;if(t||n){var a=e.point,i=lt().timestamp;r.history.push(ye(ye({},a),{timestamp:i}));var o=r.handlers,s=o.onStart,c=o.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),c&&c(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=Go(t,r.transformPagePoint),qi(e)&&0===e.buttons?r.handlePointerUp(e,t):dt.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,a=n.onEnd,i=n.onSessionEnd,o=Yo(Go(t,r.transformPagePoint),r.history);r.startEvent&&a&&a(e,o),i&&i(e,o)},!(Zi(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=a;var i=Go(Qi(e),this.transformPagePoint),o=i.point,s=lt().timestamp;this.history=[ye(ye({},o),{timestamp:s})];var c=t.onSessionStart;c&&c(e,Yo(i,this.history)),this.removeListeners=bn(to(window,"pointermove",this.handlePointerMove),to(window,"pointerup",this.handlePointerUp),to(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),it.update(this.updatePoint)},e}();function Go(e,t){return t?{point:t(e.point)}:e}function Qo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yo(e,t){var n=e.point;return{point:n,delta:Qo(n,Jo(t)),offset:Qo(n,Xo(t)),velocity:es(t,.1)}}function Xo(e){return e[0]}function Jo(e){return e[e.length-1]}function es(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,a=Jo(e);n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Jn(t)));)n--;if(!r)return{x:0,y:0};var i=(a.timestamp-r.timestamp)/1e3;if(0===i)return{x:0,y:0};var o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ts(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ns(e,t){var n,r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=_e([a,r],2))[0],a=n[1]),{min:r,max:a}}var rs=.35;function as(e,t,n){return{min:is(e,t),max:is(e,n)}}function is(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function os(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function ss(e,t){return os(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var cs=new WeakMap,us=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,a=void 0!==r&&r;if(!1!==this.visualElement.isPresent){this.panSession=new Ko(e,{onSessionStart:function(e){n.stopAnimation(),a&&n.snapToCursor(Qi(e,"page").point)},onStart:function(e,t){var r,a=n.getProps(),i=a.drag,o=a.dragPropagation,s=a.onDragStart;(!i||o||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=oo(i),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),Ca((function(e){var t,r,a=n.getAxisMotionValue(e).get()||0;if(Kt.test(a)){var i=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];if(i)a=sa(i)*(parseFloat(a)/100)}n.originPoint[e]=a})),null===s||void 0===s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(Vi.Drag,!0))},onMove:function(e,t){var r=n.getProps(),a=r.dragPropagation,i=r.dragDirectionLock,o=r.onDirectionLock,s=r.onDrag;if(a||n.openGlobalLock){var c=t.offset;if(i&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(c),void(null!==n.currentDirection&&(null===o||void 0===o||o(n.currentDirection)));n.updateAxis("x",t.point,c),n.updateAxis("y",t.point,c),n.visualElement.syncRender(),null===s||void 0===s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var a=this.getProps().onDragEnd;null===a||void 0===a||a(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Vi.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&ls(e,r,this.currentDirection)){var a=this.getAxisMotionValue(e),i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){var r=t.min,a=t.max;return void 0!==r&&e<r?e=n?ft(r,e,n.min):Math.max(e,r):void 0!==a&&e>a&&(e=n?ft(a,e,n.max):Math.min(e,a)),e}(i,this.constraints[e],this.elastic[e])),a.set(i)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,a=(this.visualElement.projection||{}).layout,i=this.constraints;n&&Be(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!a)&&function(e,t){var n=t.top,r=t.left,a=t.bottom,i=t.right;return{x:ts(e.x,r,i),y:ts(e.y,n,a)}}(a.actual,n),this.elastic=function(e){return void 0===e&&(e=rs),!1===e?e=0:!0===e&&(e=rs),{x:as(e,"left","right"),y:as(e,"top","bottom")}}(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Ca((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(a.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!Be(t))return!1;var r=t.current,a=this.visualElement.projection;if(!a||!a.layout)return!1;var i=function(e,t,n){var r=ss(e,n),a=t.scroll;return a&&(Xr(r.x,a.x),Xr(r.y,a.y)),r}(r,a.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:ns(e.x,t.x),y:ns(e.y,t.y)}}(a.layout.actual,i);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!s,s&&(o=os(s))}return o},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,a=n.dragMomentum,i=n.dragElastic,o=n.dragTransition,s=n.dragSnapToOrigin,c=n.onDragTransitionEnd,u=this.constraints||{},l=Ca((function(n){var c;if(ls(n,r,t.currentDirection)){var l=null!==(c=null===u||void 0===u?void 0:u[n])&&void 0!==c?c:{};s&&(l={min:0,max:0});var d=i?200:1e6,f=i?40:1e7,p=ye(ye({type:"inertia",velocity:a?e[n]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10},o),l);return t.startAxisValueAnimation(n,p)}}));return Promise.all(l).then(c)},e.prototype.startAxisValueAnimation=function(e,t){return Lr(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;Ca((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase(),a=this.visualElement.getProps()[r];return a||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;Ca((function(n){if(ls(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,a=t.getAxisMotionValue(n);if(r&&r.layout){var i=r.layout.actual[n],o=i.min,s=i.max;a.set(e[n]-ft(o,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,a=n.dragConstraints,i=this.visualElement.projection;if(Be(a)&&i&&this.constraints){this.stopAnimation();var o={x:0,y:0};Ca((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=sa(e),a=sa(t);return a>r?n=jt(t.min,t.max-r,e.min):r>a&&(n=jt(e.min,e.max-a,t.min)),wt(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ca((function(e){if(ls(e,r,null)){var n=t.getAxisMotionValue(e),a=t.constraints[e],i=a.min,s=a.max;n.set(ft(i,s,o[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;cs.set(this.visualElement,this);var n=to(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,a=n.dragListener;r&&(void 0===a||a)&&t.start(e)})),r=function(){Be(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},a=this.visualElement.projection,i=a.addEventListener("measure",r);a&&!a.layout&&(null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout()),r();var o=Hi(window,"resize",(function(){t.scalePositionWithinConstraints()}));return a.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(Ca((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){o(),n(),i()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,a=void 0!==r&&r,i=e.dragPropagation,o=void 0!==i&&i,s=e.dragConstraints,c=void 0!==s&&s,u=e.dragElastic,l=void 0===u?rs:u,d=e.dragMomentum,f=void 0===d||d;return ye(ye({},e),{drag:n,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:l,dragMomentum:f})},e}();function ls(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var ds={pan:wo((function(e){var n=e.onPan,r=e.onPanStart,a=e.onPanEnd,i=e.onPanSessionStart,o=e.visualElement,s=n||r||a||i,c=(0,t.useRef)(null),u=(0,t.useContext)(Te).transformPagePoint,l={onSessionStart:i,onStart:r,onMove:n,onEnd:function(e,t){c.current=null,a&&a(e,t)}};(0,t.useEffect)((function(){null!==c.current&&c.current.updateHandlers(l)})),no(o,"pointerdown",s&&function(e){c.current=new Ko(e,l,{transformPagePoint:u})}),lo((function(){return c.current&&c.current.end()}))})),drag:wo((function(e){var n=e.dragControls,r=e.visualElement,a=Ke((function(){return new us(r)}));(0,t.useEffect)((function(){return n&&n.subscribe(a)}),[a,n]),(0,t.useEffect)((function(){return a.addListeners()}),[a])}))},fs=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];var ps=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,a=e.getBaseTarget,i=e.makeTargetAnimatable,o=e.measureViewportBox,s=e.render,c=e.readValueFromInstance,u=e.removeValueFromRenderState,l=e.sortNodePosition,d=e.scrapeMotionValuesFromProps;return function(e,t){var f=e.parent,p=e.props,h=e.presenceId,v=e.blockInitialAnimation,m=e.visualState,g=e.shouldReduceMotion;void 0===t&&(t={});var y,b,w=!1,x=m.latestValues,S=m.renderState,_=function(){var e=fs.map((function(){return new mt})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){fs.forEach((function(r){var a,i="on"+r,o=e[i];null===(a=t[r])||void 0===a||a.call(t),o&&(t[r]=n[i](o))}))}};return e.forEach((function(e,t){n["on"+fs[t]]=function(t){return e.add(t)},n["notify"+fs[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,ke([],_e(t),!1))}})),n}(),k=new Map,C=new Map,P={},R=ye({},x);function E(){y&&w&&(j(),s(y,S,p.style,N.projection))}function j(){r(N,S,x,t,p)}function T(){_.notifyUpdate(x)}function O(e,t){var n=t.onChange((function(t){x[e]=t,p.onUpdate&&dt.update(T,!1,!0)})),r=t.onRenderRequest(N.scheduleRender);C.set(e,(function(){n(),r()}))}var M=d(p);for(var L in M){var D=M[L];void 0!==x[L]&&bt(D)&&D.set(x[L],!1)}var A=We(p),I=qe(p),N=ye(ye({treeType:n,current:null,depth:f?f.depth+1:0,parent:f,children:new Set,presenceId:h,shouldReduceMotion:g,variantChildren:I?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===f||void 0===f?void 0:f.isMounted()),blockInitialAnimation:v,isMounted:function(){return Boolean(y)},mount:function(e){w=!0,y=N.current=e,N.projection&&N.projection.mount(e),I&&f&&!A&&(b=null===f||void 0===f?void 0:f.addVariantChild(N)),k.forEach((function(e,t){return O(t,e)})),null===f||void 0===f||f.children.add(N),N.setProps(p)},unmount:function(){var e;null===(e=N.projection)||void 0===e||e.unmount(),it.update(T),it.render(E),C.forEach((function(e){return e()})),null===b||void 0===b||b(),null===f||void 0===f||f.children.delete(N),_.clearAllListeners(),y=void 0,w=!1},addVariantChild:function(e){var t,n=N.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return l&&n===e.treeType?l(N.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return I?N:null===f||void 0===f?void 0:f.getClosestVariantNode()},getLayoutId:function(){return p.layoutId},getInstance:function(){return y},getStaticValue:function(e){return x[e]},setStaticValue:function(e,t){return x[e]=t},getLatestValues:function(){return x},setVisibility:function(e){N.isVisible!==e&&(N.isVisible=e,N.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),i(N,e,p,t)},measureViewportBox:function(){return o(y,p)},addValue:function(e,t){N.hasValue(e)&&N.removeValue(e),k.set(e,t),x[e]=t.get(),O(e,t)},removeValue:function(e){var t;k.delete(e),null===(t=C.get(e))||void 0===t||t(),C.delete(e),delete x[e],u(e,S)},hasValue:function(e){return k.has(e)},getValue:function(e,t){var n=k.get(e);return void 0===n&&void 0!==t&&(n=yt(t),N.addValue(e,n)),n},forEachValue:function(e){return k.forEach(e)},readValue:function(e){var n;return null!==(n=x[e])&&void 0!==n?n:c(y,e,t)},setBaseTarget:function(e,t){R[e]=t},getBaseTarget:function(e){if(a){var t=a(p,e);if(void 0!==t&&!bt(t))return t}return R[e]}},_),{build:function(){return j(),S},scheduleRender:function(){dt.render(E,!1,!0)},syncRender:E,setProps:function(e){(e.transformTemplate||p.transformTemplate)&&N.scheduleRender(),p=e,_.updatePropListeners(e),P=function(e,t,n){var r;for(var a in t){var i=t[a],o=n[a];if(bt(i))e.addValue(a,i);else if(bt(o))e.addValue(a,yt(i));else if(o!==i)if(e.hasValue(a)){var s=e.getValue(a);!s.hasAnimated&&s.set(i)}else e.addValue(a,yt(null!==(r=e.getStaticValue(a))&&void 0!==r?r:i))}for(var a in n)void 0===t[a]&&e.removeValue(a);return t}(N,d(p),P)},getProps:function(){return p},getVariant:function(e){var t;return null===(t=p.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return p.transition},getTransformPagePoint:function(){return p.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===f||void 0===f?void 0:f.getVariantContext();if(!A){var t=(null===f||void 0===f?void 0:f.getVariantContext())||{};return void 0!==p.initial&&(t.initial=p.initial),t}for(var n={},r=0;r<vs;r++){var a=hs[r],i=p[a];(ze(i)||!1===i)&&(n[a]=i)}return n}});return N}},hs=ke(["initial"],_e(Uo),!1),vs=hs.length;function ms(e){return"string"===typeof e&&e.startsWith("var(--")}var gs=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ys(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=_e(function(e){var t=gs.exec(e);if(!t)return[,];var n=_e(t,3);return[n[1],n[2]]}(e),2),a=r[0],i=r[1];if(a){var o=window.getComputedStyle(t).getPropertyValue(a);return o?o.trim():ms(i)?ys(i,t,n+1):i}}var bs,ws=new Set(["width","height","top","left","right","bottom","x","y"]),xs=function(e){return ws.has(e)},Ss=function(e,t){e.set(t,!1),e.set(t)},_s=function(e){return e===It||e===Gt};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(bs||(bs={}));var ks=function(e,t){return parseFloat(e.split(", ")[t])},Cs=function(e,t){return function(n,r){var a=r.transform;if("none"===a||!a)return 0;var i=a.match(/^matrix3d\((.+)\)$/);if(i)return ks(i[1],t);var o=a.match(/^matrix\((.+)\)$/);return o?ks(o[1],e):0}},Ps=new Set(["x","y","z"]),Rs=Ra.filter((function(e){return!Ps.has(e)}));var Es={width:function(e,t){var n=e.x,r=t.paddingLeft,a=void 0===r?"0":r,i=t.paddingRight,o=void 0===i?"0":i;return n.max-n.min-parseFloat(a)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,a=void 0===r?"0":r,i=t.paddingBottom,o=void 0===i?"0":i;return n.max-n.min-parseFloat(a)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:Cs(4,13),y:Cs(5,14)},js=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=ye({},t),r=ye({},r);var a=Object.keys(t).filter(xs),i=[],o=!1,s=[];if(a.forEach((function(a){var c=e.getValue(a);if(e.hasValue(a)){var u,l=n[a],d=To(l),f=t[a];if(lr(f)){var p=f.length,h=null===f[0]?1:0;l=f[h],d=To(l);for(var v=h;v<p;v++)u?To(f[v]):(u=To(f[v]))===d||_s(d)&&_s(u)}else u=To(f);if(d!==u)if(_s(d)&&_s(u)){var m=c.get();"string"===typeof m&&c.set(parseFloat(m)),"string"===typeof f?t[a]=parseFloat(f):Array.isArray(f)&&u===Gt&&(t[a]=f.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===u||void 0===u?void 0:u.transform)&&(0===l||0===f)?0===l?c.set(u.transform(l)):t[a]=d.transform(f):(o||(i=function(e){var t=[];return Rs.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),o=!0),s.push(a),r[a]=void 0!==r[a]?r[a]:t[a],Ss(c,f))}})),s.length){var c=function(e,t,n){var r=t.measureViewportBox(),a=t.getInstance(),i=getComputedStyle(a),o=i.display,s={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=Es[e](r,i)})),t.syncRender();var c=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);Ss(r,s[n]),e[n]=Es[n](c,i)})),e}(t,e,s);return i.length&&i.forEach((function(t){var n=_e(t,2),r=n[0],a=n[1];e.getValue(r).set(a)})),e.syncRender(),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}};function Ts(e,t,n,r){return function(e){return Object.keys(e).some(xs)}(t)?js(e,t,n,r):{target:t,transitionEnd:r}}var Os=function(e,t,n,r){var a=function(e,t,n){var r,a=be(t,[]),i=e.getInstance();if(!(i instanceof Element))return{target:a,transitionEnd:n};for(var o in n&&(n=ye({},n)),e.forEachValue((function(e){var t=e.get();if(ms(t)){var n=ys(t,i);n&&e.set(n)}})),a){var s=a[o];if(ms(s)){var c=ys(s,i);c&&(a[o]=c,n&&(null!==(r=n[o])&&void 0!==r||(n[o]=s)))}}return{target:a,transitionEnd:n}}(e,t,r);return Ts(e,t=a.target,n,r=a.transitionEnd)};var Ms={treeType:"dom",readValueFromInstance:function(e,t){if(Ta(t)){var n=_r(t);return n&&n.default||0}var r,a=(r=e,window.getComputedStyle(r));return(di(t)?a.getPropertyValue(t):a[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return ss(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var a=n.transformValues;void 0===r&&(r=!0);var i=t.transition,o=t.transitionEnd,s=be(t,["transition","transitionEnd"]),c=function(e,t,n){var r,a,i={};for(var o in e)i[o]=null!==(r=Io(o,t))&&void 0!==r?r:null===(a=n.getValue(o))||void 0===a?void 0:a.get();return i}(s,i||{},e);if(a&&(o&&(o=a(o)),s&&(s=a(s)),c&&(c=a(c))),r){!function(e,t,n){var r,a,i,o,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),c=s.length;if(c)for(var u=0;u<c;u++){var l=s[u],d=t[l],f=null;Array.isArray(d)&&(f=d[0]),null===f&&(f=null!==(a=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==a?a:t[l]),void 0!==f&&null!==f&&("string"===typeof f&&(/^\-?\d*\.?\d+$/.test(f)||Ro(f))?f=parseFloat(f):!Mo(f)&&mn.test(d)&&(f=kr(l,d)),e.addValue(l,yt(f)),null!==(i=(o=n)[l])&&void 0!==i||(o[l]=f),e.setBaseTarget(l,f))}}(e,s,c);var u=Os(e,s,c,o);o=u.transitionEnd,s=u.target}return ye({transition:i,transitionEnd:o},s)},scrapeMotionValuesFromProps:Di,build:function(e,t,n,r,a){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),pi(t,n,r,a.transformTemplate)},render:Oi},Ls=ps(Ms),Ds=ps(ye(ye({},Ms),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Ta(t)?(null===(n=_r(t))||void 0===n?void 0:n.default)||0:(t=Mi.has(t)?t:Ti(t),e.getAttribute(t))},scrapeMotionValuesFromProps:Ai,build:function(e,t,n,r,a){Ci(t,n,r,a.transformTemplate)},render:Li})),As=function(e,t){return ci(e)?Ds(t,{enableHardwareAcceleration:!1}):Ls(t,{enableHardwareAcceleration:!0})};function Is(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Ns={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Gt.test(e))return e;e=parseFloat(e)}var n=Is(e,t.target.x),r=Is(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Fs="_$css",Bs={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,a=e,i=e.includes("var("),o=[];i&&(e=e.replace(gs,(function(e){return o.push(e),Fs})));var s=mn.parse(e);if(s.length>5)return a;var c=mn.createTransformer(e),u="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,d=r.y.scale*n.y;s[0+u]/=l,s[1+u]/=d;var f=ft(l,d,.5);"number"===typeof s[2+u]&&(s[2+u]/=f),"number"===typeof s[3+u]&&(s[3+u]/=f);var p=c(s);if(i){var h=0;p=p.replace(Fs,(function(){var e=o[h];return h++,e}))}return p}},Vs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ge(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,a=n.layoutGroup,i=n.switchLayoutGroup,o=n.layoutId,s=r.projection;e=zs,Object.assign(_a,e),s&&((null===a||void 0===a?void 0:a.group)&&a.group.add(s),(null===i||void 0===i?void 0:i.register)&&o&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions(ye(ye({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),Ia.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,a=n.visualElement,i=n.drag,o=n.isPresent,s=a.projection;return s?(s.isPresent=o,i||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||dt.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,a=t.projection;a&&(a.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(a),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(a))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(t.Component);var zs={borderRadius:ye(ye({},Ns),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Ns,borderTopRightRadius:Ns,borderBottomLeftRadius:Ns,borderBottomRightRadius:Ns,boxShadow:Bs},Us={measureLayout:function(e){var n=_e(Co(),2),r=n[0],a=n[1],i=(0,t.useContext)(ni);return t.createElement(Vs,ye({},e,{layoutGroup:i,switchLayoutGroup:(0,t.useContext)(ri),isPresent:r,safeToRemove:a}))}},Hs=Na({attachResizeListener:function(e,t){return e.addEventListener("resize",t,{passive:!0}),function(){return e.removeEventListener("resize",t)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),Ws={current:void 0},qs=Na({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Ws.current){var e=new Hs(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Ws.current=e}return Ws.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"}}),Zs=ye(ye(ye(ye({},$o),xo),ds),Us),$s=oi((function(e,t){return function(e,t,n,r,a){var i=t.forwardMotionProps,o=void 0!==i&&i,s=ci(e)?zi:Ui;return ye(ye({},s),{preloadedFeatures:n,useRender:Ei(o),createVisualElement:r,projectionNodeConstructor:a,Component:e})}(e,t,Zs,As,qs)}));function Ks(){var e=!1,t=[],n=new Set,r={subscribe:function(e){return n.add(e),function(){n.delete(e)}},start:function(r,a){if(e){var i=[];return n.forEach((function(e){i.push(No(e,r,{transitionOverride:a}))})),Promise.all(i)}return new Promise((function(e){t.push({animation:[r,a],resolve:e})}))},set:function(e){return n.forEach((function(t){!function(e,t){Array.isArray(t)?Ao(e,t):"string"===typeof t?Ao(e,[t]):Do(e,t)}(t,e)}))},stop:function(){n.forEach((function(e){!function(e){e.forEachValue((function(e){return e.stop()}))}(e)}))},mount:function(){return e=!0,t.forEach((function(e){var t=e.animation,n=e.resolve;r.start.apply(r,ke([],_e(t),!1)).then(n)})),function(){e=!1,r.stop()}}};return r}function Gs(){var e=Ke(Ks);return(0,t.useEffect)(e.mount,[]),e}var Qs=(0,n(7881).createSlice)({name:"appearanceSettingsSlice",initialState:{primaryColor:"rgb(255, 255, 255)",secondaryColor:"rgb(236, 236, 236)",accentColor:"rgb(217, 217, 217)",textColor:"rgb(0, 0, 0)",activationColor:"rgb(58, 235, 52)"},reducers:{updateColorValue:function(e,t){e[t.payload.type]=t.payload.value}}}),Ys=Qs.actions.updateColorValue,Xs=function(e){return e.appearanceSettingsSlice.primaryColor},Js=function(e){return e.appearanceSettingsSlice.secondaryColor},ec=function(e){return e.appearanceSettingsSlice.accentColor},tc=function(e){return e.appearanceSettingsSlice.textColor},nc=function(e){return e.appearanceSettingsSlice.activationColor},rc=Qs.reducer,ac=n(184),ic=function(e){var n=e.name,r=e.action,a=e.textAlign,i=void 0===a?"center":a,o=e.toggled,s=void 0!==o&&o,c=b(Xs),u=b(tc),l=b(ec),d=Gs();t.useEffect((function(){s?d.start({opacity:.5,cursor:"default",border:"solid 4px ".concat(c)}):d.start({opacity:1,cursor:"pointer",border:"solid 4px ".concat(c)})}),[s]);var f=function(e){s||d.start({border:"solid 4px ".concat(e)})};return(0,ac.jsx)($s.button,{onMouseEnter:function(){f(l)},onMouseLeave:function(){f(c)},onMouseDown:function(){f(u)},onMouseUp:function(){f(l)},animate:d,onClick:r,className:"text-button",style:{backgroundColor:c,border:"4px solid ".concat(c),textAlign:i,color:u},children:n})},oc=function(e){var t=e.action,n=void 0===t?function(){}:t,r=e.placeholder,a=e.inputValue,i=e.keyCode,o=void 0!==i&&i,s=e.type,c=void 0===s?"text":s,u=e.stateSelector,l=void 0===u?"":u,d=e.marginBottom,f=void 0===d?"0":d,p=e.marginTop,h=void 0===p?"0":p,v=b(Xs),m=b(ec),g=b(tc),y=Gs(),w=function(e){y.start({border:"4px solid ".concat(e)})};return(0,ac.jsx)($s.div,{onBlur:function(){w(v)},onFocus:function(){w(g)},onMouseOver:function(e){e.currentTarget.children[0]!==document.activeElement&&w(m)},onMouseOut:function(e){e.currentTarget.children[0]!==document.activeElement&&w(v)},animate:y,style:{backgroundColor:v,border:"solid 4px ".concat(v),marginBottom:f,marginTop:h},className:"text-input-container",children:(0,ac.jsx)("input",{onKeyUp:function(e){!1!==o&&o(e.keyCode,l,e)},onChange:function(e){n(e.target.value,l)},type:c,placeholder:r,value:a})})},sc={initial:{transform:"translateY(200%)"},in:{transform:"translateY(0%)"},out:{transform:"translateY(200%)"}};function cc(){var e=(0,t.useRef)(!1);return De((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var uc=function(e){var n=e.children,r=e.initial,a=e.isPresent,i=e.onExitComplete,o=e.custom,s=e.presenceAffectsLayout,c=Ke(lc),u=ko(),l=(0,t.useMemo)((function(){return{id:u,initial:r,isPresent:a,custom:o,onExitComplete:function(e){var t,n;c.set(e,!0);try{for(var r=Se(c.values()),a=r.next();!a.done;a=r.next()){if(!a.value)return}}catch(o){t={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null===i||void 0===i||i()},register:function(e){return c.set(e,!1),function(){return c.delete(e)}}}}),s?void 0:[a]);return(0,t.useMemo)((function(){c.forEach((function(e,t){return c.set(t,!1)}))}),[a]),t.useEffect((function(){!a&&!c.size&&(null===i||void 0===i||i())}),[a]),t.createElement(Me.Provider,{value:l},n)};function lc(){return new Map}var dc=function(e){return e.key||""};var fc,pc,hc=function(e){var n=e.children,r=e.custom,a=e.initial,i=void 0===a||a,o=e.onExitComplete,s=e.exitBeforeEnter,c=e.presenceAffectsLayout,u=void 0===c||c,l=_e(function(){var e=cc(),n=_e((0,t.useState)(0),2),r=n[0],a=n[1],i=(0,t.useCallback)((function(){e.current&&a(r+1)}),[r]);return[(0,t.useCallback)((function(){return dt.postRender(i)}),[i]),r]}(),1),d=l[0],f=(0,t.useContext)(ni).forceRender;f&&(d=f);var p=cc(),h=function(e){var n=[];return t.Children.forEach(e,(function(e){(0,t.isValidElement)(e)&&n.push(e)})),n}(n),v=h,m=new Set,g=(0,t.useRef)(v),y=(0,t.useRef)(new Map).current,b=(0,t.useRef)(!0);if(De((function(){b.current=!1,function(e,t){e.forEach((function(e){var n=dc(e);t.set(n,e)}))}(h,y),g.current=v})),lo((function(){b.current=!0,y.clear(),m.clear()})),b.current)return t.createElement(t.Fragment,null,v.map((function(e){return t.createElement(uc,{key:dc(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:u},e)})));v=ke([],_e(v),!1);for(var w=g.current.map(dc),x=h.map(dc),S=w.length,_=0;_<S;_++){var k=w[_];-1===x.indexOf(k)&&m.add(k)}return s&&m.size&&(v=[]),m.forEach((function(e){if(-1===x.indexOf(e)){var n=y.get(e);if(n){var a=w.indexOf(e);v.splice(a,0,t.createElement(uc,{key:dc(n),isPresent:!1,onExitComplete:function(){y.delete(e),m.delete(e);var t=g.current.findIndex((function(t){return t.key===e}));if(g.current.splice(t,1),!m.size){if(g.current=h,!1===p.current)return;d(),o&&o()}},custom:r,presenceAffectsLayout:u},n))}}})),v=v.map((function(e){var n=e.key;return m.has(n)?e:t.createElement(uc,{key:dc(e),isPresent:!0,presenceAffectsLayout:u},e)})),t.createElement(t.Fragment,null,m.size?v:v.map((function(e){return(0,t.cloneElement)(e)})))},vc=function(e){var t=e.errorMessage,n=e.action,r=e.buttonLabel,a=void 0===r?"Close":r,i=b(Xs);return(0,ac.jsx)($s.div,{className:"error-container",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:(0,ac.jsxs)("div",{className:"inner-error-container",children:[(0,ac.jsx)("div",{style:{backgroundColor:i},className:"error-message-container",children:(0,ac.jsx)("p",{children:t})}),(0,ac.jsx)(ic,{action:n,name:a})]})},"error-componen")},mc=function(){return(0,ac.jsx)($s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:5,top:0,left:0,backgroundColor:"rgba(255, 255, 255, 0.8)"},className:"loading-outer-container",children:(0,ac.jsx)($s.div,{style:{width:80,height:80},animate:{rotate:["0deg","360deg"]},transition:{ease:"linear",duration:"1",repeat:1/0},children:(0,ac.jsxs)("svg",{style:{width:"100%",height:"100%",objectFit:"cover"},viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{opacity:"0.5",d:"M24.9998 4.16675C20.8794 4.16675 16.8515 5.3886 13.4255 7.6778C9.99944 9.96699 7.32918 13.2207 5.75236 17.0275C4.17553 20.8343 3.76296 25.0232 4.56682 29.0645C5.37068 33.1057 7.35486 36.8179 10.2685 39.7315C13.182 42.6451 16.8942 44.6292 20.9355 45.4331C24.9767 46.237 29.1656 45.8244 32.9724 44.2476C36.7792 42.6707 40.0329 40.0005 42.3221 36.5745C44.6113 33.1484 45.8332 29.1205 45.8332 25.0001C45.8332 22.2642 45.2943 19.5551 44.2473 17.0275C43.2004 14.4999 41.6658 12.2032 39.7312 10.2687C37.7967 8.33414 35.5 6.79956 32.9724 5.75259C30.4448 4.70562 27.7357 4.16675 24.9998 4.16675V4.16675ZM24.9998 41.6667C21.7035 41.6667 18.4812 40.6893 15.7403 38.8579C12.9995 37.0265 10.8633 34.4236 9.60185 31.3781C8.34039 28.3327 8.01034 24.9816 8.65343 21.7486C9.29651 18.5156 10.8839 15.5458 13.2147 13.215C15.5456 10.8841 18.5153 9.29675 21.7483 8.65366C24.9814 8.01057 28.3325 8.34063 31.3779 9.60209C34.4233 10.8635 37.0263 12.9998 38.8577 15.7406C40.689 18.4814 41.6665 21.7037 41.6665 25.0001C41.6665 29.4204 39.9106 33.6596 36.785 36.7852C33.6594 39.9108 29.4201 41.6667 24.9998 41.6667V41.6667Z",fill:"white"}),(0,ac.jsx)("path",{d:"M41.6667 25.0001H45.8333C45.8333 22.2642 45.2945 19.5551 44.2475 17.0275C43.2005 14.4999 41.6659 12.2032 39.7314 10.2687C37.7968 8.33414 35.5002 6.79956 32.9726 5.75259C30.445 4.70562 27.7359 4.16675 25 4.16675V8.33341C29.4203 8.33341 33.6595 10.0894 36.7851 13.215C39.9107 16.3406 41.6667 20.5798 41.6667 25.0001Z",fill:"black"})]})})},"spinning-loading-animation-container")},gc=function(e){var t=e.error,n=e.errorMessage,r=e.loading,a=e.action,i=e.label,o=void 0===i?"Ok":i;return(0,ac.jsxs)(hc,{children:[t?(0,ac.jsx)(vc,{errorMessage:n,action:a,buttonLabel:o}):null,r?(0,ac.jsx)(mc,{}):null]})},yc=function(e){e.name;return(0,ac.jsxs)("div",{className:"option-spacer-container",children:[(0,ac.jsx)("div",{className:"line-spacer"}),(0,ac.jsx)("h3",{children:"Or"}),(0,ac.jsx)("div",{className:"line-spacer"})]})},bc=n(7881),wc=n(4569),xc=n.n(wc),Sc="http://10.0.0.38:3016",_c=function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.require("keytar"),e.next=4,t.getPassword("TOKEN","USER_ACCOUNT");case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",document.cookie.split("token=")[1]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),kc=function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.require("keytar").setPassword("TOKEN","USER_ACCOUNT",t)}catch(n){document.cookie="token=".concat(t)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cc=function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.require("keytar").deletePassword("TOKEN","USER_ACCOUNT")}catch(t){document.cookie="token=;"}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pc=(0,bc.createAsyncThunk)("signInSlice/handleSignIn",function(){var e=s(i().mark((function e(t,n){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rejectWithValue,a=n.getState,o=a().signInSlice,s=o.email,c=o.password,!(s.length<1)){e.next=4;break}return e.abrupt("return",r({error:!0,errorMessage:"Email Input Cannot Be Empty"}));case 4:if(s.includes("@")){e.next=6;break}return e.abrupt("return",r({error:!0,errorMessage:"Invalid Email"}));case 6:if(!(c.length<1)){e.next=8;break}return e.abrupt("return",r({error:!0,errorMessage:"Invalid Password"}));case 8:return e.next=10,xc()({method:"POST",url:"".concat(Sc,"/sign-in"),data:{email:s,password:c}}).then((function(e){return e.data.error?r({error:!0,errorMessage:e.data.errorMessage}):e.data.success?{success:!0,token:e.data.token}:r({error:!0,errorMessage:"Unexpected Error Has Occured"})}));case 10:return u=e.sent,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Rc=(0,bc.createSlice)({name:"signInSlice",initialState:{email:"",password:"",loading:!1,error:!1,errorMessage:"",loggedIn:!1},reducers:{handleSignInInput:function(e,t){e[t.payload.state]=t.payload.value},closeSignInError:function(e,t){e.error=!1,e.errorMessage=""},signInHandleLogOutState:function(e,t){e.loggedIn=!1}},extraReducers:(fc={},(0,Bt.Z)(fc,Pc.pending,(function(e,t){e.loading=!0})),(0,Bt.Z)(fc,Pc.fulfilled,(function(e,t){e.loading=!1,e.password="",t.payload.success&&(kc(t.payload.token),e.email="",window.location.hash="/",e.loggedIn=!0)})),(0,Bt.Z)(fc,Pc.rejected,(function(e,t){e.password="",e.loading=!1,e.error=t.payload.error,e.errorMessage=t.payload.errorMessage})),fc)}),Ec=function(e){return e.signInSlice.email},jc=function(e){return e.signInSlice.password},Tc=function(e){return e.signInSlice.error},Oc=function(e){return e.signInSlice.errorMessage},Mc=function(e){return e.signInSlice.loading},Lc=function(e){return e.signInSlice.loggedIn},Dc=Rc.actions,Ac=Dc.closeSignInError,Ic=Dc.handleSignInInput,Nc=Dc.signInHandleLogOutState,Fc=Rc.reducer,Bc=function(){var e=ue(),t=T(),n=b(Mc),r=b(Js),a=b(Tc),i=b(Oc),o=b(Ec),s=b(jc),c=function(){t(Pc())},u=function(e,n){t(Ic({value:e,state:n}))};return(0,ac.jsx)($s.div,{variants:sc,initial:"initial",animate:"in",exit:"out",className:"sign-in-outer-container",children:(0,ac.jsxs)("div",{style:{backgroundColor:r},className:"sign-in-inner-container",children:[(0,ac.jsxs)("div",{className:"content-wrapper",children:[(0,ac.jsx)("h2",{style:{marginTop:0,paddingTop:0},className:"sign-in-header",children:"Sign In"}),(0,ac.jsx)(oc,{action:u,stateSelector:"email",inputValue:o,marginBottom:"2%",placeholder:"E Mail"}),(0,ac.jsx)(oc,{keyCode:function(e){13===e&&c()},action:u,stateSelector:"password",inputValue:s,marginBottom:"2%",placeholder:"Password",type:"password"}),(0,ac.jsx)(ic,{action:c,name:"Sign In"}),(0,ac.jsx)(yc,{}),(0,ac.jsx)("h2",{children:"Sign Up"}),(0,ac.jsx)(ic,{action:function(){e("/signup")},name:"Create A Bubble Account"})]}),(0,ac.jsx)(gc,{error:a,loading:n,errorMessage:i,label:"Ok",action:function(){t(Ac())}})]})},"sign-in-screen")},Vc=function(e){var t=e.width,n=void 0===t?300:t,r=e.height,a=void 0===r?300:r,i=e.top,o=void 0===i?null:i,s=e.left,c=void 0===s?null:s,u=e.right,l=void 0===u?null:u,d=e.bottom,f=void 0===d?null:d,p=e.rotate,h=void 0===p?"0deg":p;return(0,ac.jsx)("div",{style:{backgroundColor:"transparent",width:n,height:a,position:"absolute",top:o,right:l,left:c,bottom:f,transform:"rotate(".concat(h,")")},children:(0,ac.jsxs)("svg",{style:{width:"100%",height:"100%",objectFit:"cover"},width:"830",height:"806",viewBox:"0 0 830 806",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M353.634 9.92325C577.396 -22.8233 785.878 126.833 819.539 343.86C853.199 560.887 699.364 763.566 475.602 796.313C251.84 829.059 43.3577 679.403 9.69725 462.376C-23.9632 245.349 129.873 42.6698 353.634 9.92325Z",stroke:"black",strokeWidth:"10"}),(0,ac.jsx)("ellipse",{rx:"34.0879",ry:"112.491",transform:"matrix(-0.397124 -0.917765 0.925807 -0.377997 304.289 110.925)",fill:"black"}),(0,ac.jsx)("ellipse",{rx:"25.9004",ry:"26.6293",transform:"matrix(-0.153265 -0.988185 0.989461 -0.144803 142.331 195.754)",fill:"black"})]})})},zc=function(){return(0,ac.jsxs)("div",{className:"bubble-splash-screen",children:[(0,ac.jsx)(Vc,{top:"-200px",left:"-150px",width:700,height:700,rotate:"480deg"}),(0,ac.jsx)(Vc,{right:"-150px",bottom:"-150px",width:700,height:700,rotate:"5deg"})]})},Uc=function(){return le([{path:"/",element:(0,ac.jsx)(zc,{})},{path:"/signin",element:(0,ac.jsx)(zc,{})},{path:"/signup",element:(0,ac.jsx)(zc,{})},{path:"/verification",element:(0,ac.jsx)(zc,{})}])},Hc=function(){return(0,ac.jsx)(ac.Fragment,{children:(0,ac.jsx)("h1",{id:"application-title",children:"BUBBLE"})})},Wc=function(e){var t=e.action,n={container:{width:20,height:20},icon:{width:"100%",height:"100%",objectFit:"contain"}};return(0,ac.jsx)("div",{id:"close-window",onClick:function(){t("close")},style:n.container,children:(0,ac.jsx)("svg",{style:n.icon,width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M18 1.6625L16.425 0L9 7.8375L1.575 0L0 1.6625L7.425 9.5L0 17.3375L1.575 19L9 11.1625L16.425 19L18 17.3375L10.575 9.5L18 1.6625Z",fill:"black"})})})},qc=function(e){var t=e.action,n={container:{width:20,height:20},icon:{width:"100%",height:"100%",objectFit:"contain"}};return(0,ac.jsx)("div",{id:"expand-window",onClick:function(){t("max")},style:n.container,children:(0,ac.jsx)("svg",{style:n.container,width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M15 1H5C2.79086 1 1 2.79086 1 5V15C1 17.2091 2.79086 19 5 19H15C17.2091 19 19 17.2091 19 15V5C19 2.79086 17.2091 1 15 1Z",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})},Zc=function(e){var t=e.action,n={container:{width:20,height:20},icon:{width:"100%",height:"100%",objectFit:"contain"}};return(0,ac.jsx)("div",{id:"minimize-window",onClick:function(){t("min")},style:n.container,children:(0,ac.jsx)("svg",{style:n.icon,width:"18",height:"2",viewBox:"0 0 18 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M1.5 0H16.5C17.325 0 18 0.45 18 1C18 1.55 17.325 2 16.5 2H1.5C0.675 2 0 1.55 0 1C0 0.45 0.675 0 1.5 0Z",fill:"black"})})})},$c=function(){var e;try{e=window.require("electron").ipcRenderer}catch(n){e=null}var t=function(t){null!==e&&e.send(t)};return(0,ac.jsx)("div",{className:"window-controls-container",children:null===e?null:(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsx)(Zc,{action:t}),(0,ac.jsx)(qc,{action:t}),(0,ac.jsx)(Wc,{action:t})]})})},Kc=function(){return(0,ac.jsxs)("div",{className:"title-bar",children:[(0,ac.jsx)(Hc,{}),(0,ac.jsx)($c,{})]})},Gc=function(){return(0,ac.jsxs)("div",{className:"no-server-selected-display",children:[(0,ac.jsx)("h1",{children:"No Server Selected"}),(0,ac.jsx)("h3",{children:"Join or Create a Server"})]})},Qc=function(){return le([{path:"",element:(0,ac.jsx)(Gc,{})}])},Yc=(0,bc.createSlice)({name:"initializingAppScreenSlice",initialState:{loadingPercent:0,loadingState:"Initializing",error:!1,errorMessage:"",retryToggle:!1},reducers:{incrementLoadingPercentage:function(e,t){e.loadingPercent=t.payload.percent,e.loadingState=t.payload.state},retryLoadingApplication:function(e,t){e.error=!1,e.errorMessage="",e.retryToggle=!e.retryToggle},throwInitializationError:function(e,t){e.error=!0,e.errorMessage=t.payload}}}),Xc=Yc.actions,Jc=Xc.incrementLoadingPercentage,eu=Xc.retryLoadingApplication,tu=Xc.throwInitializationError,nu=function(e){return e.initializingAppScreenSlice.retryToggle},ru=function(e){return e.initializingAppScreenSlice.error},au=function(e){return e.initializingAppScreenSlice.errorMessage},iu=function(e){return e.initializingAppScreenSlice.loadingPercent},ou=function(e){return e.initializingAppScreenSlice.loadingState},su=Yc.reducer,cu=(0,bc.createAsyncThunk)("accountSettingsSlice/fetchAccount",function(){var e=s(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,a=n.dispatch,e.next=3,_c();case 3:if(!(o=e.sent)){e.next=11;break}return e.next=7,xc()({method:"GET",url:"".concat(Sc,"/fetch-account"),headers:{TOKEN:o}}).then((function(e){return e.data.error?r({error:!0}):e.data.success?{success:!0,account:e.data.account}:r({error:!0})})).catch((function(e){console.log(e),a(tu("Connection Error"))}));case 7:return s=e.sent,e.abrupt("return",s);case 11:return e.abrupt("return",r({error:!0,errorMessage:"No Valid Token"}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),uu=(0,bc.createAsyncThunk)("accountSettingsSlice/updateAccount",function(){var e=s(i().mark((function e(t,n){var r,a,o,s,c,u,l,d,f,p,h,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.userImage,a=t.userBanner,o=n.rejectWithValue,s=n.getState,e.next=4,_c();case 4:if(c=e.sent,u=s().accountSettingsSlice,l=u.password,d=u.newPassword,f=u.confirmNewPassword,p=u.display_name,(h=new FormData).append("displayName",p),h.append("userImage",r),h.append("userBanner",a),h.append("password",l),h.append("newPassword",d),h.append("confirmNewPassword",f),c){e.next=15;break}return e.abrupt("return",o({error:!0,errorMessage:"validation error"}));case 15:return e.next=17,xc()({method:"POST",url:"".concat(Sc,"/update-account"),headers:{TOKEN:c},data:h}).then((function(e){return console.log(e),e.data.error?o({error:!0,errorMessage:e.data.errorMessage}):e.data}));case 17:return v=e.sent,e.abrupt("return",v);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),lu=(0,bc.createSlice)({name:"accountSettingsSlice",initialState:{user_image:"",user_banner:"",username:"",display_name:"",password:"",newPassword:"",confirmNewPassword:"",loading:!1,error:!1,errorMessage:"",change:!1},reducers:{handleSignOut:function(e,t){e.user_image="",e.user_banner="",e.username="",e.display_name=""},updateAccountInputState:function(e,t){e[t.payload.state]=t.payload.value,e.change=!0},accountSettingsCloseError:function(e,t){e.error=!1,e.errorMessage=""}},extraReducers:(pc={},(0,Bt.Z)(pc,cu.fulfilled,(function(e,t){t.payload.success&&(e.display_name=t.payload.account.display_name,e.user_image=t.payload.account.user_image,e.user_banner=t.payload.account.user_banner,e.username=t.payload.account.username,window.location.hash="/dashboard"),e.change=!1})),(0,Bt.Z)(pc,cu.rejected,(function(e,t){console.log(t),t.payload.error&&(window.location.hash="/signin")})),(0,Bt.Z)(pc,uu.pending,(function(e,t){e.loading=!0})),(0,Bt.Z)(pc,uu.fulfilled,(function(e,t){if(e.loading=!1,e.change=!1,t.payload.success){var n=t.payload.user;n.display_name&&(e.display_name=n.display_name),n.user_banner&&(e.user_banner=n.user_banner),n.user_image&&(e.user_image=n.user_image)}})),(0,Bt.Z)(pc,uu.rejected,(function(e,t){e.loading=!1,e.error=t.payload.error,e.errorMessage=t.payload.errorMessage})),pc)}),du=function(e){return e.accountSettingsSlice.change},fu=function(e){return e.accountSettingsSlice.password},pu=function(e){return e.accountSettingsSlice.newPassword},hu=function(e){return e.accountSettingsSlice.confirmNewPassword},vu=function(e){return e.accountSettingsSlice.loading},mu=function(e){return e.accountSettingsSlice.error},gu=function(e){return e.accountSettingsSlice.errorMessage},yu=function(e){return e.accountSettingsSlice.display_name},bu=function(e){return e.accountSettingsSlice.username},wu=function(e){return e.accountSettingsSlice.user_banner},xu=function(e){return e.accountSettingsSlice.user_image},Su=lu.actions,_u=Su.handleSignOut,ku=Su.updateAccountInputState,Cu=Su.accountSettingsCloseError,Pu=lu.reducer,Ru=(0,bc.createSlice)({name:"contentScreenSlice",initialState:{headerTitle:""},reducers:{toggleServerSelectedState:function(e,t){e.serverSelected=t.payload},setHeaderTitle:function(e,t){e.headerTitle=t.payload}}}),Eu=function(e){return e.contentScreenSlice.headerTitle},ju=Ru.actions,Tu=ju.setHeaderTitle,Ou=(ju.toggleServerSelectedState,Ru.reducer),Mu=function(e){var t=e.apply,n=e.cancel,r=(e.active,e.name),a=void 0===r?"Apply":r,i=e.toggled,o=void 0===i?null:i;return(0,ac.jsxs)($s.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"apply-cancel-button-container",children:[(0,ac.jsx)(ic,{toggled:null!==o&&!o,textAlign:"center",name:"Cancel",action:n}),(0,ac.jsx)(ic,{toggled:null!==o&&o,textAlign:"center",name:a,action:t})]},"apply-cancel-button")},Lu=function(e){var t=e.title,n=e.marginBottom,r=e.marginTop;return(0,ac.jsx)("h3",{style:{marginBottom:n,marginTop:r},className:"input-title",children:t})},Du=n(1413),Au=n(2007),Iu=n.n(Au),Nu=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Fu(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=Nu.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var Bu=[".DS_Store","Thumbs.db"];function Vu(e){return"object"===typeof e&&null!==e}function zu(e){return qu(e.target.files).map((function(e){return Fu(e)}))}function Uu(e){return we(this,void 0,void 0,(function(){return xe(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return Fu(e)}))]}}))}))}function Hu(e,t){return we(this,void 0,void 0,(function(){var n;return xe(this,(function(r){switch(r.label){case 0:return e.items?(n=qu(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(Zu))]):[3,2];case 1:return[2,Wu($u(r.sent()))];case 2:return[2,Wu(qu(e.files).map((function(e){return Fu(e)})))]}}))}))}function Wu(e){return e.filter((function(e){return-1===Bu.indexOf(e.name)}))}function qu(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function Zu(e){if("function"!==typeof e.webkitGetAsEntry)return Ku(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?Qu(t):Ku(e)}function $u(e){return e.reduce((function(e,t){return ke(ke([],_e(e),!1),_e(Array.isArray(t)?$u(t):[t]),!1)}),[])}function Ku(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Fu(t);return Promise.resolve(n)}function Gu(e){return we(this,void 0,void 0,(function(){return xe(this,(function(t){return[2,e.isDirectory?Qu(e):Yu(e)]}))}))}function Qu(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function a(){var i=this;t.readEntries((function(t){return we(i,void 0,void 0,(function(){var i,o,s;return xe(this,(function(c){switch(c.label){case 0:if(t.length)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return i=c.sent(),e(i),[3,4];case 3:return o=c.sent(),n(o),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(Gu)),r.push(s),a(),c.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function Yu(e){return we(this,void 0,void 0,(function(){return xe(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=Fu(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var Xu=n(9998);function Ju(e){return function(e){if(Array.isArray(e))return rl(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||nl(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}(e,t)||nl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nl(e,t){if(e){if("string"===typeof e)return rl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rl(e,t):void 0}}function rl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var al="file-invalid-type",il="file-too-large",ol="file-too-small",sl="too-many-files",cl=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:al,message:"File type must be ".concat(t)}},ul=function(e){return{code:il,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},ll=function(e){return{code:ol,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},dl={code:sl,message:"Too many files"};function fl(e,t){var n="application/x-moz-file"===e.type||(0,Xu.Z)(e,t);return[n,n?null:cl(t)]}function pl(e,t,n){if(hl(e.size))if(hl(t)&&hl(n)){if(e.size>n)return[!1,ul(n)];if(e.size<t)return[!1,ll(t)]}else{if(hl(t)&&e.size<t)return[!1,ll(t)];if(hl(n)&&e.size>n)return[!1,ul(n)]}return[!0,null]}function hl(e){return void 0!==e&&null!==e}function vl(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,s=e.validator;return!(!i&&t.length>1||i&&o>=1&&t.length>o)&&t.every((function(e){var t=tl(fl(e,n),1)[0],i=tl(pl(e,r,a),1)[0],o=s?s(e):null;return t&&i&&!o}))}function ml(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function gl(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function yl(e){e.preventDefault()}function bl(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function wl(e){return-1!==e.indexOf("Edge/")}function xl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return bl(e)||wl(e)}function Sl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.some((function(t){return!ml(e)&&t&&t.apply(void 0,[e].concat(r)),ml(e)}))}}function _l(){return"showOpenFilePicker"in window}function kl(e){return hl(e)?Object.entries(e).filter((function(e){var t=tl(e,2),n=t[0],r=t[1],a=!0;return El(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),Array.isArray(r)&&r.every(jl)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),a=!1),a})).map((function(e){var t=tl(e,2);return{accept:el({},t[0],t[1])}})):e}function Cl(e){if(hl(e))return Object.entries(e).reduce((function(e,t){var n=tl(t,2),r=n[0],a=n[1];return[].concat(Ju(e),[r],Ju(a))}),[]).filter((function(e){return El(e)||jl(e)})).join(",")}function Pl(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function Rl(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}function El(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function jl(e){return/^.*\.[\w]+$/.test(e)}var Tl=["children"],Ol=["open"],Ml=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ll=["refKey","onChange","onClick"];function Dl(e){return function(e){if(Array.isArray(e))return Nl(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Il(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Al(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(c){s=!0,a=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}(e,t)||Il(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Il(e,t){if(e){if("string"===typeof e)return Nl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nl(e,t):void 0}}function Nl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fl(Object(n),!0).forEach((function(t){Vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zl(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ul=(0,t.forwardRef)((function(e,n){var r=e.children,a=ql(zl(e,Tl)),i=a.open,o=zl(a,Ol);return(0,t.useImperativeHandle)(n,(function(){return{open:i}}),[i]),t.createElement(t.Fragment,null,r(Bl(Bl({},o),{},{open:i})))}));Ul.displayName="Dropzone";var Hl={disabled:!1,getFilesFromEvent:function(e){return we(this,void 0,void 0,(function(){return xe(this,(function(t){return Vu(e)&&function(e){return Vu(e)}(e.dataTransfer)?[2,Hu(e.dataTransfer,e.type)]:function(e){return Vu(e)&&Vu(e.target)}(e)?[2,zu(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,Uu(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Ul.defaultProps=Hl,Ul.propTypes={children:Iu().func,accept:Iu().objectOf(Iu().arrayOf(Iu().string)),multiple:Iu().bool,preventDropOnDocument:Iu().bool,noClick:Iu().bool,noKeyboard:Iu().bool,noDrag:Iu().bool,noDragEventsBubbling:Iu().bool,minSize:Iu().number,maxSize:Iu().number,maxFiles:Iu().number,disabled:Iu().bool,getFilesFromEvent:Iu().func,onFileDialogCancel:Iu().func,onFileDialogOpen:Iu().func,useFsAccessApi:Iu().bool,autoFocus:Iu().bool,onDragEnter:Iu().func,onDragLeave:Iu().func,onDragOver:Iu().func,onDrop:Iu().func,onDropAccepted:Iu().func,onDropRejected:Iu().func,onError:Iu().func,validator:Iu().func};var Wl={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Bl(Bl({},Hl),e),r=n.accept,a=n.disabled,i=n.getFilesFromEvent,o=n.maxSize,s=n.minSize,c=n.multiple,u=n.maxFiles,l=n.onDragEnter,d=n.onDragLeave,f=n.onDragOver,p=n.onDrop,h=n.onDropAccepted,v=n.onDropRejected,m=n.onFileDialogCancel,g=n.onFileDialogOpen,y=n.useFsAccessApi,b=n.autoFocus,w=n.preventDropOnDocument,x=n.noClick,S=n.noKeyboard,_=n.noDrag,k=n.noDragEventsBubbling,C=n.onError,P=n.validator,R=(0,t.useMemo)((function(){return Cl(r)}),[r]),E=(0,t.useMemo)((function(){return kl(r)}),[r]),j=(0,t.useMemo)((function(){return"function"===typeof g?g:$l}),[g]),T=(0,t.useMemo)((function(){return"function"===typeof m?m:$l}),[m]),O=(0,t.useRef)(null),M=(0,t.useRef)(null),L=(0,t.useReducer)(Zl,Wl),D=Al(L,2),A=D[0],I=D[1],N=A.isFocused,F=A.isFileDialogActive,B=(0,t.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&_l()),V=function(){!B.current&&F&&setTimeout((function(){M.current&&(M.current.files.length||(I({type:"closeDialog"}),T()))}),300)};(0,t.useEffect)((function(){return window.addEventListener("focus",V,!1),function(){window.removeEventListener("focus",V,!1)}}),[M,F,T,B]);var z=(0,t.useRef)([]),U=function(e){O.current&&O.current.contains(e.target)||(e.preventDefault(),z.current=[])};(0,t.useEffect)((function(){return w&&(document.addEventListener("dragover",yl,!1),document.addEventListener("drop",U,!1)),function(){w&&(document.removeEventListener("dragover",yl),document.removeEventListener("drop",U))}}),[O,w]),(0,t.useEffect)((function(){return!a&&b&&O.current&&O.current.focus(),function(){}}),[O,b,a]);var H=(0,t.useCallback)((function(e){C?C(e):console.error(e)}),[C]),W=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),re(e),z.current=[].concat(Dl(z.current),[e.target]),gl(e)&&Promise.resolve(i(e)).then((function(t){if(!ml(e)||k){var n=t.length,r=n>0&&vl({files:t,accept:R,minSize:s,maxSize:o,multiple:c,maxFiles:u,validator:P});I({isDragAccept:r,isDragReject:n>0&&!r,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e)}})).catch((function(e){return H(e)}))}),[i,l,H,k,R,s,o,c,u,P]),q=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),re(e);var t=gl(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&f&&f(e),!1}),[f,k]),Z=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),re(e);var t=z.current.filter((function(e){return O.current&&O.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),z.current=t,t.length>0||(I({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),gl(e)&&d&&d(e))}),[O,d,k]),$=(0,t.useCallback)((function(e,t){var n=[],r=[];e.forEach((function(e){var t=Al(fl(e,R),2),a=t[0],i=t[1],c=Al(pl(e,s,o),2),u=c[0],l=c[1],d=P?P(e):null;if(a&&u&&!d)n.push(e);else{var f=[i,l];d&&(f=f.concat(d)),r.push({file:e,errors:f.filter((function(e){return e}))})}})),(!c&&n.length>1||c&&u>=1&&n.length>u)&&(n.forEach((function(e){r.push({file:e,errors:[dl]})})),n.splice(0)),I({acceptedFiles:n,fileRejections:r,type:"setFiles"}),p&&p(n,r,t),r.length>0&&v&&v(r,t),n.length>0&&h&&h(n,t)}),[I,c,R,s,o,u,p,h,v,P]),K=(0,t.useCallback)((function(e){e.preventDefault(),e.persist(),re(e),z.current=[],gl(e)&&Promise.resolve(i(e)).then((function(t){ml(e)&&!k||$(t,e)})).catch((function(e){return H(e)})),I({type:"reset"})}),[i,$,H,k]),G=(0,t.useCallback)((function(){if(B.current){I({type:"openDialog"}),j();var e={multiple:c,types:E};window.showOpenFilePicker(e).then((function(e){return i(e)})).then((function(e){$(e,null),I({type:"closeDialog"})})).catch((function(e){Pl(e)?(T(e),I({type:"closeDialog"})):Rl(e)?(B.current=!1,M.current?(M.current.value=null,M.current.click()):H(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):H(e)}))}else M.current&&(I({type:"openDialog"}),j(),M.current.value=null,M.current.click())}),[I,j,T,y,$,H,E,c]),Q=(0,t.useCallback)((function(e){O.current&&O.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),G()))}),[O,G]),Y=(0,t.useCallback)((function(){I({type:"focus"})}),[]),X=(0,t.useCallback)((function(){I({type:"blur"})}),[]),J=(0,t.useCallback)((function(){x||(xl()?setTimeout(G,0):G())}),[x,G]),ee=function(e){return a?null:e},te=function(e){return S?null:ee(e)},ne=function(e){return _?null:ee(e)},re=function(e){k&&e.stopPropagation()},ae=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,i=e.onKeyDown,o=e.onFocus,s=e.onBlur,c=e.onClick,u=e.onDragEnter,l=e.onDragOver,d=e.onDragLeave,f=e.onDrop,p=zl(e,Ml);return Bl(Bl(Vl({onKeyDown:te(Sl(i,Q)),onFocus:te(Sl(o,Y)),onBlur:te(Sl(s,X)),onClick:ee(Sl(c,J)),onDragEnter:ne(Sl(u,W)),onDragOver:ne(Sl(l,q)),onDragLeave:ne(Sl(d,Z)),onDrop:ne(Sl(f,K)),role:"string"===typeof r&&""!==r?r:"presentation"},n,O),a||S?{}:{tabIndex:0}),p)}}),[O,Q,Y,X,J,W,q,Z,K,S,_,a]),ie=(0,t.useCallback)((function(e){e.stopPropagation()}),[]),oe=(0,t.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.onChange,a=e.onClick,i=zl(e,Ll),o=Vl({accept:R,multiple:c,type:"file",style:{display:"none"},onChange:ee(Sl(r,K)),onClick:ee(Sl(a,ie)),tabIndex:-1},n,M);return Bl(Bl({},o),i)}}),[M,r,c,K,a]);return Bl(Bl({},A),{},{isFocused:N&&!a,getRootProps:ae,getInputProps:oe,rootRef:O,inputRef:M,open:ee(G)})}function Zl(e,t){switch(t.type){case"focus":return Bl(Bl({},e),{},{isFocused:!0});case"blur":return Bl(Bl({},e),{},{isFocused:!1});case"openDialog":return Bl(Bl({},Wl),{},{isFileDialogActive:!0});case"closeDialog":return Bl(Bl({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Bl(Bl({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Bl(Bl({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Bl({},Wl);default:return e}}function $l(){}var Kl,Gl=function(e){var n=e.image,r=e.objectFit,a=void 0===r?"cover":r,i=e.position,o=void 0===i?"relative":i,s=L(t.useState(!0),2),c=s[0],u=s[1],l=b(Xs),d=b(Js),f=Gs();return(0,ac.jsxs)("div",{style:{zIndex:0,position:o,objectFit:a,width:"100%",height:"100%"},children:[c&&""!==n&&void 0!==n?(0,ac.jsx)($s.div,{style:{background:"linear-gradient(270deg, ".concat(d,", ").concat(l,", ").concat(d,")"),position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundSize:"600% 600%"},initial:{backgroundPosition:"0% 50%"},animate:{backgroundPosition:["0% 50%","300% 50%"]},transition:{ease:"linear",duration:3,repeat:1/0}}):null,(0,ac.jsx)($s.img,{style:{width:"100%",height:"100%",objectFit:a},initial:{opacity:0},animate:f,onLoad:function(){u(!1),f.start({opacity:1})},src:n,alt:"Error Loading"})]})},Ql=function(e){var t=e.center,n=void 0!==t&&t,r=e.zIndex,a=e.animation;return(0,ac.jsx)($s.div,{animate:a,style:{width:50,height:50,padding:10,borderRadius:15,position:"absolute",zIndex:r+1,top:n?"50%":10,left:n?"50%":10,transform:n?"translate(-50%, -50%)":null},children:(0,ac.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M70.0667 16.6666H63.3333V9.93329C63.3333 8.13329 61.8667 6.66663 60.0667 6.66663H59.9667C58.1333 6.66663 56.6667 8.13329 56.6667 9.93329V16.6666H49.9667C48.1667 16.6666 46.7 18.1333 46.6667 19.9333V20.0333C46.6667 21.8666 48.1333 23.3333 49.9667 23.3333H56.6667V30.0333C56.6667 31.8333 58.1333 33.3333 59.9667 33.3H60.0667C61.8667 33.3 63.3333 31.8333 63.3333 30.0333V23.3333H70.0667C71.8667 23.3333 73.3333 21.8666 73.3333 20.0666V19.9333C73.3333 18.1333 71.8667 16.6666 70.0667 16.6666ZM53.3333 30.0333V26.6666H49.9667C48.2 26.6666 46.5333 25.9666 45.2667 24.7333C44.0333 23.4666 43.3333 21.8 43.3333 19.9333C43.3333 18.7333 43.6667 17.6333 44.2333 16.6666H16.6667C13 16.6666 10 19.6666 10 23.3333V63.3333C10 67 13 70 16.6667 70H56.6667C60.3333 70 63.3333 67 63.3333 63.3333V35.7333C62.3333 36.3 61.2 36.6666 59.9333 36.6666C58.1826 36.6491 56.5089 35.9436 55.274 34.7024C54.0391 33.4613 53.342 31.7841 53.3333 30.0333ZM53.2 63.3333H20C19.6905 63.3333 19.3871 63.2471 19.1238 63.0844C18.8605 62.9217 18.6477 62.6888 18.5093 62.412C18.3709 62.1351 18.3123 61.8252 18.3401 61.517C18.3679 61.2087 18.481 60.9142 18.6667 60.6666L25.2667 51.9C25.9667 50.9666 27.3333 51.0333 28 51.9666L33.3333 60L42.0333 48.4C42.7 47.5333 44 47.5 44.6667 48.3666L54.5 60.6333C55.3667 61.7333 54.6 63.3333 53.2 63.3333Z",fill:"black"})})})},Yl=function(e){var n=e.initalImage,r=e.width,a=void 0===r?"100%":r,i=e.height,o=void 0===i?"100%":i,s=e.borderRadius,c=void 0===s?"15px":s,u=e.center,l=void 0!==u&&u,d=e.zIndex,f=void 0===d?"0":d,p=e.getFile,h=void 0===p?function(){}:p,v=L(t.useState([{preview:n}]),2),m=v[0],g=v[1],y=Gs(),w=Gs(),x=b(Xs),S=b(ec),_=b(tc),k=ql({accept:{"image/*":[".jpeg",".png",".webp",".jpg"]},maxFiles:1,onDrop:function(e){g(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),C=k.getRootProps,P=k.getInputProps;k.isDragActive;t.useEffect((function(){return m[0].size&&h(m[0]),function(){return m.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[m]);var R=function(e,t){y.start({border:"solid 4px ".concat(e)}),!1===t?w.start({filter:"invert()"}):w.start({filter:"none"})};return(0,ac.jsxs)($s.div,(0,Du.Z)((0,Du.Z)({animate:y,onMouseEnter:function(){R(S,!1)},onMouseLeave:function(){R(x,!0)},onMouseDown:function(){R(_,!1)},onMouseUp:function(){R(S,!1)},style:{width:"calc(".concat(a," - 8px)"),height:"calc(".concat(o," - 8px)"),position:"absolute",overflow:"hidden",cursor:"pointer",borderRadius:c,border:"4px solid ".concat(x),zIndex:f,left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},C({className:"dropzone"})),{},{className:"image-drop-input-container",children:[(0,ac.jsx)("input",(0,Du.Z)({},P())),(0,ac.jsx)(Gl,{image:m[0].preview}),(0,ac.jsx)(Ql,{center:l,zIndex:f,animation:w})]}))},Xl=function(e){var t=e.userImage,n=e.userBanner,r=e.getNewUserImage,a=e.getNewUserBanner;return(0,ac.jsxs)("div",{className:"profile-image-container",children:[(0,ac.jsx)(Yl,{getFile:a,initalImage:n}),(0,ac.jsx)(Yl,{getFile:r,initalImage:t,zIndex:"1",center:!0,width:"350px",height:"350px",borderRadius:"50%"})]})},Jl=function(){return(0,ac.jsx)("div",{style:{flexShrink:0,minHeight:"100px",minWidth:"100%"}})},ed=function(){var e=T(),n=ue(),r=L(t.useState({}),2),a=r[0],i=r[1],o=L(t.useState({}),2),s=o[0],c=o[1],u=b(yu),l=b(vu),d=b(mu),f=b(xu),p=b(wu),h=b(fu),v=b(pu),m=b(hu),g=b(gu),y=b(du);t.useEffect((function(){e(Tu("Account Settings"))}),[]);var w=function(t,n){e(ku({value:t,state:n}))};return(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsxs)("div",{className:"settings-wrapper",children:[(0,ac.jsx)(Lu,{title:"Change Display Name"}),(0,ac.jsx)(oc,{stateSelector:"display_name",action:w,inputValue:u,placeholder:""}),(0,ac.jsx)(Lu,{title:"Change Password"}),(0,ac.jsx)(oc,{stateSelector:"password",action:w,marginBottom:"2%",type:"password",placeholder:"Current Password",inputValue:h}),(0,ac.jsx)(oc,{action:w,stateSelector:"newPassword",marginBottom:"2%",type:"password",placeholder:"New Password",inputValue:v}),(0,ac.jsx)(oc,{action:w,inputValue:m,stateSelector:"confirmNewPassword",type:"password",placeholder:"Confirm New Password"}),(0,ac.jsx)(Lu,{title:"Change Banner / Profile Pic"}),(0,ac.jsx)(Xl,{getNewUserBanner:function(t){c(t),e(ku({state:"change",value:!0}))},getNewUserImage:function(t){i(t),e(ku({state:"change",value:!0}))},userImage:f,userBanner:p}),y?(0,ac.jsx)(Mu,{apply:function(){e(uu({userImage:a,userBanner:s})),c({}),i({})},cancel:function(){n(window.location.hash.split("#")[1].split("/appsettings")[0])}}):null,(0,ac.jsx)(Jl,{})]}),(0,ac.jsxs)(hc,{children:[l?(0,ac.jsx)(mc,{}):null,d?(0,ac.jsx)(vc,{action:function(){e(Cu())},errorMessage:g,buttonLabel:"Ok"}):null]})]})},td=function(){return le([{path:"account",element:(0,ac.jsx)(ed,{})}])},nd=function(){var e=T();t.useEffect((function(){e(Tu("Appearance Settings"))}),[]);var n=b(Xs),r=b(Js),a=b(ec),i=b(tc),o=function(t,n){e(Ys({value:t,type:n}))};return(0,ac.jsxs)("div",{className:"settings-wrapper",children:[(0,ac.jsx)(Lu,{title:"Primary Color"}),(0,ac.jsx)(oc,{stateSelector:"primaryColor",action:o,inputValue:n}),(0,ac.jsx)(Lu,{title:"Secondary Color"}),(0,ac.jsx)(oc,{stateSelector:"secondaryColor",action:o,inputValue:r}),(0,ac.jsx)(Lu,{title:"Accent Color"}),(0,ac.jsx)(oc,{stateSelector:"accentColor",action:o,inputValue:a}),(0,ac.jsx)(Lu,{title:"Text Color"}),(0,ac.jsx)(oc,{stateSelector:"textColor",action:o,inputValue:i}),(0,ac.jsx)(Lu,{title:"Presets"})]})},rd=function(){return le([{path:"appearance",element:(0,ac.jsx)(nd,{})}])},ad=function(){var e=s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=window.require("keytar"),e.next=4,t.getPassword("KEY","BINDS");case 4:if(n=e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return e.abrupt("return",JSON.parse(n));case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),id=function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.require("keytar"),e.next=4,n.setPassword("KEY","BINDS",JSON.stringify(t));case 4:return e.sent,e.abrupt("return",!0);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),od=function(e){try{var t=e;window.require("electron").ipcRenderer.send("REG_KEYBINDS",t)}catch(n){console.log(n)}},sd=(0,bc.createSlice)({name:"keyBindSettingsSlice",initialState:{push_to_talk:{key:"",keyCode:""},mute_mic:{key:"",keyCode:""},mute_audio:{key:"",keyCode:""},activate_camera:{key:"",keyCode:""},disconnect:{key:"",keyCode:""}},reducers:{updateKeyCodeState:function(e,t){for(var n=0,r=Object.entries(t.payload);n<r.length;n++){var a=L(r[n],2),i=a[0],o=a[1];e[i]=o}var s={push_to_talk:e.push_to_talk,mute_mic:e.mute_mic,mute_audio:e.mute_audio,activate_camera:e.activate_camera,disconnect:e.disconnect};id(s).then((function(){ad().then((function(e){od(e)}))}))},setSavedKeyCodes:function(e,t){for(var n=0,r=Object.entries(t.payload);n<r.length;n++){var a=L(r[n],2),i=a[0],o=a[1];e[i]=o}}}}),cd=function(e){return e.keyBindSettingsSlice.push_to_talk},ud=function(e){return e.keyBindSettingsSlice.mute_mic},ld=function(e){return e.keyBindSettingsSlice.mute_audio},dd=function(e){return e.keyBindSettingsSlice.activate_camera},fd=function(e){return e.keyBindSettingsSlice.disconnect},pd=sd.actions,hd=pd.updateKeyCodeState,vd=pd.setSavedKeyCodes,md=sd.reducer,gd=function(){var e=T(),n=L(t.useState({}),2),r=n[0],a=n[1],i=L(t.useState(!1),2),o=i[0],s=i[1],c=b(cd),u=b(ud),l=b(ld),d=b(dd),f=b(fd);t.useEffect((function(){e(Tu("Key Bind Settings"))}),[]);var p=function(e,t,n){var i=(0,Du.Z)((0,Du.Z)({},r),{},(0,Bt.Z)({},t,{key:n.nativeEvent.key,keyCode:n.keyCode}));a(i),s(!0)};return(0,ac.jsxs)("div",{className:"settings-wrapper",children:[(0,ac.jsx)(Lu,{title:"Push To Talk"}),(0,ac.jsx)(oc,{keyCode:p,stateSelector:"push_to_talk",inputValue:r.push_to_talk?r.push_to_talk.key:c.key}),(0,ac.jsx)(Lu,{title:"Mute Mic"}),(0,ac.jsx)(oc,{keyCode:p,stateSelector:"mute_mic",inputValue:r.mute_mic?r.mute_mic.key:u.key}),(0,ac.jsx)(Lu,{title:"Mute Audio"}),(0,ac.jsx)(oc,{keyCode:p,stateSelector:"mute_audio",inputValue:r.mute_audio?r.mute_audio.key:l.key}),(0,ac.jsx)(Lu,{title:"Activate Camera"}),(0,ac.jsx)(oc,{keyCode:p,stateSelector:"activate_camera",inputValue:r.activate_camera?r.activate_camera.key:d.key}),(0,ac.jsx)(Lu,{title:"Disconnect"}),(0,ac.jsx)(oc,{keyCode:p,stateSelector:"disconnect",inputValue:r.disconnect?r.disconnect.key:f.key}),o?(0,ac.jsx)(Mu,{cancel:function(){a({}),s(!1)},apply:function(){e(hd(r)),s(!1)},name:"Save"}):null]})},yd=function(){return le([{path:"keybindings",element:(0,ac.jsx)(gd,{})}])},bd=function(e){var n=e.selectedItem,r=e.list,a=void 0===r?["No Options"]:r,i=e.action,o=e.stateType,s=b(Xs),c=L(t.useState(!1),2),u=c[0],l=c[1];return(0,ac.jsxs)("div",{className:"drop-down-container",children:[(0,ac.jsx)(ic,{textAlign:"start",action:function(){l(!u)},name:n}),u&&"error"!==o?(0,ac.jsx)("div",{style:{backgroundColor:s},className:"drop-down-content",children:0===a.length?(0,ac.jsx)("li",{children:"No Devices Available"}):a.map((function(e,t){return(0,ac.jsx)("li",{onClick:function(){!function(e){l(!u),i(o,e)}(e)},style:{backgroundColor:s},children:e.label},t)}))}):null]})},wd=(0,bc.createAsyncThunk)("voiceVideoSettingsSlice/getMediaDevices",function(){var e=s(i().mark((function e(t,n){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,a=navigator.mediaDevices.enumerateDevices().then((function(e){return e.map((function(e){return{_id:e.deviceId,type:e.kind,label:e.label}}))})).catch((function(e){return r("Unable To Retrieve Devices")})),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),xd=(0,bc.createSlice)({name:"voiceVideoSettingsSlice",initialState:{audioinput:{_id:"",type:"",label:""},audiooutput:{_id:"",type:"",label:""},videoinput:{_id:"",type:"",label:""},deviceList:[],pushToTalk:!1,voiceActivity:!0},reducers:{updateSelectedDevice:function(e,t){e[t.payload.type]=t.payload.device},toggleVoiceActivity:function(e,t){e.pushToTalk=!e.pushToTalk,e.voiceActivity=!e.voiceActivity}},extraReducers:(Kl={},(0,Bt.Z)(Kl,wd.pending,(function(e,t){})),(0,Bt.Z)(Kl,wd.fulfilled,(function(e,t){e.deviceList=t.payload,e.audioinput=(0,Du.Z)({},t.payload.find((function(e){if("audioinput"===e.type&&-1!==e.label.search("Default"))return e}))),e.audiooutput=(0,Du.Z)({},t.payload.find((function(e){if("audiooutput"===e.type&&-1!==e.label.search("Default"))return e}))),e.videoinput=(0,Du.Z)({},t.payload.find((function(e){if("videoinput"===e.type)return e})))})),(0,Bt.Z)(Kl,wd.rejected,(function(e,t){e.audioinput={_id:"",label:t.payload,type:"error"},e.audiooutput={_id:"",label:t.payload,type:"error"},e.videoinput={_id:"",label:t.payload,type:"error"}})),Kl)}),Sd=function(e){return e.voiceVideoSettingsSlice.deviceList===[]?[]:e.voiceVideoSettingsSlice.deviceList.filter((function(e){return"audioinput"===e.type?e:null}))},_d=function(e){return e.voiceVideoSettingsSlice.deviceList===[]?[]:e.voiceVideoSettingsSlice.deviceList.filter((function(e){return"audiooutput"===e.type?e:null}))},kd=function(e){return e.voiceVideoSettingsSlice.deviceList===[]?[]:e.voiceVideoSettingsSlice.deviceList.filter((function(e){return"videoinput"===e.type?e:null}))},Cd=function(e){return e.voiceVideoSettingsSlice.videoinput},Pd=function(e){return e.voiceVideoSettingsSlice.audiooutput},Rd=function(e){return e.voiceVideoSettingsSlice.audioinput},Ed=function(e){return e.voiceVideoSettingsSlice.pushToTalk},jd=function(e){return e.voiceVideoSettingsSlice.voiceActivity},Td=xd.actions,Od=Td.updateSelectedDevice,Md=Td.toggleVoiceActivity,Ld=xd.reducer;function Dd(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=M(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}var Ad,Id=function(e){e.audio;var n,r,a,i,o=L(t.useState(new Uint8Array(0)),2),s=(o[0],o[1],b(Rd)),c=b(Xs);b(nc);return t.useEffect((function(){return setTimeout((function(){navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:s._id}},video:!1}).then((function(e){var t;(t=document.createElement("audio")).srcObject=e,t.id="testing-audio-feedback",t.hidden=!0,t.autoplay=!0,n=new AudioContext,r=n.createAnalyser(),a=n.createMediaStreamSource(e),i=n.createScriptProcessor(2048,1,1),r.smoothingTimeConstant=.8,r.fftSize=1024,a.connect(r),r.connect(i),i.connect(n.destination),document.getElementsByClassName("listen-to-audio-container")[0].appendChild(t),i.onaudioprocess=function(){var e=new Uint8Array(r.frequencyBinCount);r.getByteFrequencyData(e);var t,n=e.reduce((function(e,t){return e+t}),0),a=n/e.length*5,i=cn(document.querySelectorAll(".pid")),o=Math.round(a/i.length),s=i.slice(0,o),u=Dd(i);try{for(u.s();!(t=u.n()).done;){t.value.style.backgroundColor=c}}catch(f){u.e(f)}finally{u.f()}var l,d=Dd(s);try{for(d.s();!(l=d.n()).done;){l.value.style.backgroundColor="rgb(58, 235, 52)"}}catch(f){d.e(f)}finally{d.f()}}}))}),10),function(){a&&r&&(r.disconnect(),a.disconnect(),i.disconnect(),document.getElementById("testing-audio-feedback").remove())}}),[]),(0,ac.jsx)(ac.Fragment,{})},Nd=function(){var e=L(t.useState(!1),2),n=e[0],r=e[1],a=b(Xs),i=function(){r(!1)};return t.useEffect((function(){return function(){!1!==n&&i()}}),[]),(0,ac.jsxs)("div",{className:"listen-to-audio-container",children:[!1===n?null:(0,ac.jsx)(Id,{}),(0,ac.jsx)("div",{className:"audio-level-bars-container",children:cn(Array(30).keys()).map((function(e){return(0,ac.jsx)("div",{style:{backgroundColor:a},className:"pid"},e)}))}),(0,ac.jsx)(Mu,{toggled:n,cancel:i,name:"Start",apply:function(){r(!0)}})]})},Fd=function(e){var t=e.state,n=void 0!==t&&t,r=e.action,a=Gs(),i=b(Xs),o=b(ec),s=b(tc),c=function(e){a.start({border:"solid 4px ".concat(e)})};return(0,ac.jsx)($s.div,{onClick:r,animate:a,className:"toggle-button-container",style:{justifyContent:n?"flex-end":"flex-start",backgroundColor:i,border:"solid 4px ".concat(i)},onMouseOver:function(){c(o)},onMouseLeave:function(){c(i)},onMouseDown:function(){c(s)},onMouseUp:function(){c(i)},children:(0,ac.jsx)("div",{style:{backgroundColor:n?s:o},className:"switch"})})},Bd=function(){var e=T();t.useEffect((function(){e(Tu("Voice / Video Settings"))}),[]);var n=b(Rd),r=b(Sd),a=b(Pd),i=b(_d),o=b(Cd),s=b(kd),c=b(Ed),u=b(jd),l=function(){e(Md())},d=function(t,n){e(Od({type:t,device:n}))};return(0,ac.jsxs)("div",{className:"settings-wrapper",children:[(0,ac.jsx)(Lu,{title:"Select Audio Input Device"}),(0,ac.jsx)(bd,{action:d,stateType:"audioinput",selectedItem:n.label,list:r}),(0,ac.jsx)(Lu,{title:"Select Audio Output Device"}),(0,ac.jsx)(bd,{action:d,stateType:"audiooutput",selectedItem:a.label,list:i}),(0,ac.jsx)(Lu,{title:"Select Video Input Device"}),(0,ac.jsx)(bd,{action:d,stateType:"videoinput",selectedItem:o.label,list:s}),(0,ac.jsx)(Lu,{title:"Test Mic Input"}),(0,ac.jsx)(Nd,{}),(0,ac.jsx)(Lu,{marginTop:"0%",title:"Enable Push To Talk"}),(0,ac.jsx)(Fd,{state:c,action:l}),(0,ac.jsx)(Lu,{title:"Enable Voice Activity Detection"}),(0,ac.jsx)(Fd,{state:u,action:l})]})},Vd=function(){return le([{path:"voice-video",element:(0,ac.jsx)(Bd,{})}])},zd=function(){var e=T(),n=b(Js);return t.useEffect((function(){return function(){-1!==window.location.hash.search("server")?e(Tu("Select Channel")):e(Tu("Select Server"))}}),[]),(0,ac.jsxs)("div",{style:{backgroundColor:n},className:"settings-routes-wrapper",children:[(0,ac.jsx)(td,{}),(0,ac.jsx)(rd,{}),(0,ac.jsx)(yd,{}),(0,ac.jsx)(Vd,{})]})},Ud=function(){return le([{path:"createserver/appsettings/*",element:(0,ac.jsx)(zd,{})},{path:"join-server/:id/appsettings/*",element:(0,ac.jsx)(zd,{})},{path:"server/:id/create-channel-menu/appsettings/*",element:(0,ac.jsx)(zd,{})},{path:"server/:id/channel/:id/create-channel-menu/appsettings/*",element:(0,ac.jsx)(zd,{})},{path:"server/:id/channel/:id/appsettings/*",element:(0,ac.jsx)(zd,{})},{path:"server/:id/channel/:id/server-settings/:id/appsettings/*",element:(0,ac.jsx)(zd,{})},{path:"server/:id/appsettings/*",element:(0,ac.jsx)(zd,{})},{path:"server/:id/server-settings/:id/appsettings/*",element:(0,ac.jsx)(zd,{})},{path:"appsettings/*",element:(0,ac.jsx)(zd,{})}])},Hd=(0,bc.createAsyncThunk)("sideBarSlice/fetchUsersServerList",function(){var e=s(i().mark((function e(t,n){var r,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,_c();case 3:return a=e.sent,e.next=6,xc()({method:"GET",url:"".concat(Sc,"/fetch-server-list"),headers:{TOKEN:a}}).then((function(e){return e.data.error?r({error:!0,errorMessage:e.data.errorMessage}):e.data.servers}));case 6:return o=e.sent,e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Wd=(0,bc.createAsyncThunk)("sideBarSlice/searchForServers",function(){var e=s(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.value,a=n.rejectWithValue,e.next=4,_c();case 4:return o=e.sent,s=xc()({method:"POST",url:"".concat(Sc,"/query-server-list"),headers:{TOKEN:o},data:{query:r}}).then((function(e){return e.data.error?a({error:!0,errorMessage:"unexpected error while searching for servers"}):e.data.servers})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),qd=(0,bc.createSlice)({name:"sideBarSlice",initialState:{serverList:[],loadingUsersServers:!0,header:"Servers",loadingServerResults:!1,serverSearchResults:[],serverQuery:""},reducers:{setSideBarHeader:function(e,t){e.header=t.payload},setServerQuery:function(e,t){e.serverQuery=t.payload},pushNewServerCard:function(e,t){e.serverList.push(t.payload)}},extraReducers:(Ad={},(0,Bt.Z)(Ad,Hd.pending,(function(e,t){e.loadingUsersServers=!0})),(0,Bt.Z)(Ad,Hd.fulfilled,(function(e,t){e.serverList=t.payload,e.loadingUsersServers=!1})),(0,Bt.Z)(Ad,Hd.rejected,(function(e,t){})),(0,Bt.Z)(Ad,Wd.pending,(function(e,t){e.loadingServerResults=!0})),(0,Bt.Z)(Ad,Wd.fulfilled,(function(e,t){e.serverSearchResults=t.payload,e.loadingServerResults=!1})),(0,Bt.Z)(Ad,Wd.rejected,(function(e,t){e.loadingServerResults=!1})),Ad)}),Zd=function(e){return e.sideBarSlice.loadingServerResults},$d=function(e){return e.sideBarSlice.serverSearchResults},Kd=function(e){return e.sideBarSlice.serverList},Gd=function(e){return e.sideBarSlice.loadingUsersServers},Qd=function(e){return e.sideBarSlice.header},Yd=function(e){return e.sideBarSlice.serverQuery},Xd=qd.actions,Jd=Xd.setSideBarHeader,ef=Xd.setServerQuery,tf=Xd.pushNewServerCard,nf=qd.reducer;function rf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function af(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function of(e,t,n){return t&&af(e.prototype,t),n&&af(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cf(e,t){return cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cf(e,t)}function uf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cf(e,t)}function lf(e){return lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lf(e)}function df(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ff(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sf(e)}function pf(e){var t=df();return function(){var n,r=lf(e);if(t){var a=lf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ff(this,n)}}function hf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lf(e)););return e}function vf(){return vf="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=hf(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},vf.apply(this,arguments)}function mf(e,t,n){return mf=df()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&cf(a,n.prototype),a},mf.apply(null,arguments)}function gf(e){var t="function"===typeof Map?new Map:void 0;return gf=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return mf(e,arguments,lf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),cf(n,e)},gf(e)}var yf=Object.create(null);yf.open="0",yf.close="1",yf.ping="2",yf.pong="3",yf.message="4",yf.upgrade="5",yf.noop="6";var bf=Object.create(null);Object.keys(yf).forEach((function(e){bf[yf[e]]=e}));for(var wf={type:"error",data:"parser error"},xf="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Sf="function"===typeof ArrayBuffer,_f=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},kf=function(e,t,n){var r,a=e.type,i=e.data;return xf&&i instanceof Blob?t?n(i):_f(i,n):Sf&&(i instanceof ArrayBuffer||(r=i,"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?t?n(i):_f(new Blob([i]),n):n(yf[a]+(i||""))},Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pf="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Rf=0;Rf<Cf.length;Rf++)Pf[Cf.charCodeAt(Rf)]=Rf;var Ef="function"===typeof ArrayBuffer,jf=function(e,t){if(Ef){var n=function(e){var t,n,r,a,i,o=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var u=new ArrayBuffer(o),l=new Uint8Array(u);for(t=0;t<s;t+=4)n=Pf[e.charCodeAt(t)],r=Pf[e.charCodeAt(t+1)],a=Pf[e.charCodeAt(t+2)],i=Pf[e.charCodeAt(t+3)],l[c++]=n<<2|r>>4,l[c++]=(15&r)<<4|a>>2,l[c++]=(3&a)<<6|63&i;return u}(e);return Tf(n,t)}return{base64:!0,data:e}},Tf=function(e,t){return"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e},Of=function(e,t){if("string"!==typeof e)return{type:"message",data:Tf(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:jf(e.substring(1),t)}:bf[n]?e.length>1?{type:bf[n],data:e.substring(1)}:{type:bf[n]}:wf},Mf=String.fromCharCode(30);function Lf(e){if(e)return function(e){for(var t in Lf.prototype)e[t]=Lf.prototype[t];return e}(e)}Lf.prototype.on=Lf.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Lf.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Lf.prototype.off=Lf.prototype.removeListener=Lf.prototype.removeAllListeners=Lf.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<r.length;a++)if((n=r[a])===t||n.fn===t){r.splice(a,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Lf.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var a=(n=n.slice(0)).length;r<a;++r)n[r].apply(this,t)}return this},Lf.prototype.emitReserved=Lf.prototype.emit,Lf.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Lf.prototype.hasListeners=function(e){return!!this.listeners(e).length};var Df="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Af(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var If=setTimeout,Nf=clearTimeout;function Ff(e,t){t.useNativeTimers?(e.setTimeoutFn=If.bind(Df),e.clearTimeoutFn=Nf.bind(Df)):(e.setTimeoutFn=setTimeout.bind(Df),e.clearTimeoutFn=clearTimeout.bind(Df))}var Bf,Vf=function(e){uf(n,e);var t=pf(n);function n(e,r,a){var i;return rf(this,n),(i=t.call(this,e)).description=r,i.context=a,i.type="TransportError",i}return of(n)}(gf(Error)),zf=function(e){uf(n,e);var t=pf(n);function n(e){var r;return rf(this,n),(r=t.call(this)).writable=!1,Ff(sf(r),e),r.opts=e,r.query=e.query,r.readyState="",r.socket=e.socket,r}return of(n,[{key:"onError",value:function(e,t,r){return vf(lf(n.prototype),"emitReserved",this).call(this,"error",new Vf(e,t,r)),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,vf(lf(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=Of(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){vf(lf(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",vf(lf(n.prototype),"emitReserved",this).call(this,"close",e)}}]),n}(Lf),Uf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Hf={},Wf=0,qf=0;function Zf(e){var t="";do{t=Uf[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function $f(){var e=Zf(+new Date);return e!==Bf?(Wf=0,Bf=e):e+"."+Zf(Wf++)}for(;qf<64;qf++)Hf[Uf[qf]]=qf;function Kf(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Gf(e){for(var t={},n=e.split("&"),r=0,a=n.length;r<a;r++){var i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}var Qf=!1;try{Qf="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(gg){}var Yf=Qf;function Xf(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||Yf))return new XMLHttpRequest}catch(n){}if(!t)try{return new(Df[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function Jf(){}var ep=null!=new Xf({xdomain:!1}).responseType,tp=function(e){uf(n,e);var t=pf(n);function n(e){var r;if(rf(this,n),(r=t.call(this,e)).polling=!1,"undefined"!==typeof location){var a="https:"===location.protocol,i=location.port;i||(i=a?"443":"80"),r.xd="undefined"!==typeof location&&e.hostname!==location.hostname||i!==e.port,r.xs=e.secure!==a}var o=e&&e.forceBase64;return r.supportsBinary=ep&&!o,r}return of(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this.polling||!this.writable){var r=0;this.polling&&(r++,this.once("pollComplete",(function(){--r||n()}))),this.writable||(r++,this.once("drain",(function(){--r||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(Mf),r=[],a=0;a<n.length;a++){var i=Of(n[a],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,r=new Array(n),a=0;e.forEach((function(e,i){kf(e,!1,(function(e){r[i]=e,++a===n&&t(r.join(Mf))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=$f()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var r=Kf(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new np(this.uri(),e)}},{key:"doWrite",value:function(e,t){var n=this,r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(zf),np=function(e){uf(n,e);var t=pf(n);function n(e,r){var a;return rf(this,n),Ff(sf(a=t.call(this)),r),a.opts=r,a.method=r.method||"GET",a.uri=e,a.async=!1!==r.async,a.data=void 0!==r.data?r.data:null,a.create(),a}return of(n,[{key:"create",value:function(){var e=this,t=Af(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;var r=this.xhr=new Xf(t);try{r.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var a in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this.opts.extraHeaders[a])}catch(i){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}try{r.setRequestHeader("Accept","*/*")}catch(i){}"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=function(){4===r.readyState&&(200===r.status||1223===r.status?e.onLoad():e.setTimeoutFn((function(){e.onError("number"===typeof r.status?r.status:0)}),0))},r.send(this.data)}catch(i){return void this.setTimeoutFn((function(){e.onError(i)}),0)}"undefined"!==typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onError",value:function(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}},{key:"cleanup",value:function(e){if("undefined"!==typeof this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Jf,e)try{this.xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}},{key:"abort",value:function(){this.cleanup()}}]),n}(Lf);if(np.requestsCount=0,np.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",rp);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Df?"pagehide":"unload",rp,!1)}function rp(){for(var e in np.requests)np.requests.hasOwnProperty(e)&&np.requests[e].abort()}var ap="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},ip=Df.WebSocket||Df.MozWebSocket,op="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),sp=function(e){uf(n,e);var t=pf(n);function n(e){var r;return rf(this,n),(r=t.call(this,e)).supportsBinary=!e.forceBase64,r}return of(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var e=this.uri(),t=this.opts.protocols,n=op?{}:Af(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=op?new ip(e,t,n):t?new ip(e,t):new ip(e)}catch(gg){return this.emitReserved("error",gg)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(n){var r=e[n],a=n===e.length-1;kf(r,t.supportsBinary,(function(e){try{t.ws.send(e)}catch(n){}a&&ap((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},r=0;r<e.length;r++)n(r)}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.query||{},t=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=$f()),this.supportsBinary||(e.b64=1);var r=Kf(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}},{key:"check",value:function(){return!!ip}}]),n}(zf),cp={websocket:sp,polling:tp},up=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,lp=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function dp(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var a=up.exec(e||""),i={},o=14;o--;)i[lp[o]]=a[o]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}var fp=function(e){uf(n,e);var t=pf(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return rf(this,n),r=t.call(this),e&&"object"===typeof e&&(a=e,e=null),e?(e=dp(e),a.hostname=e.host,a.secure="https"===e.protocol||"wss"===e.protocol,a.port=e.port,e.query&&(a.query=e.query)):a.host&&(a.hostname=dp(a.host).host),Ff(sf(r),a),r.secure=null!=a.secure?a.secure:"undefined"!==typeof location&&"https:"===location.protocol,a.hostname&&!a.port&&(a.port=r.secure?"443":"80"),r.hostname=a.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=a.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=a.transports||["polling","websocket"],r.readyState="",r.writeBuffer=[],r.prevBufferLen=0,r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},a),r.opts.path=r.opts.path.replace(/\/$/,"")+"/","string"===typeof r.opts.query&&(r.opts.query=Gf(r.opts.query)),r.id=null,r.upgrades=null,r.pingInterval=null,r.pingTimeout=null,r.pingTimeoutTimer=null,"function"===typeof addEventListener&&(r.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())}),!1),"localhost"!==r.hostname&&(r.offlineEventListener=function(){r.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",r.offlineEventListener,!1))),r.open(),r}return of(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new cp[e](n)}},{key:"open",value:function(){var e,t=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){t.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(r){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(e){return t.onClose("transport close",e)}))}},{key:"probe",value:function(e){var t=this,r=this.createTransport(e),a=!1;n.priorWebsocketSuccess=!1;var i=function(){a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",(function(e){if(!a)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",r),!r)return;n.priorWebsocketSuccess="websocket"===r.name,t.transport.pause((function(){a||"closed"!==t.readyState&&(d(),t.setTransport(r),r.send([{type:"upgrade"}]),t.emitReserved("upgrade",r),r=null,t.upgrading=!1,t.flush())}))}else{var i=new Error("probe error");i.transport=r.name,t.emitReserved("upgradeError",i)}})))};function o(){a||(a=!0,d(),r.close(),r=null)}var s=function(e){var n=new Error("probe error: "+e);n.transport=r.name,o(),t.emitReserved("upgradeError",n)};function c(){s("transport closed")}function u(){s("socket closed")}function l(e){r&&e.name!==r.name&&o()}var d=function(){r.removeListener("open",i),r.removeListener("error",s),r.removeListener("close",c),t.off("close",u),t.off("upgrading",l)};r.once("open",i),r.once("error",s),r.once("close",c),this.once("close",u),this.once("upgrading",l),r.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},{key:"onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){e.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"getWritablePackets",value:function(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var r=this.writeBuffer[n].data;if(r&&(t+="string"===typeof(e=r)?function(e){for(var t=0,n=0,r=0,a=e.length;r<a;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this.maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"write",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this.sendPacket("message",e,t,n),this}},{key:"sendPacket",value:function(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var a={type:e,data:t,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e.onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},r=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?r():t()})):this.upgrading?r():t()),this}},{key:"onError",value:function(e){n.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}},{key:"onClose",value:function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"===typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(Lf);fp.protocol=4;fp.protocol;var pp="function"===typeof ArrayBuffer,hp=Object.prototype.toString,vp="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===hp.call(Blob),mp="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===hp.call(File);function gp(e){return pp&&(e instanceof ArrayBuffer||function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))||vp&&e instanceof Blob||mp&&e instanceof File}function yp(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,r=e.length;n<r;n++)if(yp(e[n]))return!0;return!1}if(gp(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return yp(e.toJSON(),!0);for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&yp(e[a]))return!0;return!1}function bp(e){var t=[],n=e.data,r=e;return r.data=wp(n,t),r.attachments=t.length,{packet:r,buffers:t}}function wp(e,t){if(!e)return e;if(gp(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=wp(e[a],t);return r}if("object"===typeof e&&!(e instanceof Date)){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(i[o]=wp(e[o],t));return i}return e}function xp(e,t){return e.data=Sp(e.data,t),e.attachments=void 0,e}function Sp(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=Sp(e[n],t);else if("object"===typeof e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Sp(e[r],t));return e}var _p,kp=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(_p||(_p={}));var Cp=function(){function e(t){rf(this,e),this.replacer=t}return of(e,[{key:"encode",value:function(e){return e.type!==_p.EVENT&&e.type!==_p.ACK||!yp(e)?[this.encodeAsString(e)]:(e.type=e.type===_p.EVENT?_p.BINARY_EVENT:_p.BINARY_ACK,this.encodeAsBinary(e))}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==_p.BINARY_EVENT&&e.type!==_p.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=bp(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}]),e}(),Pp=function(e){uf(n,e);var t=pf(n);function n(e){var r;return rf(this,n),(r=t.call(this)).reviver=e,r}return of(n,[{key:"add",value:function(e){var t;if("string"===typeof e)(t=this.decodeString(e)).type===_p.BINARY_EVENT||t.type===_p.BINARY_ACK?(this.reconstructor=new Rp(t),0===t.attachments&&vf(lf(n.prototype),"emitReserved",this).call(this,"decoded",t)):vf(lf(n.prototype),"emitReserved",this).call(this,"decoded",t);else{if(!gp(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,vf(lf(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,r={type:Number(e.charAt(0))};if(void 0===_p[r.type])throw new Error("unknown packet type "+r.type);if(r.type===_p.BINARY_EVENT||r.type===_p.BINARY_ACK){for(var a=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var i=e.substring(a,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){for(var o=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(o,t)}else r.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var c=t+1;++t;){var u=e.charAt(t);if(null==u||Number(u)!=u){--t;break}if(t===e.length)break}r.id=Number(e.substring(c,t+1))}if(e.charAt(++t)){var l=this.tryParse(e.substr(t));if(!n.isPayloadValid(r.type,l))throw new Error("invalid payload");r.data=l}return r}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case _p.CONNECT:return"object"===typeof t;case _p.DISCONNECT:return void 0===t;case _p.CONNECT_ERROR:return"string"===typeof t||"object"===typeof t;case _p.EVENT:case _p.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case _p.ACK:case _p.BINARY_ACK:return Array.isArray(t)}}}]),n}(Lf),Rp=function(){function e(t){rf(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return of(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=xp(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function Ep(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var jp=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Tp=function(e){uf(n,e);var t=pf(n);function n(e,r,a){var i;return rf(this,n),(i=t.call(this)).connected=!1,i.receiveBuffer=[],i.sendBuffer=[],i.ids=0,i.acks={},i.flags={},i.io=e,i.nsp=r,a&&a.auth&&(i.auth=a.auth),i.io._autoConnect&&i.open(),i}return of(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[Ep(e,"open",this.onopen.bind(this)),Ep(e,"packet",this.onpacket.bind(this)),Ep(e,"error",this.onerror.bind(this)),Ep(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){if(jp.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.unshift(e);var a={type:_p.EVENT,data:n,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof n[n.length-1]){var i=this.ids++,o=n.pop();this._registerAckCallback(i,o),a.id=i}var s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,c=this.flags.volatile&&(!s||!this.connected);return c||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n=this,r=this.flags.timeout;if(void 0!==r){var a=this.io.setTimeoutFn((function(){delete n.acks[e];for(var r=0;r<n.sendBuffer.length;r++)n.sendBuffer[r].id===e&&n.sendBuffer.splice(r,1);t.call(n,new Error("operation has timed out"))}),r);this.acks[e]=function(){n.io.clearTimeoutFn(a);for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t.apply(n,[null].concat(r))}}else this.acks[e]=t}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e.packet({type:_p.CONNECT,data:t})})):this.packet({type:_p.CONNECT,data:this.auth})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case _p.CONNECT:if(e.data&&e.data.sid){var t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _p.EVENT:case _p.BINARY_EVENT:this.onevent(e);break;case _p.ACK:case _p.BINARY_ACK:this.onack(e);break;case _p.DISCONNECT:this.ondisconnect();break;case _p.CONNECT_ERROR:this.destroy();var n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,r=Dd(this._anyListeners.slice());try{for(r.s();!(t=r.n()).done;){t.value.apply(this,e)}}catch(gg){r.e(gg)}finally{r.f()}}vf(lf(n.prototype),"emit",this).apply(this,e)}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];t.packet({type:_p.ACK,id:e,data:a})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}},{key:"onconnect",value:function(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:_p.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=Dd(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(gg){n.e(gg)}finally{n.f()}}}}]),n}(Lf);function Op(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Op.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Op.prototype.reset=function(){this.attempts=0},Op.prototype.setMin=function(e){this.ms=e},Op.prototype.setMax=function(e){this.max=e},Op.prototype.setJitter=function(e){this.jitter=e};var Mp=function(t){uf(r,t);var n=pf(r);function r(t,a){var i,o;rf(this,r),(i=n.call(this)).nsps={},i.subs=[],t&&"object"===typeof t&&(a=t,t=void 0),(a=a||{}).path=a.path||"/socket.io",i.opts=a,Ff(sf(i),a),i.reconnection(!1!==a.reconnection),i.reconnectionAttempts(a.reconnectionAttempts||1/0),i.reconnectionDelay(a.reconnectionDelay||1e3),i.reconnectionDelayMax(a.reconnectionDelayMax||5e3),i.randomizationFactor(null!==(o=a.randomizationFactor)&&void 0!==o?o:.5),i.backoff=new Op({min:i.reconnectionDelay(),max:i.reconnectionDelayMax(),jitter:i.randomizationFactor()}),i.timeout(null==a.timeout?2e4:a.timeout),i._readyState="closed",i.uri=t;var s=a.parser||e;return i.encoder=new s.Encoder,i.decoder=new s.Decoder,i._autoConnect=!1!==a.autoConnect,i._autoConnect&&i.open(),i}return of(r,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new fp(this.uri,this.opts);var n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;var a=Ep(n,"open",(function(){r.onopen(),e&&e()})),i=Ep(n,"error",(function(n){r.cleanup(),r._readyState="closed",t.emitReserved("error",n),e?e(n):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){var o=this._timeout;0===o&&a();var s=this.setTimeoutFn((function(){a(),n.close(),n.emit("error",new Error("timeout"))}),o);this.opts.autoUnref&&s.unref(),this.subs.push((function(){clearTimeout(s)}))}return this.subs.push(a),this.subs.push(i),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(Ep(e,"ping",this.onping.bind(this)),Ep(e,"data",this.ondata.bind(this)),Ep(e,"error",this.onerror.bind(this)),Ep(e,"close",this.onclose.bind(this)),Ep(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){this.decoder.add(e)}},{key:"ondecoded",value:function(e){this.emitReserved("packet",e)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n||(n=new Tp(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var r=n[t];if(this.nsps[r].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var r=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),r}(Lf),Lp={};function Dp(e,t){"object"===typeof e&&(t=e,e=void 0);var n,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=dp(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";var a=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+t,r.href=r.protocol+"://"+a+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),a=r.source,i=r.id,o=r.path,s=Lp[i]&&o in Lp[i].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new Mp(a,t):(Lp[i]||(Lp[i]=new Mp(a,t)),n=Lp[i]),r.query&&!t.query&&(t.query=r.queryKey),n.socket(r.path,t)}Object.assign(Dp,{Manager:Mp,Socket:Tp,io:Dp,connect:Dp});var Ap,Ip,Np,Fp,Bp,Vp,zp=function(e){var t=e.serverName,n=e.serverImage;return(0,ac.jsxs)("div",{className:"server-banner-container",children:[(0,ac.jsx)(Gl,{position:"absolute",objectFit:"cover",image:n}),(0,ac.jsx)("div",{className:"server-title-overlay",children:(0,ac.jsx)("h2",{children:t})})]})},Up=function(e){var n=e.action,r=e.className,a=e.width,i=void 0===a?50:a,o=e.height,s=void 0===o?50:o,c=e.borderRadius,u=void 0===c?"15px":c,l=e.justifyContent,d=void 0===l?"center":l,f=e.invert,p=void 0!==f&&f,h=e.pointerOptions,v=void 0===h?null:h,m=e.children,g=e.active,y=void 0!==g&&g,w=e.opacity,x=void 0===w?1:w,S=Gs(),_=b(Xs),k=b(ec),C=b(Js),P=function(e,t){t&&t.stopPropagation(),y||S.start({backgroundColor:e})};return t.useEffect((function(){S.start({backgroundColor:y&&1===x?k:"rgba(255, 255, 255, 0)",opacity:y?x:1})}),[y]),(0,ac.jsx)($s.div,{onClick:n,className:r,style:{borderRadius:u,width:i,height:s,flexShrink:0,cursor:y?"default":"pointer",display:"flex",justifyContent:d,alignItems:"center",padding:10,pointerEvents:v},animate:S,onMouseEnter:function(e){P(p?C:_,e)},onMouseLeave:function(e){P("rgba(255, 255, 255, 0)",e)},onMouseDown:function(e){P(k,e)},onMouseUp:function(e){P(p?C:_,e)},transition:{duration:.1},children:m})},Hp=function(e){var t=e.action;return(0,ac.jsx)(Up,{width:30,height:30,action:t,children:(0,ac.jsx)("svg",{width:"37",height:"37",viewBox:"0 0 37 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M20.5625 2.59375C20.5625 1.97215 20.3156 1.37601 19.876 0.936468C19.4365 0.49693 18.8404 0.25 18.2188 0.25C17.5971 0.25 17.001 0.49693 16.5615 0.936468C16.1219 1.37601 15.875 1.97215 15.875 2.59375V15.875H2.59375C1.97215 15.875 1.37601 16.1219 0.936468 16.5615C0.49693 17.001 0.25 17.5971 0.25 18.2188C0.25 18.8404 0.49693 19.4365 0.936468 19.876C1.37601 20.3156 1.97215 20.5625 2.59375 20.5625H15.875V33.8438C15.875 34.4654 16.1219 35.0615 16.5615 35.501C17.001 35.9406 17.5971 36.1875 18.2188 36.1875C18.8404 36.1875 19.4365 35.9406 19.876 35.501C20.3156 35.0615 20.5625 34.4654 20.5625 33.8438V20.5625H33.8438C34.4654 20.5625 35.0615 20.3156 35.501 19.876C35.9406 19.4365 36.1875 18.8404 36.1875 18.2188C36.1875 17.5971 35.9406 17.001 35.501 16.5615C35.0615 16.1219 34.4654 15.875 33.8438 15.875H20.5625V2.59375Z",fill:"black",fillOpacity:"0.5"})})})},Wp=function(e){var t=e.action,n=b(kh);return(0,ac.jsxs)("div",{className:"channel-title-container",children:[(0,ac.jsx)("h3",{children:"CHANNELS"}),null!==n&&void 0!==n&&n.user_can_create_channel?(0,ac.jsx)(Hp,{action:t}):null]})},qp=function(e){var t=e.action;return(0,ac.jsx)(Up,{width:25,height:25,invert:!0,action:t,children:(0,ac.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M29.6875 40.625C29.6875 41.8682 29.1936 43.0605 28.3146 43.9396C27.4355 44.8186 26.2432 45.3125 25 45.3125C23.7568 45.3125 22.5645 44.8186 21.6854 43.9396C20.8064 43.0605 20.3125 41.8682 20.3125 40.625C20.3125 39.3818 20.8064 38.1895 21.6854 37.3104C22.5645 36.4314 23.7568 35.9375 25 35.9375C26.2432 35.9375 27.4355 36.4314 28.3146 37.3104C29.1936 38.1895 29.6875 39.3818 29.6875 40.625ZM29.6875 25C29.6875 26.2432 29.1936 27.4355 28.3146 28.3146C27.4355 29.1936 26.2432 29.6875 25 29.6875C23.7568 29.6875 22.5645 29.1936 21.6854 28.3146C20.8064 27.4355 20.3125 26.2432 20.3125 25C20.3125 23.7568 20.8064 22.5645 21.6854 21.6854C22.5645 20.8064 23.7568 20.3125 25 20.3125C26.2432 20.3125 27.4355 20.8064 28.3146 21.6854C29.1936 22.5645 29.6875 23.7568 29.6875 25ZM29.6875 9.375C29.6875 10.6182 29.1936 11.8105 28.3146 12.6896C27.4355 13.5686 26.2432 14.0625 25 14.0625C23.7568 14.0625 22.5645 13.5686 21.6854 12.6896C20.8064 11.8105 20.3125 10.6182 20.3125 9.375C20.3125 8.1318 20.8064 6.93951 21.6854 6.06044C22.5645 5.18136 23.7568 4.6875 25 4.6875C26.2432 4.6875 27.4355 5.18136 28.3146 6.06044C29.1936 6.93951 29.6875 8.1318 29.6875 9.375Z",fill:"black",fillOpacity:"0.5"})})})},Zp=function(){return(0,ac.jsx)("div",{children:(0,ac.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsxs)("g",{clipPath:"url(#clip0_553_2)",children:[(0,ac.jsx)("path",{d:"M13 8.00001C13 8.56401 12.906 9.10701 12.734 9.61301L11.92 8.79901C11.9733 8.53602 12.0001 8.26835 12 8.00001V7.00001C12 6.8674 12.0527 6.74023 12.1464 6.64646C12.2402 6.55269 12.3674 6.50001 12.5 6.50001C12.6326 6.50001 12.7598 6.55269 12.8536 6.64646C12.9473 6.74023 13 6.8674 13 7.00001V8.00001ZM8 12C8.818 12 9.578 11.755 10.212 11.333L10.93 12.052C10.2162 12.5697 9.37751 12.8882 8.5 12.975V15H11.5C11.6326 15 11.7598 15.0527 11.8536 15.1465C11.9473 15.2402 12 15.3674 12 15.5C12 15.6326 11.9473 15.7598 11.8536 15.8536C11.7598 15.9473 11.6326 16 11.5 16H4.5C4.36739 16 4.24021 15.9473 4.14645 15.8536C4.05268 15.7598 4 15.6326 4 15.5C4 15.3674 4.05268 15.2402 4.14645 15.1465C4.24021 15.0527 4.36739 15 4.5 15H7.5V12.975C6.26668 12.8511 5.12338 12.2734 4.29188 11.3542C3.46038 10.4349 2.99998 9.23954 3 8.00001V7.00001C3 6.8674 3.05268 6.74023 3.14645 6.64646C3.24021 6.55269 3.36739 6.50001 3.5 6.50001C3.63261 6.50001 3.75979 6.55269 3.85355 6.64646C3.94732 6.74023 4 6.8674 4 7.00001V8.00001C4 9.06088 4.42143 10.0783 5.17157 10.8284C5.92172 11.5786 6.93913 12 8 12ZM11 3.00001V7.87901L10 6.87901V3.00001C10.0023 2.47827 9.80064 1.97628 9.43803 1.60115C9.07541 1.22601 8.58056 1.00742 8.05904 0.992028C7.53752 0.976632 7.03063 1.16564 6.64652 1.51873C6.2624 1.87183 6.03147 2.36104 6.003 2.88201L5.158 2.03701C5.38694 1.36425 5.8472 0.794569 6.45683 0.429379C7.06647 0.0641881 7.78592 -0.0728099 8.4871 0.0427739C9.18829 0.158358 9.8257 0.519022 10.2859 1.06056C10.746 1.6021 10.9991 2.28937 11 3.00001V3.00001Z",fill:"black"}),(0,ac.jsx)("path",{d:"M9.486 10.607L8.738 9.859C8.43462 9.97944 8.10637 10.0238 7.7819 9.98821C7.45743 9.95261 7.1466 9.83814 6.87655 9.65479C6.6065 9.47143 6.38543 9.22477 6.23264 8.93632C6.07984 8.64787 5.99997 8.32641 6 8V7.122L5 6.122V8C4.99984 8.52531 5.13763 9.04146 5.39957 9.49681C5.66152 9.95216 6.03844 10.3307 6.49263 10.5947C6.94682 10.8586 7.46236 10.9987 7.98767 11.0009C8.51298 11.003 9.02965 10.8672 9.486 10.607V10.607ZM1.646 1.354L13.646 13.354L14.354 12.646L2.354 0.645996L1.646 1.354V1.354Z",fill:"black"})]}),(0,ac.jsx)("defs",{children:(0,ac.jsx)("clipPath",{id:"clip0_553_2",children:(0,ac.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]})})},$p=function(){return(0,ac.jsx)("div",{children:(0,ac.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 5C0 4.46957 0.210714 3.96086 0.585786 3.58579C0.960859 3.21071 1.46957 3 2 3H9.5C9.98509 2.99994 10.4537 3.17619 10.8185 3.49593C11.1833 3.81566 11.4195 4.25709 11.483 4.738L14.593 3.356C14.7452 3.28817 14.912 3.25946 15.0781 3.27249C15.2443 3.28551 15.4045 3.33985 15.5443 3.43056C15.6841 3.52128 15.7991 3.6455 15.8786 3.79192C15.9582 3.93835 15.9999 4.10235 16 4.269V11.731C15.9999 11.8975 15.9581 12.0614 15.8786 12.2077C15.7991 12.354 15.6843 12.4781 15.5446 12.5688C15.4049 12.6595 15.2448 12.7139 15.0788 12.727C14.9128 12.7401 14.7462 12.7116 14.594 12.644L11.483 11.262C11.4195 11.7429 11.1833 12.1843 10.8185 12.5041C10.4537 12.8238 9.98509 13.0001 9.5 13H2C1.46957 13 0.960859 12.7893 0.585786 12.4142C0.210714 12.0391 0 11.5304 0 11V5ZM11.5 10.175L15 11.731V4.269L11.5 5.825V10.175ZM2 4C1.73478 4 1.48043 4.10536 1.29289 4.29289C1.10536 4.48043 1 4.73478 1 5V11C1 11.2652 1.10536 11.5196 1.29289 11.7071C1.48043 11.8946 1.73478 12 2 12H9.5C9.76522 12 10.0196 11.8946 10.2071 11.7071C10.3946 11.5196 10.5 11.2652 10.5 11V5C10.5 4.73478 10.3946 4.48043 10.2071 4.29289C10.0196 4.10536 9.76522 4 9.5 4H2Z",fill:"black"})})})},Kp=function(){return(0,ac.jsx)("div",{children:(0,ac.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M1.25 12.25H7.5V14.5H5V15.5H11V14.5H8.5V12.25H14.75C14.9488 12.2498 15.1395 12.1707 15.2801 12.0301C15.4207 11.8895 15.4998 11.6988 15.5 11.5V2.25C15.4998 2.05116 15.4207 1.86053 15.2801 1.71993C15.1395 1.57932 14.9488 1.50023 14.75 1.5H1.25C1.05116 1.50023 0.860528 1.57932 0.719926 1.71993C0.579324 1.86053 0.500232 2.05116 0.5 2.25V11.5C0.500232 11.6988 0.579324 11.8895 0.719926 12.0301C0.860528 12.1707 1.05116 12.2498 1.25 12.25V12.25ZM1.5 2.5H14.5V11.25H1.5V2.5Z",fill:"black"})})})},Gp=function(){return(0,ac.jsx)("div",{children:(0,ac.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M1.60447 2.8489L4.08447 5.33334H1.7778C1.54206 5.33334 1.31596 5.42699 1.14927 5.59369C0.982567 5.76039 0.888916 5.98648 0.888916 6.22223V9.77778C0.888916 10.0135 0.982567 10.2396 1.14927 10.4063C1.31596 10.573 1.54206 10.6667 1.7778 10.6667H4.06225L7.35558 13.9867C7.44204 14.0667 7.54353 14.1287 7.65416 14.1691C7.76479 14.2096 7.88236 14.2276 8.00003 14.2222C8.11589 14.2222 8.23063 14.1996 8.33781 14.1556C8.50083 14.0886 8.64027 13.9747 8.7384 13.8283C8.83653 13.6819 8.88892 13.5096 8.88892 13.3333V10.12L11.5067 12.7378C11.3956 12.8045 11.2889 12.8667 11.1734 12.9245C11.0679 12.9775 10.9878 13.0703 10.9507 13.1824C10.9136 13.2945 10.9225 13.4167 10.9756 13.5222C11.0286 13.6277 11.1214 13.7078 11.2335 13.7449C11.3456 13.782 11.4679 13.7731 11.5734 13.72C11.7731 13.6192 11.9675 13.5079 12.1556 13.3867L13.1689 14.4L13.7778 13.7778L2.22225 2.22223L1.60447 2.8489ZM8.00003 13.3333L4.56447 9.88001C4.47642 9.80649 4.36335 9.76986 4.24892 9.77778H1.7778V6.22223H4.28447C4.34327 6.22198 4.40144 6.21007 4.45561 6.18719C4.50978 6.1643 4.55887 6.13089 4.60003 6.0889L4.71558 5.97334L8.00003 9.2489V13.3333Z",fill:"black"}),(0,ac.jsx)("path",{d:"M11.0623 2.97335C11.8369 3.33516 12.517 3.87197 13.0487 4.54146C13.5805 5.21094 13.9495 5.9948 14.1266 6.83123C14.3037 7.66766 14.2841 8.5338 14.0693 9.36136C13.8546 10.1889 13.4505 10.9553 12.889 11.6L13.5201 12.2311C14.183 11.4856 14.6626 10.5956 14.9209 9.63198C15.1792 8.66837 15.209 7.65778 15.0078 6.68064C14.8067 5.70351 14.3803 4.78682 13.7624 4.00355C13.1446 3.22028 12.3524 2.59206 11.449 2.16891C11.3962 2.14158 11.3385 2.1251 11.2793 2.12045C11.2201 2.11579 11.1605 2.12306 11.1042 2.14182C11.0478 2.16057 10.9958 2.19044 10.9511 2.22966C10.9065 2.26887 10.8702 2.31663 10.8443 2.37012C10.8185 2.4236 10.8036 2.48173 10.8006 2.54106C10.7976 2.60039 10.8065 2.65972 10.8269 2.71554C10.8472 2.77137 10.8785 2.82255 10.9189 2.86607C10.9594 2.90959 11.0081 2.94456 11.0623 2.96891V2.97335Z",fill:"black"}),(0,ac.jsx)("path",{d:"M10.0843 5.60889C10.5026 5.85297 10.8501 6.20186 11.0925 6.62116C11.3349 7.04046 11.4638 7.51569 11.4666 8C11.4666 8.59486 11.2731 9.17358 10.9154 9.64889L11.5554 10.28C12.0752 9.63397 12.3576 8.82916 12.3554 8C12.3525 7.36034 12.183 6.73247 11.8634 6.17833C11.5439 5.6242 11.0854 5.16292 10.5332 4.84C10.4826 4.80784 10.4261 4.78625 10.3669 4.77652C10.3078 4.76679 10.2473 4.76913 10.189 4.78339C10.1308 4.79765 10.0761 4.82354 10.0281 4.8595C9.98018 4.89547 9.94 4.94076 9.91 4.99265C9.88 5.04455 9.86081 5.10198 9.85358 5.16148C9.84636 5.22099 9.85124 5.28134 9.86794 5.33891C9.88464 5.39647 9.91282 5.45007 9.95077 5.49647C9.98872 5.54286 10.0357 5.58111 10.0888 5.60889H10.0843Z",fill:"black"}),(0,ac.jsx)("path",{d:"M7.99992 2.66664V6.7333L8.88881 7.62219V2.66664C8.88895 2.49046 8.83673 2.31822 8.73879 2.17177C8.64085 2.02533 8.5016 1.91129 8.33873 1.84414C8.17585 1.77699 7.99669 1.75975 7.824 1.79462C7.65131 1.82949 7.49287 1.91489 7.36881 2.03997L5.33325 4.07553L5.95992 4.70219L7.99992 2.66664Z",fill:"black"})]})})},Qp=function(e){var t=e.user,n=b(Js),r=b(nc);return(0,ac.jsxs)("div",{style:{zIndex:1},className:"channel-user-placeholder",children:[(0,ac.jsx)("div",{style:{border:"solid 4px ".concat(t.active?r:n)},className:"channel-user-placeholder-user-image",children:(0,ac.jsx)(Gl,{objectFit:"cover",image:t.user_image})}),(0,ac.jsx)("h3",{children:t.display_name}),(0,ac.jsxs)("div",{className:"user-status-wrapper",children:[t.microphone||void 0===t.microphone?null:(0,ac.jsx)(Zp,{}),t.muted?(0,ac.jsx)(Gp,{}):null,t.webcam?(0,ac.jsx)($p,{}):null,t.screenshare?(0,ac.jsx)(Kp,{}):null]})]},t.username)},Yp=function(e){var n=e.channel,r=e.action,a=void 0===r?function(){}:r,i=e.users,o=L(t.useState([]),2),s=o[0],c=o[1],u=Gs(),l=b(Xs),d=b(ec),f=b(tc),p=function(e){n.active||u.start({border:"solid 4px ".concat(e)})};return t.useEffect((function(){u.start({border:"solid 4px ".concat(n.active?d:l)}),c(i)}),[n,i]),(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsxs)($s.div,{animate:u,onMouseEnter:function(){p(d)},onMouseLeave:function(){p(l)},onMouseDown:function(){p(f)},onMouseUp:function(){p(d)},onClick:function(){a(n)},style:{border:"solid 4px ".concat(n.active?d:l),backgroundColor:n.active?d:l,cursor:n.active?"default":"pointer"},className:"channel-button-container",children:[(0,ac.jsx)("h3",{children:n.channel_name}),(0,ac.jsx)(qp,{})]}),s.map((function(e){return(0,ac.jsx)(Qp,{user:e},e.username)}))]})},Xp=function(){var e=ue(),n=T(),r=L(t.useState([]),2),a=r[0],i=r[1],o=b(gh),s=b(bu),c=b(xu),u=b(wu),l=b(yu),d=function(e){window.location.hash.includes("/channel")&&(window.location.hash=window.location.hash.split("/channel")[0],n(Fh({username:s}))),setTimeout((function(){n(Nh({username:s,display_name:l,user_image:c,user_banner:u,channel:e}))}),200)};return t.useEffect((function(){i(o)}),[o]),(0,ac.jsxs)("div",{className:"channel-list-outer-container",children:[(0,ac.jsx)(Wp,{action:function(){var t=window.location.hash.split("#")[1];-1===t.search("/create-channel-menu")?e(t+"/create-channel-menu"):e(t.split("/create-channel-menu")[0])}}),a.map((function(e,t){return(0,ac.jsx)(Yp,{action:d,channel:e,users:e.users},t)}))]})},Jp=(0,bc.createSlice)({name:"soundEffectsSlice",initialState:{soundEffect:""},reducers:{playSoundEffect:function(e,t){e.soundEffect=t.payload}}}),eh=function(e){return e.soundEffectsSlice.soundEffect},th=Jp.actions.playSoundEffect,nh=Jp.reducer,rh=function(e){var t=e.action,n=b(Js);return(0,ac.jsx)("div",{onClick:t,className:"server-settings-button",style:{backgroundColor:n},children:(0,ac.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M33.7501 20.95V19.0375L36.1501 16.9375C36.5925 16.5476 36.8828 16.0138 36.9697 15.4305C37.0566 14.8472 36.9346 14.252 36.6251 13.75L33.6751 8.75C33.4559 8.37033 33.1407 8.05498 32.7611 7.83558C32.3816 7.61618 31.951 7.50045 31.5126 7.5C31.2409 7.49792 30.9707 7.54014 30.7126 7.625L27.6751 8.65C27.1506 8.30151 26.6036 7.98832 26.0376 7.7125L25.4001 4.5625C25.2858 3.98701 24.9727 3.47006 24.5156 3.10213C24.0586 2.73421 23.4867 2.53876 22.9001 2.55H17.0501C16.4634 2.53876 15.8916 2.73421 15.4345 3.10213C14.9775 3.47006 14.6644 3.98701 14.5501 4.5625L13.9126 7.7125C13.3425 7.98826 12.7913 8.30144 12.2626 8.65L9.28757 7.575C9.02669 7.50703 8.75654 7.48171 8.48757 7.5C8.04917 7.50045 7.61858 7.61618 7.23903 7.83558C6.85947 8.05498 6.54428 8.37033 6.32507 8.75L3.37507 13.75C3.08331 14.2512 2.97489 14.8383 3.06838 15.4107C3.16188 15.9831 3.45148 16.5052 3.88757 16.8875L6.25007 19.05V20.9625L3.88757 23.0625C3.43916 23.4475 3.14164 23.9789 3.04782 24.5624C2.954 25.146 3.06994 25.7438 3.37507 26.25L6.32507 31.25C6.54428 31.6297 6.85947 31.945 7.23903 32.1644C7.61858 32.3838 8.04917 32.4996 8.48757 32.5C8.75926 32.5021 9.02947 32.4599 9.28757 32.375L12.3251 31.35C12.8495 31.6985 13.3965 32.0117 13.9626 32.2875L14.6001 35.4375C14.7144 36.013 15.0275 36.53 15.4845 36.8979C15.9416 37.2658 16.5134 37.4612 17.1001 37.45H23.0001C23.5867 37.4612 24.1586 37.2658 24.6156 36.8979C25.0727 36.53 25.3858 36.013 25.5001 35.4375L26.1376 32.2875C26.7077 32.0118 27.2589 31.6986 27.7876 31.35L30.8126 32.375C31.0707 32.4599 31.3409 32.5021 31.6126 32.5C32.051 32.4996 32.4816 32.3838 32.8611 32.1644C33.2407 31.945 33.5559 31.6297 33.7751 31.25L36.6251 26.25C36.9168 25.7488 37.0253 25.1617 36.9318 24.5893C36.8383 24.0169 36.5487 23.4948 36.1126 23.1125L33.7501 20.95ZM31.5126 30L27.2251 28.55C26.2214 29.4001 25.0743 30.0647 23.8376 30.5125L22.9501 35H17.0501L16.1626 30.5625C14.9356 30.102 13.7947 29.4386 12.7876 28.6L8.48757 30L5.53757 25L8.93757 22C8.70644 20.7061 8.70644 19.3814 8.93757 18.0875L5.53757 15L8.48757 10L12.7751 11.45C13.7787 10.5999 14.9258 9.93532 16.1626 9.4875L17.0501 5H22.9501L23.8376 9.43751C25.0645 9.89803 26.2054 10.5614 27.2126 11.4L31.5126 10L34.4626 15L31.0626 18C31.2937 19.2939 31.2937 20.6186 31.0626 21.9125L34.4626 25L31.5126 30Z",fill:"black",fillOpacity:"0.5"}),(0,ac.jsx)("path",{d:"M20 27.5C18.5166 27.5 17.0666 27.0601 15.8332 26.236C14.5999 25.4119 13.6386 24.2406 13.0709 22.8701C12.5032 21.4997 12.3547 19.9917 12.6441 18.5368C12.9335 17.082 13.6478 15.7456 14.6967 14.6967C15.7456 13.6478 17.082 12.9335 18.5368 12.6441C19.9917 12.3547 21.4997 12.5032 22.8701 13.0709C24.2406 13.6386 25.4119 14.5999 26.236 15.8332C27.0601 17.0666 27.5 18.5166 27.5 20C27.51 20.9877 27.3229 21.9675 26.9495 22.882C26.5762 23.7964 26.0241 24.6272 25.3257 25.3257C24.6272 26.0241 23.7964 26.5762 22.882 26.9495C21.9675 27.3229 20.9877 27.51 20 27.5ZM20 15C19.3392 14.9846 18.6821 15.1034 18.0685 15.3492C17.4549 15.5951 16.8976 15.9628 16.4302 16.4302C15.9628 16.8976 15.5951 17.4549 15.3492 18.0685C15.1034 18.6821 14.9846 19.3392 15 20C14.9846 20.6608 15.1034 21.3179 15.3492 21.9315C15.5951 22.5451 15.9628 23.1024 16.4302 23.5698C16.8976 24.0372 17.4549 24.4049 18.0685 24.6508C18.6821 24.8966 19.3392 25.0154 20 25C20.6608 25.0154 21.3179 24.8966 21.9315 24.6508C22.5451 24.4049 23.1024 24.0372 23.5698 23.5698C24.0372 23.1024 24.4049 22.5451 24.6508 21.9315C24.8966 21.3179 25.0154 20.6608 25 20C25.0154 19.3392 24.8966 18.6821 24.6508 18.0685C24.4049 17.4549 24.0372 16.8976 23.5698 16.4302C23.1024 15.9628 22.5451 15.5951 21.9315 15.3492C21.3179 15.1034 20.6608 14.9846 20 15Z",fill:"black",fillOpacity:"0.5"})]})})},ah=function(e){var t=e.action;return(0,ac.jsx)("div",{style:{position:"absolute",bottom:25,right:25},children:(0,ac.jsx)(Up,{action:t,children:(0,ac.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M44.6351 5.36504C44.7515 5.48115 44.8439 5.61909 44.9069 5.77095C44.9699 5.92282 45.0023 6.08562 45.0023 6.25004C45.0023 6.41446 44.9699 6.57726 44.9069 6.72912C44.8439 6.88098 44.7515 7.01892 44.6351 7.13504L40.4651 11.305C41.9729 13.2468 42.7205 15.6719 42.5677 18.1256C42.4149 20.5792 41.3722 22.8929 39.6351 24.6325L38.8851 25.3825L38.8776 25.39L38.1051 26.1625C37.6129 26.6541 36.9457 26.9302 36.2501 26.9302C35.5545 26.9302 34.8873 26.6541 34.3951 26.1625L23.8376 15.605C23.5938 15.3613 23.4004 15.0719 23.2685 14.7534C23.1366 14.4349 23.0687 14.0935 23.0687 13.7488C23.0687 13.404 23.1366 13.0627 23.2685 12.7442C23.4004 12.4257 23.5938 12.1363 23.8376 11.8925L25.3651 10.3675C27.1041 8.62837 29.4184 7.58423 31.8731 7.43139C34.3278 7.27855 36.7538 8.02752 38.6951 9.53754L42.8651 5.36504C42.9812 5.24863 43.1192 5.15627 43.271 5.09326C43.4229 5.03024 43.5857 4.9978 43.7501 4.9978C43.9145 4.9978 44.0773 5.03024 44.2292 5.09326C44.3811 5.15627 44.519 5.24863 44.6351 5.36504ZM37.8501 12.1175C36.4252 10.7025 34.4977 9.90962 32.4895 9.91243C30.4813 9.91524 28.5561 10.7135 27.1351 12.1325L26.3851 12.8825C26.2713 12.9963 26.1811 13.1313 26.1195 13.28C26.058 13.4286 26.0263 13.5879 26.0263 13.7488C26.0263 13.9097 26.058 14.069 26.1195 14.2176C26.1811 14.3662 26.2713 14.5013 26.3851 14.615L35.3851 23.615C35.8601 24.0925 36.6351 24.095 37.1126 23.62L37.1176 23.615L37.8676 22.865C39.2872 21.4444 40.0859 19.519 40.0888 17.5106C40.0916 15.5023 39.2983 13.5746 37.8826 12.15L37.8651 12.135L37.8501 12.1175ZM23.3851 21.6175C23.6195 21.8519 23.7511 22.1698 23.7511 22.5013C23.7511 22.8327 23.6195 23.1506 23.3851 23.385L19.2676 27.5L22.5001 30.7325L26.6151 26.615C26.7313 26.4988 26.8693 26.4066 27.0212 26.3437C27.173 26.2808 27.3358 26.2485 27.5001 26.2485C27.6645 26.2485 27.8272 26.2808 27.9791 26.3437C28.1309 26.4066 28.2689 26.4988 28.3851 26.615C28.5013 26.7313 28.5935 26.8692 28.6564 27.0211C28.7193 27.1729 28.7517 27.3357 28.7517 27.5C28.7517 27.6644 28.7193 27.8271 28.6564 27.979C28.5935 28.1308 28.5013 28.2688 28.3851 28.385L24.2676 32.5L25.3851 33.6175C26.0836 34.3161 26.4759 35.2635 26.4759 36.2513C26.4759 37.2391 26.0836 38.1865 25.3851 38.885L24.6351 39.635C22.8961 41.3742 20.5818 42.4183 18.1271 42.5712C15.6724 42.724 13.2464 41.9751 11.3051 40.465L7.13511 44.635C6.9004 44.8698 6.58205 45.0016 6.25011 45.0016C5.91817 45.0016 5.59983 44.8698 5.36511 44.635C5.1304 44.4003 4.99854 44.082 4.99854 43.75C4.99854 43.4181 5.1304 43.0998 5.36511 42.865L9.53761 38.695C8.02797 36.7542 7.27898 34.3289 7.43136 31.8748C7.58373 29.4207 8.62698 27.1067 10.3651 25.3675L11.1151 24.6175C11.4611 24.2713 11.8718 23.9967 12.3239 23.8093C12.7761 23.6219 13.2607 23.5255 13.7501 23.5255C14.2395 23.5255 14.7242 23.6219 15.1763 23.8093C15.6284 23.9967 16.0392 24.2713 16.3851 24.6175L17.5001 25.7325L21.6151 21.615C21.7312 21.4986 21.8692 21.4063 22.021 21.3433C22.1729 21.2802 22.3357 21.2478 22.5001 21.2478C22.6645 21.2478 22.8273 21.2802 22.9792 21.3433C23.1311 21.4063 23.269 21.4986 23.3851 21.615V21.6175ZM12.1476 37.88C13.572 39.2968 15.5 40.091 17.5089 40.0887C19.5179 40.0863 21.444 39.2876 22.8651 37.8675L23.6151 37.1175C23.7289 37.0038 23.8191 36.8687 23.8807 36.7201C23.9423 36.5715 23.974 36.4122 23.974 36.2513C23.974 36.0904 23.9423 35.9311 23.8807 35.7825C23.8191 35.6338 23.7289 35.4988 23.6151 35.385L14.6151 26.385C14.3855 26.156 14.0744 26.0274 13.7501 26.0274C13.4258 26.0274 13.1147 26.156 12.8851 26.385L12.1351 27.135C10.7129 28.5583 9.91399 30.488 9.91399 32.5C9.91399 34.5121 10.7129 36.4418 12.1351 37.865L12.1476 37.88Z",fill:"black"})})})})},ih=function(e){var n=e.name,r=e.link,a=e.action,i=e.active,o=Gs(),s=b(Xs),c=b(ec),u=b(tc),l=function(e){o.start({border:"solid 4px ".concat(e)})};return t.useEffect((function(){!1===i&&o.start({border:"solid 4px ".concat(s)})}),[i]),(0,ac.jsx)($s.div,{animate:o,onMouseEnter:function(){l(c)},onMouseLeave:function(){l(i?c:s)},onMouseDown:function(){l(u)},onMouseUp:function(){l(c)},onClick:function(){a(r)},className:"settings-category-button",style:{backgroundColor:i?c:s,cursor:i?"default":"pointer",border:"solid 4px ".concat(i?c:s)},children:(0,ac.jsx)("h3",{children:n})})},oh=function(){var e=T(),n=ue(),r=L(t.useState([{name:"Overview",link:"overview"},{name:"Members",link:"members"},{name:"Permission Groups",link:"permission-groups"},{name:"Ban List",link:"ban-list"}]),1)[0],a=b(Js);t.useEffect((function(){return e(Jd("Server Settings")),e(Mh(!0)),function(){e(Mh(!1)),e(Jd(""))}}),[]);var i=function(e){var t=window.location.hash.split("#")[1].split("/server-settings")[0];n(t+"/server-settings/".concat(e))};return(0,ac.jsx)($s.div,{initial:{left:"-100%"},animate:{left:"0%"},style:{backgroundColor:a},className:"server-settings-menu",children:(0,ac.jsxs)("div",{className:"inner-server-settings-container",children:[(0,ac.jsx)("div",{className:"server-settings-buttons-wrapper",children:r.map((function(e){return(0,ac.jsx)(ih,{action:i,name:e.name,link:e.link,active:-1!==window.location.hash.search(e.link)},e.name)}))}),(0,ac.jsx)(ih,{name:"Delete Server"})]})})},sh=function(){return le([{path:"/server-settings/*",element:(0,ac.jsx)(oh,{})},{path:"/channel/:id/server-settings/*",element:(0,ac.jsx)(oh,{})}])},ch=null,uh=function(){var e=ue(),n=T(),r=Gs(),a=b(bh),o=b(vh),c=b(mh),u=b(yh),l=b(bu),d=b(hh),f=b(wh),p=(b(kh),b(xh)),h=function(){window.location.hash.includes("disconnected")||(window.location.hash=window.location.hash.split("/channel")[0]+"/disonnected",n(Fh({username:l})),n(th("disconnected")))},v=function(){var t=s(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_c();case 2:r=t.sent,(ch=Dp("".concat(Sc),{query:{TOKEN:r}})).request=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){ch.emit(e,t,(function(e){e.error?r(e.errorMessage):n(e)}))}))},n(dh()),ch.on("new channel",(function(e){n(Ih(e))})),ch.on("error",(function(e){console.log(e)})),ch.on("user joins server",(function(e){console.log(e),n(Bh(e))})),ch.on("connect_failed",(function(e){h()})),ch.on("connect_error",(function(){h()})),ch.on("connect",(function(){window.location.hash.split("#")[1].includes("disconnected")&&e(window.location.hash.split("#")[1].split("/disconnected")[0])})),ch.on("user joins channel",(function(e){n(zh(e)),window.location.hash.includes(e.channel._id)&&n(th("userJoined"))})),ch.on("user leaves channel",(function(e){n(Vh(e)),window.location.hash.includes(e.id)&&n(th("userDisconnected"))})),ch.on("user status",(function(e){console.log(e),n(Oh(e))})),ch.on("new message",(function(e){n(Th(e)),n(th(""))}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t.useEffect((function(){var e;document.addEventListener("keydown",(function(e){console.log(e,"server key event")})),null!==ch&&(ch=null),r.start({left:"0%",opacity:1}),n(Tu("Select Channel")),n(Jd("")),null===ch&&v();try{(e=window.require("electron").ipcRenderer).on("push to talk",(function(e,t){n(Eh(t.active))}))}catch(t){console.log(t)}return function(){var r;n(Fh({username:l})),n(th("disconnected")),null===(r=e)||void 0===r||r.removeAllListeners();try{ch.off(),ch.emit("left server",{server_id:a}),ch=null}catch(t){return void(ch=null)}}}),[]),t.useEffect((function(){!1===p&&n(Tu(f.channel_name?f.channel_name:"Select Channel"))}),[p]);return(0,ac.jsxs)($s.div,{initial:{left:"100%",opacity:0},animate:r,className:"server-bar-container",children:[(0,ac.jsx)(rh,{action:function(){window.location.hash.includes("server-settings")?window.location.hash=window.location.hash.split("/server-settings")[0]:window.location.hash.includes("appsettings")?window.location.hash=window.location.hash.split("/appsettings")[0]+"/server-settings/overview":window.location.hash=window.location.hash+"/server-settings/overview"}}),u?(0,ac.jsx)(mc,{}):(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsx)(zp,{serverImage:c,serverName:o}),(0,ac.jsx)(Xp,{}),(0,ac.jsx)(sh,{})]}),d?(0,ac.jsx)(ah,{action:function(){n(Fh({username:l})),n(th("disconnected")),e(window.location.hash.split("#")[1].split("/channel")[0])}}):null,(0,ac.jsx)("div",{style:{width:d?"calc(100% - 135px)":"90%"},className:"leave-server-button",children:(0,ac.jsx)(ic,{action:function(){n(Fh({username:l})),n(th("disconnected")),e("/dashboard")},name:"Leave Server"})})]})},lh=function(){return le([{path:"server/:id/*",element:(0,ac.jsx)(uh,{})}])},dh=(0,bc.createAsyncThunk)("serverSlice/fetchServerDetails",function(){var e=s(i().mark((function e(t,n){var r,a,o,s,c,u,l,d,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rejectWithValue,a=n.getState,null!==ch){e.next=3;break}return e.abrupt("return",r({error:!0,errorMessage:"connection error"}));case 3:return o=a().serverSlice.server_id,s=a().accountSettingsSlice,c=s.username,u=s.user_image,l=s.user_banner,d=s.display_name,e.next=7,ch.request("joined server",{server_id:o}).then((function(e){return e.success?(0,Du.Z)((0,Du.Z)({},e.server),{},{username:c,user_image:u,user_banner:l,display_name:d}):e.error?r({error:!0,errorMessage:e.errorMessage}):r({error:!0,errorMessage:"unexpected error has occurred"})})).catch((function(e){return r({error:!0,errorMessage:"unexpected error has occurred"})}));case 7:return f=e.sent,e.abrupt("return",f);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),fh=(0,bc.createAsyncThunk)("serverSlice/createChannel",function(){var e=s(i().mark((function e(t,n){var r,a,o,s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.channel_name,a=t.persist_data,n.rejectWithValue,o=n.getState,s=o().serverSlice.server_id,c={channel_name:r,persist_data:a,server_id:s},e.next=6,ch.request("create channel",c).then((function(e){return{success:!0,channel:(0,Du.Z)((0,Du.Z)({},e),{},{users:[],active:!1})}}));case 6:return u=e.sent,e.abrupt("return",u);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ph=(0,bc.createSlice)({name:"serverSlice",initialState:{server_id:"",loading:!0,serverName:"",serverBanner:"",channels:[],serverGroups:[],server:{},members:[],channelCreationLoading:!1,channelCreationError:!1,channelCreationErrorMessage:"",newChannel:{},current_channel_id:null,loadingChannel:!1,user:{},error:!1,errorMessage:"",serverSettingsOpen:!1,pushToTalkActive:!1},reducers:{setServerName:function(e,t){e.serverName=t.payload},setServerId:function(e,t){e.server_id=t.payload},addNewChannel:function(e,t){var n=t.payload;n.users=[],n.active=!1,e.channels.push(n)},clearState:function(e,t){e.server_id="",e.loading=!0,e.serverName="",e.serverBanner="",e.channels=[],e.serverGroups=[],e.server={},e.members=[],e.current_channel_id=null},setUserImages:function(e,t){var n=e.members.findIndex((function(e){return e.user_name===t.payload.username}));-1!==n&&console.log(e.members[n])},throwServerError:function(e,t){e.error=!0,e.errorMessage=t.payload.errorMessage},userJoinsChannel:function(e,t){var n=e.members.findIndex((function(e){return e.username===t.payload.username})),r=e.channels.findIndex((function(e){return e._id===t.payload.channel._id}));e.channels[r].users.push(e.members[n])},userLeavesChannel:function(e,t){var n=e.channels.findIndex((function(e){return e._id===t.payload.id}));e.channels[n].users=e.channels[n].users.filter((function(e){return e.username!==t.payload.username}))},joinChannel:function(e,t){if(e.current_channel_id!==t.payload.channel._id){var n=e.members.findIndex((function(e){return e.username===t.payload.username})),r=e.channels.findIndex((function(e){return e._id===t.payload.channel._id}));if(e.current_channel_id){var a=e.channels.findIndex((function(t){return t._id===e.current_channel_id}));e.channels[a].users=e.channels[a].users.filter((function(e){return e.username!==t.payload.username})),e.channels[a].active=!1}e.channels[r].users.push(e.members[n]),e.channels[r].active=!0,e.current_channel_id=t.payload.channel._id;var i=window.location.hash.split("#")[1];window.location.hash.includes("/channel")?window.location.hash=i.split("/channel/")[0]+"/channel/"+t.payload.channel._id:window.location.hash="".concat(i,"/channel/").concat(t.payload.channel._id)}},leaveChannel:function(e,t){if(null!==e.current_channel_id){var n=e.channels.findIndex((function(t){return t._id===e.current_channel_id}));e.channels[n].users=e.channels[n].users.filter((function(e){return e.username!==t.payload.username})),e.channels[n].active=!1,e.current_channel_id=null}},userJoinsServer:function(e,t){var n=e.members.findIndex((function(e){return e.username===t.payload.username}));console.log(t.payload),-1===n?e.members.push(t.payload):e.members=e.members.map((function(e){return e.username===t.payload.username?(0,Du.Z)({},t.payload):e}))},updateMember:function(e,t){var n=e.members.findIndex((function(e){return e.username===t.payload.username}));-1!==n&&(e.members[n].display_name=t.payload.display_name,e.members[n].user_image=t.payload.user_image,e.members[n].user_banner=t.payload.user_banner)},toggleLoadingChannel:function(e,t){e.loadingChannel=t.payload},toggleServerSettingsOpenState:function(e,t){e.serverSettingsOpen=t.payload},updateMemberStatus:function(e,t){if(t.payload.action)for(var n=0;n<e.channels.length;n++){var r=e.channels[n].users.findIndex((function(e){return e.username===t.payload.username}));if(-1!==r){e.channels[n].users[r]=(0,Du.Z)((0,Du.Z)({},e.channels[n].users[r]),t.payload.action);break}}},newMessage:function(e,t){var n=e.channels.findIndex((function(e){return e._id===t.payload.channel_id}));e.members.findIndex((function(e){return e.username===t.payload.username}));e.channels[n].social.unshift(t.payload)},updateMessage:function(e,t){var n=e.channels.findIndex((function(e){return e._id===t.payload.channel_id})),r=e.members.findIndex((function(e){return e.username===t.payload.username})),a=e.channels[n].social.findIndex((function(e){return e.content.local_id===t.payload.content.local_id}));e.channels[n].social[a].content=(0,Du.Z)((0,Du.Z)({},t.payload.content),{display_name:e.members[r].display_name})},toggleServerPushToTalkState:function(e,t){console.log(t.payload),e.pushToTalkActive=t.payload}},extraReducers:(Ap={},(0,Bt.Z)(Ap,dh.pending,(function(e,t){e.loading=!0})),(0,Bt.Z)(Ap,dh.fulfilled,(function(e,t){e.loading=!1,e.serverName=t.payload.server_name,e.serverBanner=t.payload.server_banner,e.members=t.payload.members,e.serverGroups=t.payload.server_groups;var n=e.members.findIndex((function(e){return e.username===t.payload.username}));-1!==n&&(e.members[n].user_image=t.payload.user_image,e.members[n].user_banner=t.payload.user_banner,e.members[n].display_name=t.payload.display_name,e.user=e.members[n]),e.channels=t.payload.channels})),(0,Bt.Z)(Ap,dh.rejected,(function(e,t){e.loading=!1,e.error=t.payload.error,e.errorMessage=t.payload.errorMessage})),(0,Bt.Z)(Ap,fh.pending,(function(e,t){e.channelCreationLoading=!0})),(0,Bt.Z)(Ap,fh.fulfilled,(function(e,t){e.channelCreationLoading=!1,window.location.hash=window.location.hash.split("/create-channel-menu")[0].split("#")[1],e.channels.push(t.payload.channel)})),Ap)}),hh=function(e){return e.serverSlice.current_channel_id},vh=function(e){return e.serverSlice.serverName},mh=function(e){return e.serverSlice.serverBanner},gh=function(e){return e.serverSlice.channels},yh=function(e){return e.serverSlice.loading},bh=function(e){return e.serverSlice.server_id},wh=function(e){var t=e.serverSlice.channels.findIndex((function(t){return t._id===e.serverSlice.current_channel_id}));return-1===t?{error:!0,errorMessage:"channel not found"}:e.serverSlice.channels[t]},xh=function(e){return e.serverSlice.serverSettingsOpen},Sh=function(e){return e.serverSlice.serverGroups},_h=function(e){return e.serverSlice.members},kh=function(e){var t=e.serverSlice.serverGroups.findIndex((function(t){return t._id===e.serverSlice.user.server_group}));if(-1!==t)return e.serverSlice.serverGroups[t]},Ch=function(e){var t=e.serverSlice.channels.findIndex((function(t){return t._id===e.serverSlice.current_channel_id}));return-1===t?[]:e.serverSlice.channels[t].social},Ph=function(e){return e.serverSlice.pushToTalkActive},Rh=ph.actions,Eh=Rh.toggleServerPushToTalkState,jh=Rh.updateMessage,Th=Rh.newMessage,Oh=Rh.updateMemberStatus,Mh=Rh.toggleServerSettingsOpenState,Lh=Rh.toggleLoadingChannel,Dh=Rh.setServerName,Ah=Rh.setServerId,Ih=Rh.addNewChannel,Nh=(Rh.throwServerError,Rh.joinChannel),Fh=Rh.leaveChannel,Bh=Rh.userJoinsServer,Vh=Rh.userLeavesChannel,zh=Rh.userJoinsChannel,Uh=(Rh.updateMember,ph.reducer),Hh=(0,bc.createAsyncThunk)("createServerSlice/createServerFunction",function(){var e=s(i().mark((function e(t,n){var r,a,o,s,c,u,l,d,f,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=n.rejectWithValue,o=n.dispatch,s=r().createServerSlice,c=s.serverName,u=s.serverPassword,l=s.confirmServerPassword,0!==c.length){e.next=4;break}return e.abrupt("return",a({error:!0,errorMessage:"Server name input cannot be empty"}));case 4:if(!(c.length<6)){e.next=6;break}return e.abrupt("return",a({error:!0,errorMessage:"Server Name Cannot Be Less Than 6 Characters Long"}));case 6:if(!(t.size>5e6)){e.next=8;break}return e.abrupt("return",a({error:!0,errorMessage:"server banner file size exceeds the data cap of 5mb"}));case 8:if(0!==u.length){e.next=10;break}return e.abrupt("return",a({error:!0,errorMessage:"server password cannot be empty"}));case 10:if(0!==l.length){e.next=12;break}return e.abrupt("return",a({error:!0,errorMessage:"server password confirmation input cannot be empty"}));case 12:if(!(u.length<6)){e.next=14;break}return e.abrupt("return",a({error:!0,errorMessage:"server password cannot be less than 6 characters long"}));case 14:if(u===l){e.next=16;break}return e.abrupt("return",a({error:!0,errorMessage:"server password and confirm server password do not match"}));case 16:return e.next=18,_c();case 18:return d=e.sent,(f=new FormData).append("server_name",c),f.append("server_password",u),f.append("image",t),e.next=25,xc()({method:"POST",url:"".concat(Sc,"/create-server"),headers:{TOKEN:d},data:f}).then((function(e){return e.data.error?a({error:!0,errorMessage:e.data.errorMessage}):(o(tf(e.data.server)),o(Ah(e.data.server.server_id)),e.data)})).catch((function(e){return a({error:!0,errorMessage:"unexpected server error has occurred"})}));case 25:return p=e.sent,e.abrupt("return",p);case 27:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Wh=(0,bc.createSlice)({name:"createServerSlice",initialState:{serverName:"",serverBanner:{},serverPassword:"",confirmServerPassword:"",error:!1,errorMessage:"",loading:!1},reducers:{closeCreateServerError:function(e,t){e.error=!1,e.errorMessage=""},createServerSetServerBanner:function(e,t){e.serverBanner=t.payload},clearCreateServerState:function(e,t){e.serverName="",e.serverBanner={},e.serverPassword="",e.confirmServerPassword="",e.error=!1,e.errorMessage="",e.loading=!1},setCreateServerState:function(e,t){e[t.payload.state]=t.payload.value}},extraReducers:(Ip={},(0,Bt.Z)(Ip,Hh.pending,(function(e,t){e.loading=!0})),(0,Bt.Z)(Ip,Hh.fulfilled,(function(e,t){t.payload.success&&(e.loading=!1,e.serverName="",e.serverPassword="",e.confirmServerPassword="",window.location.hash="/dashboard/server/".concat(t.payload.server.server_name))})),(0,Bt.Z)(Ip,Hh.rejected,(function(e,t){e.loading=!1,e.error=t.payload.error,e.errorMessage=t.payload.errorMessage})),Ip)}),qh=Wh.actions,Zh=qh.closeCreateServerError,$h=(qh.createServerSetServerBanner,qh.clearCreateServerState),Kh=qh.setCreateServerState,Gh=function(e){return e.createServerSlice.serverName},Qh=function(e){return e.createServerSlice.serverPassword},Yh=function(e){return e.createServerSlice.confirmServerPassword},Xh=function(e){return e.createServerSlice.loading},Jh=function(e){return e.createServerSlice.error},ev=function(e){return e.createServerSlice.errorMessage},tv=Wh.reducer,nv=function(){var e=L(t.useState({}),2),n=e[0],r=e[1],a=ue(),i=T(),o=Gs(),s=b(Js),c=b(Gh),u=b(Qh),l=b(Yh),d=b(Xh),f=b(Jh),p=b(ev),h=function(e,t){i(Kh({value:e,state:t}))};return t.useEffect((function(){return i(Tu("Create Server")),o.start({left:"0%"}),function(){r({}),i($h()),i(Tu("Select Server"))}}),[]),(0,ac.jsxs)($s.div,{style:{backgroundColor:s},initial:{left:"100%"},animate:o,className:"create-server-menu-container",children:[(0,ac.jsxs)("div",{className:"inner-create-server-menu-container",children:[(0,ac.jsx)(Lu,{title:"Server Name"}),(0,ac.jsx)(oc,{inputValue:c,action:h,stateSelector:"serverName",placeholder:"Name"}),(0,ac.jsx)(Lu,{title:"Server Banner"}),(0,ac.jsx)("div",{className:"create-server-banner-container",children:(0,ac.jsx)(Yl,{getFile:function(e){r(e)},center:!0})}),(0,ac.jsx)(Lu,{title:"Enter Server Password"}),(0,ac.jsx)(oc,{inputValue:u,action:h,stateSelector:"serverPassword",marginBottom:"2%",type:"password",placeholder:"Password"}),(0,ac.jsx)(oc,{inputValue:l,action:h,stateSelector:"confirmServerPassword",type:"password",placeholder:"Confirm Password"}),(0,ac.jsx)(Mu,{apply:function(){i(Hh(n))},cancel:function(){o.start({left:"100%"}).then((function(){a("/dashboard")}))},name:"Create"})]}),(0,ac.jsxs)(hc,{children:[f?(0,ac.jsx)(vc,{action:function(){i(Zh())},errorMessage:p,buttonLabel:"Ok"}):null,d?(0,ac.jsx)(mc,{}):null]})]})},rv=function(){return le([{path:"/createserver",element:(0,ac.jsx)(nv,{})}])},av=function(e){var t=e.member,n=b(Xs);return(0,ac.jsxs)("div",{style:{backgroundColor:n,width:"100%",height:65,borderRadius:"15px",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:"2%"},children:[(0,ac.jsx)("h3",{style:{fontWeight:"400",letterSpacing:"4px",margin:"0 0 0 1rem"},children:t.display_name}),(0,ac.jsxs)("p",{style:{fontWeight:"400",letterSpacing:"4px",opacity:.4,margin:"0 0 0 1rem"},children:["id: ",t.username]})]})},iv=function(){var e=T(),n=b(Sh),r=b(_h);return t.useEffect((function(){return e(Tu("Members")),function(){e(Tu(""))}}),[]),(0,ac.jsx)(ac.Fragment,{children:n.map((function(e,t){return(0,ac.jsxs)("div",{children:[(0,ac.jsx)(Lu,{marginBottom:0,title:e.server_group_name},e._id),r.map((function(t){if(t.server_group===e._id)return(0,ac.jsx)(av,{member:t},t.username)}))]},e+t)}))})},ov=function(){return le([{path:"members",element:(0,ac.jsx)(iv,{})}])},sv=function(e){var t=e.value,n=b(Xs),r=b(tc);return(0,ac.jsx)("div",{className:"input-placeholder-container",style:{backgroundColor:n},children:(0,ac.jsx)("h3",{style:{color:r},children:t})})},cv=function(){var e=T(),n=L(t.useState(),2),r=n[0],a=n[1],i=L(t.useState(null),2),o=i[0],s=i[1],c=L(t.useState(!1),2),u=c[0],l=c[1],d=b(vh),f=b(mh),p=b(kh);return t.useEffect((function(){return e(Tu("Overview")),s(d),function(){e(Tu("Select Channel"))}}),[]),(0,ac.jsxs)(ac.Fragment,{children:[null!==p&&void 0!==p&&p.user_can_edit_server_name?(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsx)(Lu,{title:"Update Server Name"}),(0,ac.jsx)(oc,{action:function(e){s(e),l(!(d===o&&!r))},inputValue:o}),(0,ac.jsx)(Lu,{title:"Update Server Banner"})]}):(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsx)(Lu,{title:"Server Name"}),(0,ac.jsx)(sv,{value:d})]}),(0,ac.jsx)("div",{style:{position:"relative",height:500},children:null!==p&&void 0!==p&&p.user_can_edit_server_banner?(0,ac.jsx)(Yl,{getFile:function(e){a(e),l(!0)},initalImage:f}):(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsx)(Lu,{title:"Server Banner"}),(0,ac.jsx)("div",{style:{width:"100%",height:"100%",borderRadius:"15px",overflow:"hidden"},children:(0,ac.jsx)(Gl,{image:f})})]})}),null!==p&&void 0!==p&&p.user_can_edit_server_password?(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsx)(Lu,{title:"Update Server Password"}),(0,ac.jsx)(oc,{marginBottom:"2%",placeholder:"Current Password"}),(0,ac.jsx)(oc,{marginBottom:"2%",placeholder:"New Password"}),(0,ac.jsx)(oc,{placeholder:"Confirm New Password"})]}):null,u?(0,ac.jsx)(Mu,{}):null]})},uv=function(){return le([{path:"overview",element:(0,ac.jsx)(cv,{})}])},lv=function(){var e=b(Js);return(0,ac.jsx)("div",{style:{backgroundColor:e},className:"server-settings-route-wrapper",children:(0,ac.jsxs)("div",{className:"server-settings-wrapping-container",children:[(0,ac.jsx)(uv,{}),(0,ac.jsx)(ov,{})]})})},dv=function(){return le([{path:"/server-settings/*",element:(0,ac.jsx)(lv,{})},{path:"/channel/:id/server-settings/*",element:(0,ac.jsx)(lv,{})}])},fv=function(){var e=L(t.useState(""),2),n=e[0],r=e[1],a=L(t.useState(!1),2),i=a[0],o=a[1],s=T(),c=Gs(),u=ue(),l=b(Js);t.useEffect((function(){c.start({left:0})}),[]);return(0,ac.jsx)($s.div,{style:{backgroundColor:l},animate:c,initial:{left:"100%"},className:"create-channel-menu-container",children:(0,ac.jsxs)("div",{className:"create-channel-inner-menu-container",children:[(0,ac.jsx)(Lu,{title:"Channel Name"}),(0,ac.jsx)(oc,{inputValue:n,action:function(e){r(e)},placeholder:"Name"}),(0,ac.jsx)(Lu,{title:"Persist Channel's Text Messages"}),(0,ac.jsx)(Fd,{state:i,action:function(){o(!i)}}),(0,ac.jsx)(Mu,{apply:function(){s(fh({channel_name:n,persist_data:i}))},cancel:function(){u(window.location.hash.split("/create-channel-menu")[0].split("#")[1])},name:"Create"})]})})},pv=function(){return le([{path:"/create-channel-menu",element:(0,ac.jsx)(fv,{})},{path:"/channel/:id/create-channel-menu",element:(0,ac.jsx)(fv,{})}])},hv=n(1947),vv=(0,bc.createSlice)({name:"controlBarSlice",initialState:{microphoneState:!0,webCamState:!0,audioState:!0,screenShareState:!0,screens:[],selectingScreens:!1,currentScreen:null},reducers:{toggleControlState:function(e,t){!0===e[t.payload]?e[t.payload]=!1:e[t.payload]=!0},setScreens:function(e,t){e.screens=t.payload},setSelectedScreen:function(e,t){e.setSelectedScreen=t.payload},resetControlState:function(e,t){e.microphoneState=!0,e.webCamState=!0,e.audioState=!0,e.screenShareState=!0},setSelectingScreensState:function(e,t){e.selectingScreens=t.payload},setCurrentScreen:function(e,t){e.currentScreen=t.payload}}}),mv=function(e){return e.controlBarSlice.microphoneState},gv=function(e){return e.controlBarSlice.webCamState},yv=function(e){return e.controlBarSlice.audioState},bv=function(e){return e.controlBarSlice.screenShareState},wv=function(e){return e.controlBarSlice.screens},xv=function(e){return e.controlBarSlice.currentScreen},Sv=function(e){return e.controlBarSlice.selectingScreens},_v=vv.actions,kv=_v.setCurrentScreen,Cv=_v.setSelectingScreensState,Pv=_v.resetControlState,Rv=_v.toggleControlState,Ev=_v.setScreens,jv=(_v.setSelectedScreen,vv.reducer),Tv=function(e){var t=e.user,n=b(ec),r=b(nc);return(0,ac.jsxs)("div",{style:{border:"solid 4px ".concat(t.active?r:n)},id:t.username,className:"active-user-container",children:[(0,ac.jsx)(Gl,{position:"absolute",image:t.user_banner}),(0,ac.jsx)("div",{className:"active-user-profile-image-container",children:(0,ac.jsx)(Gl,{objectFit:"cover",image:t.user_image})})]})},Ov="audioType",Mv="videoType",Lv="screenType",Dv=function(){function e(t,n,r,a,i,o,s,c,u,l,d){rf(this,e),this.socket=t,this.current_channel_id=n,this.server_id=r,this.mediasoupClient=a,this.audioInputDevice=i,this.videoInputDevice=o,this.audioInputState=s,this.videoInputState=c,this.user=u,this.device=null,this.producerTransport=null,this.consumerTransport=null,this.consumers=new Map,this.producers=new Map,this.producerLabel=new Map,this.dispatch=l,this.audioState=d}return of(e,[{key:"loadDevice",value:function(){var e=s(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=new this.mediasoupClient.Device}catch(r){console.log(r)}return e.next=3,n.load({routerRtpCapabilities:t});case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initTransports",value:function(){var e=s(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.socket.request("createWebRtcTransport",{forceTcp:!1,rtpCapabilities:this.device.rtpCapabilities}).then((function(e){return e}));case 2:if(!(n=e.sent).error){e.next=6;break}return console.log(n.error),e.abrupt("return");case 6:return this.producerTransport=t.createSendTransport(n),this.producerTransport.on("connect",function(){var e=s(i().mark((function e(t,r,a){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.dtlsParameters,this.socket.request("connectTransport",{dtlsParameters:o,transport_id:n.id}).then(r).catch(a);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}().bind(this)),this.producerTransport.on("produce",function(){var e=s(i().mark((function e(t,n,r){var a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.kind,o=t.rtpParameters,t.appData,e.prev=1,e.next=4,this.socket.request("produce",{producerTransportId:this.producerTransport.id,kind:a,rtpParameters:o}).then((function(e){return e}));case 4:s=e.sent,n({id:s}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),r(e.t0),this.dispatch({error:!0,errorMessage:"Fatal Error Sending Data"});case 13:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}().bind(this)),this.producerTransport.on("connectionstatechange",function(e){switch(e){case"connecting":case"connected":default:break;case"failed":this.producerTransport.close()}}.bind(this)),e.next=12,this.socket.request("createWebRtcTransport",{forceTcp:!1});case 12:if(!(r=e.sent).error){e.next=16;break}return console.log(r.error),e.abrupt("return");case 16:this.consumerTransport=t.createRecvTransport(r),this.consumerTransport.on("connect",function(e,t,n){var r=e.dtlsParameters;this.socket.request("connectTransport",{transport_id:this.consumerTransport.id,dtlsParameters:r}).then(t).catch(n)}.bind(this)),this.consumerTransport.on("connectionstatechange",function(){var e=s(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="connecting"===e.t0?3:"connected"===e.t0?4:"failed"===e.t0?5:7;break;case 3:case 4:case 7:return e.abrupt("break",8);case 5:return this.consumerTransport.close(),e.abrupt("break",8);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}().bind(this));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConsumeStream",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.device.rtpCapabilities,e.next=3,this.socket.request("consume",{rtpCapabilities:n,consumerTransportId:this.consumerTransport.id,producerId:t}).catch((function(e){console.log(e)}));case 3:return r=e.sent,a=r.id,o=r.kind,s=r.rtpParameters,c={},e.next=8,this.consumerTransport.consume({id:a,producerId:t,kind:o,rtpParameters:s,codecOptions:c});case 8:return u=e.sent,(l=new MediaStream).addTrack(u.track),d=this.user,e.abrupt("return",{consumer:u,stream:l,kind:o,user:d});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"consume",value:function(){var e=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getConsumeStream(t).then(function(e){var t,r=e.consumer,a=e.stream;e.kind;this.consumers.set(r.id,r),"video/VP8"===r.rtpParameters.codecs[0].mimeType?((t=document.createElement("video")).srcObject=a,t.id=r.id,t.playsInline=!1,t.autoplay=!0,t.className="",t.muted=!0,document.getElementById(n.username).appendChild(t)):"video/H264"===r.rtpParameters.codecs[0].mimeType?((t=document.createElement("video")).srcObject=a,t.id=r.id,t.autoplay=!0,t.className="streaming-video-player",t.playsInline=!0,t.muted=!1,t.volume=.4,document.getElementById(n.username).parentNode.appendChild(t)):((t=document.createElement("audio")).hidden=!0,t.srcObject=a,t.id=r.id,t.playsInline=!1,t.muted=this.audioState,t.autoplay=!0,document.getElementById(n.username).appendChild(t)),r.on("trackended",function(){this.removeConsumer(r.id)}.bind(this)),r.on("transportclose",function(){console.log(r.id),this.removeConsumer(r.id)}.bind(this))}.bind(this));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeConsumer",value:function(e){var t=document.getElementById(e);t&&(t.srcObject.getTracks().forEach((function(e){e.stop()})),t.remove()),this.consumers.delete(e)}},{key:"closeProducer",value:function(e){if(this.producerLabel.has(e)){var t=this.producerLabel.get(e);console.log("Close producer",t),this.socket.emit("producerClosed",{producer_id:t}),this.producers.get(t).close(),this.producers.delete(t),this.producerLabel.delete(e);var n=document.getElementById(t);e!==Ov&&(n.srcObject.getTracks().forEach((function(e){e.stop()})),n.remove()),this.producers.delete(t)}else console.log("There is no producer for this type "+e)}},{key:"produce",value:function(){var e=s(i().mark((function e(t){var n,r,a,o,s,c,u,l,d,f,p,h=this,v=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=v.length>1&&void 0!==v[1]?v[1]:null,a={},o=!1,s=!1,e.t0=t,e.next=e.t0===Ov?7:e.t0===Mv?10:e.t0===Lv?12:15;break;case 7:return a={audio:{deviceId:n},video:!1},o=!0,e.abrupt("break",16);case 10:return a={audio:!1,video:{width:{min:540,ideal:1280},height:{min:360,ideal:720},deviceId:n}},e.abrupt("break",16);case 12:return a={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:n}}},s=!0,e.abrupt("break",16);case 15:return e.abrupt("return");case 16:if(this.device.canProduce("video")||o){e.next=19;break}return this.dispatch({error:!0,errorMessage:"Unable to produce video or audio"}),e.abrupt("return");case 19:if(!this.producerLabel.has(t)){e.next=21;break}return e.abrupt("return");case 21:if(e.prev=21,!s){e.next=28;break}return e.next=25,navigator.mediaDevices.getUserMedia(a);case 25:e.t1=e.sent,e.next=31;break;case 28:return e.next=30,navigator.mediaDevices.getUserMedia(a);case 30:e.t1=e.sent;case 31:return c=e.t1,l=o?c.getAudioTracks()[0]:c.getVideoTracks()[0],u=null,d={track:l},o||(d.encodings=[{rid:"r0",maxBitrate:1e5,scalabilityMode:"S1T3"},{rid:"r1",maxBitrate:3e5,scalabilityMode:"S1T3"},{rid:"r2",maxBitrate:9e5,scalabilityMode:"S1T3"}],d.codec=s?this.device.rtpCapabilities.codecs.find((function(e){return"video/H264"===e.mimeType})):this.device.rtpCapabilities.codecs.find((function(e){return"video/VP8"===e.mimeType}))),e.next=38,this.producerTransport.produce(d);case 38:if(r=e.sent,this.producers.set(r.id,r),o||s?s&&(c[t]="screen",(f=document.createElement("video")).srcObject=c,f.id=r.id,f.autoplay=!0,f.muted=!0,f.className="streaming-video-player",f.playsInline=!0,document.getElementById(this.user.username).parentNode.appendChild(f),console.log(f.srcObject.getAudioTracks)):((f=document.createElement("video")).srcObject=c,f.id=r.id,f.playsInline=!1,f.autoplay=!0,f.className="videoplayer",document.getElementById(this.user.username).appendChild(f)),r.on("trackended",(function(){h.closeProducer(t)})),r.on("transportclose",(function(){o||f.srcObject.getTracks().forEach((function(e){e.stop()})),h.producers.delete(r.id)})),r.on("close",(function(){o||f.srcObject.getTracks().forEach((function(e){e.stop()})),h.producers.delete(r.id)})),this.producerLabel.set(t,r.id),!u){e.next=53;break}return e.next=48,this.producerTransport.produce({track:u});case 48:p=e.sent,this.producers.set(p.id,p),p.on("trackended",(function(){h.closeProducer(t)})),p.on("transportclose",(function(){o||f.srcObject.getTracks().forEach((function(e){e.stop()})),h.producers.delete(r.id)})),p.on("close",(function(){o||f.srcObject.getTracks().forEach((function(e){e.stop()})),h.producers.delete(r.id)}));case 53:e.next=58;break;case 55:e.prev=55,e.t2=e.catch(21),console.log(e.t2);case 58:case"end":return e.stop()}}),e,this,[[21,55]])})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseProducer",value:function(e){if(this.producerLabel.has(e)){var t=this.producerLabel.get(e);this.producers.get(t).pause(),"videoType"===e&&(document.querySelector("#".concat(this.user.username," video")).style.zIndex="-1")}}},{key:"resumeProducer",value:function(e){if(this.producerLabel.has(e)){var t=this.producerLabel.get(e);this.producers.get(t).resume(),"videoType"===e&&(document.querySelector("#".concat(this.user.username," video")).style.zIndex="3")}}},{key:"exit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(){this.consumerTransport.close(),this.producerTransport.close(),this.socket.off("disconnect"),this.socket.off("newProducers"),this.socket.off("consumerClosed")}.bind(this);e?t():this.socket.request("leaves channel").finally(function(){t()}.bind(this))}},{key:"initSockets",value:function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.socket.on("consumerclosed",function(e){var t=e.consumer_id;console.log(t),this.removeConsumer(t)}.bind(this)),this.socket.on("newProducers",function(){var e=s(i().mark((function e(t){var n,r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Dd(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,o=a.producer_id,s=a.user,e.next=7,this.consume(o,s);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}().bind(this)),this.socket.on("disconnect",function(){this.exit(!0)}.bind(this));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"join",value:function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.socket.request("join channel",{channel_id:this.current_channel_id,server_id:this.server_id,user:this.user}).then(s(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.socket.request("getRouterRtpCapabilities");case 2:return t=e.sent,e.next=5,this.loadDevice(t);case 5:return n=e.sent,this.device=n,e.next=9,this.initTransports(n);case 9:return e.next=11,this.initSockets();case 11:this.socket.emit("getProducers"),this.dispatch({action:"playSoundEffect",value:"connected"});case 13:case"end":return e.stop()}}),e,this)}))).bind(this)).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toggleAudioState",value:function(e){this.audioState=e}}]),e}(),Av=function(e){var n=e.page,r=e.action,a=b(Xs),i=b(Js),o=b(ec),s=Gs(),c=Gs(),u=Gs(),l=function(e){r(e)},d=function(e,t,r){r!==n&&t.start({backgroundColor:e,cursor:"pointer"})};return t.useEffect((function(){"voice"===n?(s.start({backgroundColor:i,cursor:"default"}),c.start({backgroundColor:a,cursor:"cursor"}),u.start({backgroundColor:a,cursor:"cursor"})):"social"===n?(c.start({backgroundColor:i,cursor:"default"}),s.start({backgroundColor:a,cursor:"cursor"}),u.start({backgroundColor:a,cursor:"cursor"})):"widgets"===n&&(u.start({backgroundColor:i,cursor:"default"}),c.start({backgroundColor:a,cursor:"cursor"}),s.start({backgroundColor:a,cursor:"cursor"}))}),[n]),(0,ac.jsxs)("div",{style:{backgroundColor:a},className:"room-navigation-container",children:[(0,ac.jsxs)("div",{className:"room-navigation-button-wrapper",children:[(0,ac.jsx)($s.div,{transition:{duration:.2},onMouseOver:function(){d(i,s,"voice")},onMouseOut:function(){d(a,s,"voice")},onMouseDown:function(){d(o,s,"voice")},onMouseUp:function(){d(i,s,"voice")},animate:s,onClick:function(){l("voice")},className:"room-navigation-button",children:(0,ac.jsx)("h3",{children:"Voice / Video"})}),(0,ac.jsx)($s.div,{transition:{duration:.2},onMouseOver:function(){d(i,c,"social")},onMouseOut:function(){d(a,c,"social")},onMouseDown:function(){d(o,c,"social")},onMouseUp:function(){d(i,c,"social")},animate:c,onClick:function(){l("social")},className:"room-navigation-button",children:(0,ac.jsx)("h3",{children:"Social"})}),(0,ac.jsx)($s.div,{style:{borderTopRightRadius:15},transition:{duration:.2},onMouseOver:function(){d(i,u,"widgets")},onMouseOut:function(){d(a,u,"widgets")},onMouseDown:function(){d(o,u,"widgets")},onMouseUp:function(){d(i,u,"widgets")},animate:u,onClick:function(){l("widgets")},className:"room-navigation-button",children:(0,ac.jsx)("h3",{children:"Widgets"})})]}),(0,ac.jsx)(qp,{})]})},Iv=function(e){return(0,ac.jsx)(Up,{width:30,height:30,invert:!0,children:(0,ac.jsxs)("svg",(0,Du.Z)((0,Du.Z)({},e.root),{},{width:"46",height:"46",viewBox:"0 0 46 46",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M2.16675 10.5001C2.16675 8.28994 3.04472 6.17033 4.60752 4.60752C6.17033 3.04472 8.28994 2.16675 10.5001 2.16675H35.5001C37.7102 2.16675 39.8298 3.04472 41.3926 4.60752C42.9554 6.17033 43.8334 8.28994 43.8334 10.5001V35.5001C43.8334 37.7102 42.9554 39.8298 41.3926 41.3926C39.8298 42.9554 37.7102 43.8334 35.5001 43.8334H10.5001C8.28994 43.8334 6.17033 42.9554 4.60752 41.3926C3.04472 39.8298 2.16675 37.7102 2.16675 35.5001V10.5001Z",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ac.jsx)("path",{d:"M15.7083 20.9167C18.5848 20.9167 20.9167 18.5848 20.9167 15.7083C20.9167 12.8319 18.5848 10.5 15.7083 10.5C12.8319 10.5 10.5 12.8319 10.5 15.7083C10.5 18.5848 12.8319 20.9167 15.7083 20.9167Z",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ac.jsx)("path",{d:"M28.2625 24.2937L10.5 43.8333H35.7771C37.9137 43.8333 39.9629 42.9845 41.4737 41.4737C42.9846 39.9628 43.8333 37.9137 43.8333 35.777V35.5C43.8333 34.5291 43.4687 34.1562 42.8125 33.4375L34.4167 24.2812C34.0254 23.8544 33.5494 23.5138 33.0191 23.2812C32.4888 23.0485 31.9159 22.929 31.3368 22.9302C30.7578 22.9314 30.1853 23.0532 29.656 23.288C29.1266 23.5228 28.6521 23.8653 28.2625 24.2937V24.2937Z",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]}))})},Nv=function(e){var t=e.action;return(0,ac.jsx)(Up,{action:t,width:30,height:30,invert:!0,children:(0,ac.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.875 6.25C46.875 5.4212 46.5458 4.62634 45.9597 4.04029C45.3737 3.45424 44.5788 3.125 43.75 3.125H6.25C5.4212 3.125 4.62634 3.45424 4.04029 4.04029C3.45424 4.62634 3.125 5.4212 3.125 6.25V43.75C3.125 44.5788 3.45424 45.3737 4.04029 45.9597C4.62634 46.5458 5.4212 46.875 6.25 46.875H43.75C44.5788 46.875 45.3737 46.5458 45.9597 45.9597C46.5458 45.3737 46.875 44.5788 46.875 43.75V6.25ZM0 6.25C0 4.5924 0.65848 3.00269 1.83058 1.83058C3.00269 0.65848 4.5924 0 6.25 0L43.75 0C45.4076 0 46.9973 0.65848 48.1694 1.83058C49.3415 3.00269 50 4.5924 50 6.25V43.75C50 45.4076 49.3415 46.9973 48.1694 48.1694C46.9973 49.3415 45.4076 50 43.75 50H6.25C4.5924 50 3.00269 49.3415 1.83058 48.1694C0.65848 46.9973 0 45.4076 0 43.75V6.25ZM26.5625 35.9375C26.5625 36.3519 26.3979 36.7493 26.1049 37.0424C25.8118 37.3354 25.4144 37.5 25 37.5C24.5856 37.5 24.1882 37.3354 23.8951 37.0424C23.6021 36.7493 23.4375 36.3519 23.4375 35.9375V17.8344L16.7313 24.5438C16.4379 24.8371 16.0399 25.002 15.625 25.002C15.2101 25.002 14.8121 24.8371 14.5187 24.5438C14.2254 24.2504 14.0605 23.8524 14.0605 23.4375C14.0605 23.0226 14.2254 22.6246 14.5187 22.3312L23.8937 12.9562C24.0389 12.8107 24.2113 12.6953 24.4011 12.6165C24.591 12.5378 24.7945 12.4972 25 12.4972C25.2055 12.4972 25.409 12.5378 25.5989 12.6165C25.7887 12.6953 25.9611 12.8107 26.1063 12.9562L35.4813 22.3312C35.7746 22.6246 35.9395 23.0226 35.9395 23.4375C35.9395 23.8524 35.7746 24.2504 35.4813 24.5438C35.1879 24.8371 34.7899 25.002 34.375 25.002C33.9601 25.002 33.5621 24.8371 33.2687 24.5438L26.5625 17.8344V35.9375Z",fill:"black"})})})},Fv=function(e){var n=e.send,r=e.text,a=e.keyCode,i=(e.active,e.image),o=e.value,s=e.persist,c=L(t.useState([{}]),2),u=c[0],l=c[1],d=b(Xs),f=(b(tc),b(ec),Gs()),p=ql({accept:{"image/*":[".jpeg",".png",".webp",".jpg"]},maxFiles:1,onDrop:function(e){l(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}}),h=p.getRootProps;p.getInputProps,p.isDragActive;t.useEffect((function(){return u[0].size&&i(u[0]),function(){return u.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[u]);return(0,ac.jsx)(ac.Fragment,{children:(0,ac.jsxs)($s.div,{animate:f,style:{backgroundColor:d},className:"message-input-container",children:[(0,ac.jsx)("input",{id:"social-input-selector",onKeyUp:function(e){!1!==a&&a(e.keyCode)},onChange:function(e){r(e.target.value)},value:o,placeholder:"Message",type:"text"}),(0,ac.jsxs)("div",{className:"message-input-button-wrapper",children:[s?(0,ac.jsx)(Iv,{root:h({className:"dropzone"})}):null,(0,ac.jsx)(Nv,{action:function(){n()}})]})]})})},Bv=function(e){var n=e.video,r=L(t.useState(!0),2);r[0],r[1];return(0,ac.jsx)("div",{className:"video-container",children:(0,ac.jsx)("video",{controls:!0,src:n})})},Vv=function(e){var t=e.message,n=b(tc);return(0,ac.jsxs)("div",{style:{borderTop:"solid 2px ".concat(n)},className:"message-container",children:[(0,ac.jsxs)("div",{className:"sender-info-container",children:[(0,ac.jsx)("p",{children:t.display_name}),t.loading?(0,ac.jsx)("div",{className:"message-loading-container",children:(0,ac.jsxs)($s.svg,{animate:{rotate:["0deg","360deg"]},transition:{ease:"linear",duration:"1",repeat:1/0},width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{opacity:"0.5",d:"M12 2C10.0222 2 8.08879 2.58649 6.4443 3.6853C4.79981 4.78412 3.51809 6.3459 2.76121 8.17317C2.00433 10.0004 1.8063 12.0111 2.19215 13.9509C2.578 15.8907 3.53041 17.6725 4.92894 19.0711C6.32746 20.4696 8.10929 21.422 10.0491 21.8079C11.9889 22.1937 13.9996 21.9957 15.8268 21.2388C17.6541 20.4819 19.2159 19.2002 20.3147 17.5557C21.4135 15.9112 22 13.9778 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7363 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2V2ZM12 20C10.4178 20 8.87104 19.5308 7.55544 18.6518C6.23985 17.7727 5.21447 16.5233 4.60897 15.0615C4.00347 13.5997 3.84504 11.9911 4.15372 10.4393C4.4624 8.88743 5.22433 7.46197 6.34315 6.34315C7.46197 5.22433 8.88743 4.4624 10.4393 4.15372C11.9911 3.84504 13.5997 4.00346 15.0615 4.60896C16.5233 5.21447 17.7727 6.23984 18.6518 7.55544C19.5308 8.87103 20 10.4177 20 12C20 14.1217 19.1572 16.1566 17.6569 17.6569C16.1566 19.1571 14.1217 20 12 20V20Z",fill:"black"}),(0,ac.jsx)("path",{d:"M20 12H22C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2V4C14.1217 4 16.1566 4.84285 17.6569 6.34315C19.1571 7.84344 20 9.87827 20 12Z",fill:"black"})]})}):(0,ac.jsx)("p",{children:t.date})]}),t.text?(0,ac.jsx)("p",{children:t.text}):null,t.image?(0,ac.jsx)("div",{className:"message-image-container",children:(0,ac.jsx)(Gl,{image:t.image})}):null,t.video?(0,ac.jsx)(Bv,{video:t.video}):null]})},zv=function(){var e=T(),n=t.useRef(null),r=L(t.useState(""),2),a=r[0],o=r[1],c=L(t.useState(!1),2),u=c[0],l=c[1],d=b(hh),f=b(wh),p=b(bu),h=b(Js),v=b(Ch),m=b(kh),g=b(yu);t.useEffect((function(){n.current.scrollTop=n.current.scrollHeight,m.user_can_post_channel_social&&document.getElementById("social-input-selector").focus()}),[]);var y=function(){var t=s(i().mark((function t(){var r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m.user_can_post_channel_social){t.next=2;break}return t.abrupt("return");case 2:if(0!==a.length||!1!==u){t.next=4;break}return t.abrupt("return");case 4:return r={username:p,channel_id:d,content:{image:!1,text:a,video:!1,link:!1,local_id:Math.random(5*v.length)+1,loading:!0,display_name:g}},e(Th(r)),n.current.scrollTop=n.current.scrollHeight,o(""),l(!1),t.next=11,ch.request("message",r).then((function(t){console.log(t),t.success&&e(jh(t.message)),n.current.scrollTop=n.current.scrollHeight})).catch((function(e){console.log(e)}));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,ac.jsx)($s.div,{style:{backgroundColor:h},className:"social-outer-container",initial:{left:"100%"},animate:{left:"0%"},exit:{left:"100%"},children:(0,ac.jsxs)("div",{className:"social-inner-container",children:[u.preview?(0,ac.jsx)("div",{className:"image-social-post-preview",children:(0,ac.jsx)(Gl,{objectFit:"contain",image:u.preview})}):null,(0,ac.jsx)("div",{ref:n,className:"social-messages-wrapper",children:v.map((function(e){return(0,ac.jsx)(Vv,{message:e.content},e.content.local_id||e._id)}))}),m.user_can_post_channel_social?(0,ac.jsx)(Fv,{persist:f.persist_social,image:function(e){l(e)},keyCode:function(e){13===e&&y()},value:a,text:function(e){o(e)},send:y}):null]})},"room-social-content-container")},Uv=function(){var e=b(Js);return(0,ac.jsx)($s.div,{className:"content-outer-container",style:{backgroundColor:e},initial:{left:"100%"},animate:{left:"0%"},exit:{left:"100%"}},"room-content-container")},Hv=function(){var e=T(),n=L(t.useState(!1),2),r=n[0],a=n[1],o=L(t.useState("voice"),2),c=o[0],u=o[1],l=b(wh),d=b(hh),f=b(bh),p=b(gv),h=b(mv),v=b(yv),m=b(bv),g=b(Cd),y=b(Rd),w=b(bu),x=b(yu),S=b(wu),_=b(xu),k=b(xv),C=b(Ph),P=b(jd),R=b(Ed),E={username:w,display_name:x,user_banner:S,user_image:_},j=function(t){if("playSoundEffect"===t.action)return e(th(t.value))},O=function(){var e=s(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Np=new Dv(ch,d,f,hv,y,g,h,p,E,j,v),e.next=3,Np.join();case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var t=s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{window.require("electron").ipcRenderer.invoke("GET_SOURCES").then((function(t){return e(Ev(t)),e(Cv(!0)),!0}))}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t.useEffect((function(){return O().then((function(){a(!0)})),e(Tu(l.channel_name)),function(){e(Tu("Select Channel")),e(Lh(!0)),e(Ev([])),e(Cv(!1)),e(kv(null)),a(!1),Np.exit(),ch&&console.log("channel left/ channel change")}}),[d]),t.useEffect((function(){null!==k&&(e(Ev([])),e(Cv(!1)),Np.produce("screenType",k),e(Oh({username:E.username,action:{screenshare:!0}})),ch.emit("user status",{username:E.username,action:{screenshare:!0}}))}),[k]),t.useEffect((function(){Np&&!0===r&&(h?(Np.produce("audioType",y.id),e(Oh({username:E.username,action:{microphone:!0}})),ch.emit("user status",{username:E.username,action:{microphone:!0}})):!1===h&&(Np.closeProducer("audioType"),e(Oh({username:E.username,action:{microphone:!1}})),ch.emit("user status",{username:E.username,action:{microphone:!1}})),!1===p?(Np.produce("videoType",g.id),e(Oh({username:E.username,action:{webcam:!0}})),ch.emit("user status",{username:E.username,action:{webcam:!0}})):!0===p&&(Np.closeProducer("videoType"),e(Oh({username:E.username,action:{webcam:!1}})),ch.emit("user status",{username:E.username,action:{webcam:!1}})),!1===m&&null===k?M():!0===m&&(Np.closeProducer("screenType"),e(Ev([])),e(Cv(!1)),e(kv(null)),e(Oh({username:E.username,action:{screenshare:!1}})),ch.emit("user status",{username:E.username,action:{screenshare:!1}})),v?(document.querySelectorAll("video, audio").forEach((function(e){return e.muted=!1})),e(Oh({username:E.username,action:{muted:!1}})),Np.toggleAudioState(!1),ch.emit("user status",{username:E.username,action:{muted:!1}})):!1===v&&(console.log(document.querySelectorAll("audio")),document.querySelectorAll("video, audio").forEach((function(e){return e.muted=!0})),e(Oh({username:E.username,action:{muted:!0}})),Np.toggleAudioState(!0),ch.emit("user status",{username:E.username,action:{muted:!0}})),console.log("uhhh"))}),[h,p,r,m,v]),t.useEffect((function(){document.addEventListener("keydown",(function(e){console.log(e,"room key event")}));var t,n,a,i,o=!1;return Np&&!0===r&&h&&(!0===P?navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:y._id}},video:!1}).then((function(r){t=new AudioContext,n=t.createAnalyser(),a=t.createMediaStreamSource(r),i=t.createScriptProcessor(2048,1,1),n.smoothingTimeConstant=.8,n.fftSize=1024,a.connect(n),n.connect(i),i.connect(t.destination),i.onaudioprocess=function(){var t=new Uint8Array(n.frequencyBinCount);n.getByteFrequencyData(t);var r=t.reduce((function(e,t){return e+t}),0),a=r/t.length*5;if(a>60){if(o||!1===h)return;o=!0,Np.resumeProducer("audioType"),e(Oh({username:E.username,action:{active:!0}})),ch.emit("user status",{username:E.username,action:{active:!0,channel_specific:!0}})}else if(a<60){if(!1===o)return;o=!1,Np.pauseProducer("audioType"),e(Oh({username:E.username,action:{active:!1}})),ch.emit("user status",{username:E.username,action:{active:!1,channel_specific:!0}})}}})):!0===R&&(C?(Np.resumeProducer("audioType"),e(Oh({username:E.username,action:{active:!0}})),ch.emit("user status",{username:E.username,action:{active:!0,channel_specific:!0}})):(Np.pauseProducer("audioType"),e(Oh({username:E.username,action:{active:!1}})),ch.emit("user status",{username:E.username,action:{active:!1,channel_specific:!0}})))),console.log(C),function(){var e,t,r;null===(e=n)||void 0===e||e.disconnect(),null===(t=a)||void 0===t||t.disconnect(),null===(r=i)||void 0===r||r.disconnect()}}),[R,P,r,d,h,C]),(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsx)(Av,{action:function(e){u(e)},page:c}),(0,ac.jsxs)("div",{id:"live-chat-wrapper",children:[l.users?l.users.map((function(e){return(0,ac.jsx)(Tv,{user:e},e.username)})):null,(0,ac.jsxs)(hc,{children:["social"===c?(0,ac.jsx)(zv,{}):null,"widgets"===c?(0,ac.jsx)(Uv,{}):null]})]})]})},Wv=function(){return le([{path:"/channel/:id/*",element:(0,ac.jsx)(Hv,{})}])},qv=function(){return(0,ac.jsxs)(ac.Fragment,{children:[(0,ac.jsx)(pv,{}),(0,ac.jsx)(dv,{}),(0,ac.jsx)(Wv,{})]})},Zv=function(){return le([{path:"server/:id/*",element:(0,ac.jsx)(qv,{})}])},$v=(0,bc.createAsyncThunk)("joinServerSlice/joinNewServer",function(){var e=s(i().mark((function e(t,n){var r,a,o,s,c,u,l,d;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=n.rejectWithValue,o=n.dispatch,s=r().joinServerSlice,c=s.selectedServer,u=s.password,c.server_id){e.next=4;break}return e.abrupt("return",a({error:!0,errorMessage:"Invalid Server Issue"}));case 4:if(u){e.next=6;break}return e.abrupt("return",a({error:!0,errorMessage:"Password input cannot be empty"}));case 6:return e.next=8,_c();case 8:return l=e.sent,e.next=11,xc()({method:"POST",url:"".concat(Sc,"/join-new-server"),headers:{TOKEN:l},data:{server_id:c.server_id,password:u}}).then((function(e){if(console.log(e),e.data.error)return a({error:!0,errorMessage:e.data.errorMessage});e.data.success&&(o(Ah(e.data.server.server_id)),o(Dh(e.data.server.server_name)),o(tf(e.data.server)),window.location.hash="/dashboard/server/".concat(e.data.server.server_name))})).catch((function(e){return console.log(e),a({error:!0,errorMessage:"fatal error has occurred"})}));case 11:return d=e.sent,e.abrupt("return",d);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Kv=(0,bc.createSlice)({name:"joinServerSlice",initialState:{selectedServer:{},loading:!1,error:!1,errorMessage:"",password:""},reducers:{setServerToJoin:function(e,t){e.selectedServer=t.payload},closeJoinServerError:function(e,t){e.error=!1,e.errorMessage=""},setJoinServerState:function(e,t){e[t.payload.state]=t.payload.value},cleanUpJoiningNewServerState:function(e,t){e.error=!1,e.errorMessage="",e.selectedServer={},e.loading=!1}},extraReducers:(Fp={},(0,Bt.Z)(Fp,$v.pending,(function(e,t){e.loading=!0,e.error=!1,e.errorMessage=""})),(0,Bt.Z)(Fp,$v.fulfilled,(function(e,t){e.loading=!1,e.error=!1,e.errorMessage=""})),(0,Bt.Z)(Fp,$v.rejected,(function(e,t){e.loading=!1,e.error=t.payload.error,e.errorMessage=t.payload.errorMessage})),Fp)}),Gv=function(e){return e.joinServerSlice.selectedServer},Qv=function(e){return e.joinServerSlice.password},Yv=function(e){return e.joinServerSlice.loading},Xv=function(e){return e.joinServerSlice.error},Jv=function(e){return e.joinServerSlice.errorMessage},em=Kv.actions,tm=em.cleanUpJoiningNewServerState,nm=em.setServerToJoin,rm=em.closeJoinServerError,am=em.setJoinServerState,im=Kv.reducer,om=function(){var e=T(),n=ue(),r=b(Gv),a=b(Xs),i=b(Yv),o=b(Xv),s=b(Jv),c=b(Qv);t.useEffect((function(){return e(Tu("Join Server")),function(){e(Tu("Select Server"))}}),[]);return(0,ac.jsxs)($s.div,{className:"join-server-container",children:[(0,ac.jsxs)("div",{className:"join-server-inner-container",children:[(0,ac.jsxs)("div",{className:"join-server-banner-container",children:[(0,ac.jsx)(Gl,{image:null===r||void 0===r?void 0:r.server_banner}),(0,ac.jsx)("h1",{style:{backgroundColor:a},children:null===r||void 0===r?void 0:r.server_name})]}),(0,ac.jsx)(Lu,{title:"Enter Password"}),(0,ac.jsx)(oc,{type:"password",stateSelector:"password",action:function(t,n){e(am({value:t,state:n}))},inputValue:c,placeholder:"Password"}),(0,ac.jsx)(Mu,{apply:function(){e($v())},cancel:function(){e(tm()),n("/dashboard")},name:"Join"})]}),(0,ac.jsx)(gc,{action:function(){e(rm())},loading:i,errorMessage:s,error:o})]})},sm=function(){return le([{path:"/join-server/:id",element:(0,ac.jsx)(om,{})}])},cm=function(e){var t=e.title,n=e.textAlign,r=void 0===n?"center":n;return(0,ac.jsx)("div",{className:"header-title-container",children:(0,ac.jsx)("h2",{style:{textAlign:r},children:t})})},um=function(){var e=b(Js),t=b(Eu);return(0,ac.jsxs)($s.div,{className:"content-screen-container",children:[(0,ac.jsx)(cm,{title:t}),(0,ac.jsxs)("div",{style:{backgroundColor:e},className:"content-screen-inner-container",children:[(0,ac.jsx)(Qc,{}),(0,ac.jsx)(Ud,{}),(0,ac.jsx)(rv,{}),(0,ac.jsx)(sm,{}),(0,ac.jsx)(Zv,{})]})]})},lm=n(6445),dm=n(932),fm=n(6074),pm=n(4853),hm=n(2800),vm=function(){var e=b(eh),n=T(),r=L(t.useState(""),2),a=r[0],i=r[1],o={connected:lm,disconnected:dm,userJoined:fm,userDisconnected:pm,controlSoundEffect:hm};t.useEffect((function(){i(o[e])}),[e]);return(0,ac.jsx)(ac.Fragment,{children:(0,ac.jsx)("audio",{onEnded:function(){n(th(""))},hidden:!0,autoPlay:!0,src:a,loop:!1})})},mm=function(e){var t=e.action,n=b(Js);return(0,ac.jsx)("div",{style:{backgroundColor:n},onClick:t,className:"logo-container",children:(0,ac.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 63 63",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("circle",{cx:"31.2724",cy:"31.2724",r:"31",transform:"rotate(-98.5676 31.2724 31.2724)",fill:"white",fillOpacity:"0.5"}),(0,ac.jsx)("path",{d:"M26.8031 1.60714C43.1867 -0.861197 58.4693 10.4194 60.9376 26.803C63.4059 43.1867 52.1253 58.4692 35.7417 60.9376C19.358 63.4059 4.07546 52.1253 1.60714 35.7417C-0.861185 19.358 10.4194 4.07547 26.8031 1.60714Z",stroke:"black",strokeOpacity:"0.5",strokeWidth:"2"}),(0,ac.jsx)("ellipse",{rx:"1.73655",ry:"7.60638",transform:"matrix(-0.482555 -0.875866 0.875865 -0.482556 20.4318 10.4413)",fill:"black",fillOpacity:"0.5"}),(0,ac.jsx)("ellipse",{cx:"10.4316",cy:"17.6788",rx:"1.24479",ry:"1.32937",transform:"rotate(-98.5676 10.4316 17.6788)",fill:"black",fillOpacity:"0.5"})]})})},gm=function(){var e=ue(),t=b(Qd);return(0,ac.jsxs)("div",{className:"side-bar-header-container",children:[(0,ac.jsx)(mm,{action:function(){e("/dashboard")}}),(0,ac.jsx)(cm,{title:t}),(0,ac.jsx)("div",{style:{width:10,flexShrink:0}})]})},ym=function(e){var t=e.action,n=e.state,r=e.active;return(0,ac.jsx)(Up,{action:t,width:30,height:30,active:r,opacity:.5,children:n?(0,ac.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M43.7501 14.8959C43.1171 14.6109 42.4143 14.5182 41.7291 14.6293C41.0439 14.7404 40.4064 15.0505 39.8959 15.5209L35.4167 19.6876V16.6667C35.4167 15.0091 34.7583 13.4194 33.5862 12.2473C32.4141 11.0752 30.8244 10.4167 29.1667 10.4167H10.4167C8.75914 10.4167 7.16943 11.0752 5.99733 12.2473C4.82523 13.4194 4.16675 15.0091 4.16675 16.6667V33.3334C4.16675 34.991 4.82523 36.5807 5.99733 37.7528C7.16943 38.9249 8.75914 39.5834 10.4167 39.5834H29.1667C30.8244 39.5834 32.4141 38.9249 33.5862 37.7528C34.7583 36.5807 35.4167 34.991 35.4167 33.3334V30.3126L39.9167 34.4792C40.5792 35.0789 41.4398 35.4128 42.3334 35.4167C42.8293 35.4156 43.3193 35.3091 43.7709 35.1042C44.3854 34.8557 44.9118 34.4296 45.2829 33.8804C45.654 33.3311 45.8529 32.6837 45.8542 32.0209V17.9792C45.8512 17.314 45.6492 16.6649 45.2743 16.1154C44.8993 15.5659 44.3684 15.1412 43.7501 14.8959V14.8959ZM31.2501 33.3334C31.2501 33.8859 31.0306 34.4159 30.6399 34.8066C30.2492 35.1973 29.7193 35.4167 29.1667 35.4167H10.4167C9.86421 35.4167 9.33431 35.1973 8.94361 34.8066C8.55291 34.4159 8.33341 33.8859 8.33341 33.3334V16.6667C8.33341 16.1142 8.55291 15.5843 8.94361 15.1936C9.33431 14.8029 9.86421 14.5834 10.4167 14.5834H29.1667C29.7193 14.5834 30.2492 14.8029 30.6399 15.1936C31.0306 15.5843 31.2501 16.1142 31.2501 16.6667V33.3334ZM41.6667 30.4167L35.8126 25.0001L41.6667 19.5834V30.4167Z",fill:"black"})}):(0,ac.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M43.7501 14.8957C43.1171 14.6107 42.4143 14.518 41.7291 14.6291C41.0439 14.7402 40.4064 15.0502 39.8959 15.5207L35.4167 19.6873V16.6665C35.4167 15.0089 34.7583 13.4192 33.5862 12.2471C32.4141 11.075 30.8244 10.4165 29.1667 10.4165H10.4167C8.75914 10.4165 7.16943 11.075 5.99733 12.2471C4.82523 13.4192 4.16675 15.0089 4.16675 16.6665V33.3332C4.16675 34.9908 4.82523 36.5805 5.99733 37.7526C7.16943 38.9247 8.75914 39.5832 10.4167 39.5832H29.1667C30.8244 39.5832 32.4141 38.9247 33.5862 37.7526C34.7583 36.5805 35.4167 34.9908 35.4167 33.3332V30.3123L39.9167 34.479C40.5792 35.0787 41.4398 35.4125 42.3334 35.4165C42.8293 35.4153 43.3193 35.3088 43.7709 35.104C44.3854 34.8554 44.9118 34.4293 45.2829 33.8801C45.654 33.3309 45.8529 32.6835 45.8542 32.0207V17.979C45.8512 17.3138 45.6492 16.6647 45.2743 16.1152C44.8993 15.5657 44.3684 15.141 43.7501 14.8957ZM31.2501 33.3332C31.2501 33.8857 31.0306 34.4156 30.6399 34.8063C30.2492 35.197 29.7193 35.4165 29.1667 35.4165H10.4167C9.86421 35.4165 9.33431 35.197 8.94361 34.8063C8.55291 34.4156 8.33341 33.8857 8.33341 33.3332V16.6665C8.33341 16.114 8.55291 15.5841 8.94361 15.1934C9.33431 14.8027 9.86421 14.5832 10.4167 14.5832H29.1667C29.7193 14.5832 30.2492 14.8027 30.6399 15.1934C31.0306 15.5841 31.2501 16.114 31.2501 16.6665V33.3332ZM41.6667 30.4165L35.8126 24.9998L41.6667 19.5832V30.4165Z",fill:"black"}),(0,ac.jsx)("rect",{y:"7.82861",width:"4",height:"53",rx:"2",transform:"rotate(-45 0 7.82861)",fill:"black"})]})})},bm=function(e){var t=e.action;return(0,ac.jsx)(Up,{action:t,width:40,height:40,children:(0,ac.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M42.1875 26.1875V23.7968L45.1875 21.1718C45.7405 20.6844 46.1034 20.0172 46.212 19.2881C46.3207 18.559 46.1681 17.8149 45.7812 17.1875L42.0937 10.9375C41.8197 10.4629 41.4257 10.0687 40.9513 9.79444C40.4768 9.52019 39.9386 9.37553 39.3906 9.37496C39.051 9.37236 38.7132 9.42514 38.3906 9.53121L34.5937 10.8125C33.9382 10.3769 33.2544 9.98536 32.5468 9.64059L31.75 5.70309C31.6071 4.98372 31.2157 4.33753 30.6444 3.87762C30.0731 3.41772 29.3583 3.17341 28.625 3.18746H21.3125C20.5792 3.17341 19.8643 3.41772 19.293 3.87762C18.7217 4.33753 18.3304 4.98372 18.1875 5.70309L17.3906 9.64059C16.678 9.98528 15.989 10.3768 15.3281 10.8125L11.6093 9.46871C11.2832 9.38375 10.9456 9.35209 10.6093 9.37496C10.0613 9.37553 9.52311 9.52019 9.04866 9.79444C8.57421 10.0687 8.18022 10.4629 7.90622 10.9375L4.21872 17.1875C3.85401 17.814 3.71849 18.5479 3.83536 19.2633C3.95223 19.9788 4.31422 20.6314 4.85934 21.1093L7.81247 23.8125V26.2031L4.85934 28.8281C4.29882 29.3093 3.92693 29.9736 3.80965 30.703C3.69238 31.4324 3.8373 32.1798 4.21872 32.8125L7.90622 39.0625C8.18022 39.5371 8.57421 39.9312 9.04866 40.2055C9.52311 40.4797 10.0613 40.6244 10.6093 40.625C10.949 40.6276 11.2867 40.5748 11.6093 40.4687L15.4062 39.1875C16.0617 39.6231 16.7456 40.0146 17.4531 40.3593L18.25 44.2968C18.3929 45.0162 18.7842 45.6624 19.3555 46.1223C19.9268 46.5822 20.6417 46.8265 21.375 46.8125H28.75C29.4833 46.8265 30.1981 46.5822 30.7694 46.1223C31.3407 45.6624 31.7321 45.0162 31.875 44.2968L32.6718 40.3593C33.3844 40.0147 34.0735 39.6232 34.7343 39.1875L38.5156 40.4687C38.8382 40.5748 39.176 40.6276 39.5156 40.625C40.0636 40.6244 40.6018 40.4797 41.0763 40.2055C41.5507 39.9312 41.9447 39.5371 42.2187 39.0625L45.7812 32.8125C46.1459 32.1859 46.2814 31.4521 46.1646 30.7366C46.0477 30.0211 45.6857 29.3685 45.1406 28.8906L42.1875 26.1875ZM39.3906 37.5L34.0312 35.6875C32.7766 36.7501 31.3428 37.5808 29.7968 38.1406L28.6875 43.75H21.3125L20.2031 38.2031C18.6694 37.6274 17.2433 36.7982 15.9843 35.75L10.6093 37.5L6.92184 31.25L11.1718 27.5C10.8829 25.8826 10.8829 24.2267 11.1718 22.6093L6.92184 18.75L10.6093 12.5L15.9687 14.3125C17.2233 13.2498 18.6572 12.4191 20.2031 11.8593L21.3125 6.24996H28.6875L29.7968 11.7968C31.3306 12.3725 32.7567 13.2017 34.0156 14.25L39.3906 12.5L43.0781 18.75L38.8281 22.5C39.117 24.1174 39.117 25.7732 38.8281 27.3906L43.0781 31.25L39.3906 37.5Z",fill:"black"}),(0,ac.jsx)("path",{d:"M25 34.375C23.1458 34.375 21.3332 33.8252 19.7915 32.795C18.2498 31.7649 17.0482 30.3007 16.3386 28.5877C15.6291 26.8746 15.4434 24.9896 15.8051 23.171C16.1669 21.3525 17.0598 19.682 18.3709 18.3709C19.682 17.0598 21.3525 16.1669 23.171 15.8051C24.9896 15.4434 26.8746 15.6291 28.5877 16.3386C30.3007 17.0482 31.7649 18.2498 32.795 19.7915C33.8252 21.3332 34.375 23.1458 34.375 25C34.3875 26.2346 34.1536 27.4594 33.6869 28.6024C33.2202 29.7455 32.5301 30.784 31.6571 31.6571C30.784 32.5301 29.7455 33.2202 28.6024 33.6869C27.4594 34.1536 26.2346 34.3875 25 34.375V34.375ZM25 18.75C24.174 18.7308 23.3526 18.8793 22.5857 19.1866C21.8187 19.4938 21.122 19.9535 20.5377 20.5377C19.9535 21.122 19.4938 21.8187 19.1866 22.5857C18.8793 23.3526 18.7308 24.174 18.75 25C18.7308 25.826 18.8793 26.6474 19.1866 27.4144C19.4938 28.1813 19.9535 28.878 20.5377 29.4623C21.122 30.0465 21.8187 30.5062 22.5857 30.8135C23.3526 31.1207 24.174 31.2692 25 31.25C25.826 31.2692 26.6474 31.1207 27.4144 30.8135C28.1813 30.5062 28.878 30.0465 29.4623 29.4623C30.0465 28.878 30.5062 28.1813 30.8135 27.4144C31.1207 26.6474 31.2692 25.826 31.25 25C31.2692 24.174 31.1207 23.3526 30.8135 22.5857C30.5062 21.8187 30.0465 21.122 29.4623 20.5377C28.878 19.9535 28.1813 19.4938 27.4144 19.1866C26.6474 18.8793 25.826 18.7308 25 18.75Z",fill:"black"})]})})},wm=function(e){var t=e.action,n=e.state,r=e.active;return(0,ac.jsx)(Up,{width:30,height:30,action:t,active:r,opacity:.5,children:n?(0,ac.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsxs)("g",{clipPath:"url(#clip0_146_87)",children:[(0,ac.jsx)("path",{d:"M10.9375 20.375C11.3519 20.375 11.7493 20.5396 12.0424 20.8326C12.3354 21.1257 12.5 21.5231 12.5 21.9375V25.0625C12.5 28.3777 13.817 31.5571 16.1612 33.9013C18.5054 36.2455 21.6848 37.5625 25 37.5625C28.3152 37.5625 31.4946 36.2455 33.8388 33.9013C36.183 31.5571 37.5 28.3777 37.5 25.0625V21.9375C37.5 21.5231 37.6646 21.1257 37.9576 20.8326C38.2507 20.5396 38.6481 20.375 39.0625 20.375C39.4769 20.375 39.8743 20.5396 40.1674 20.8326C40.4604 21.1257 40.625 21.5231 40.625 21.9375V25.0625C40.625 28.936 39.1863 32.6715 36.5879 35.5442C33.9895 38.4169 30.4166 40.222 26.5625 40.6094V46.9375H35.9375C36.3519 46.9375 36.7493 47.1021 37.0424 47.3951C37.3354 47.6882 37.5 48.0856 37.5 48.5C37.5 48.9144 37.3354 49.3118 37.0424 49.6049C36.7493 49.8979 36.3519 50.0625 35.9375 50.0625H14.0625C13.6481 50.0625 13.2507 49.8979 12.9576 49.6049C12.6646 49.3118 12.5 48.9144 12.5 48.5C12.5 48.0856 12.6646 47.6882 12.9576 47.3951C13.2507 47.1021 13.6481 46.9375 14.0625 46.9375H23.4375V40.6094C19.5834 40.222 16.0105 38.4169 13.4121 35.5442C10.8137 32.6715 9.37495 28.936 9.375 25.0625V21.9375C9.375 21.5231 9.53962 21.1257 9.83265 20.8326C10.1257 20.5396 10.5231 20.375 10.9375 20.375Z",fill:"black"}),(0,ac.jsx)("path",{d:"M31.25 25C31.25 26.6576 30.5915 28.2473 29.4194 29.4194C28.2473 30.5915 26.6576 31.25 25 31.25C23.3424 31.25 21.7527 30.5915 20.5806 29.4194C19.4085 28.2473 18.75 26.6576 18.75 25V9.375C18.75 7.7174 19.4085 6.12769 20.5806 4.95558C21.7527 3.78348 23.3424 3.125 25 3.125C26.6576 3.125 28.2473 3.78348 29.4194 4.95558C30.5915 6.12769 31.25 7.7174 31.25 9.375V25ZM25 0C22.5136 0 20.129 0.98772 18.3709 2.74587C16.6127 4.50403 15.625 6.8886 15.625 9.375V25C15.625 27.4864 16.6127 29.871 18.3709 31.6291C20.129 33.3873 22.5136 34.375 25 34.375C27.4864 34.375 29.871 33.3873 31.6291 31.6291C33.3873 29.871 34.375 27.4864 34.375 25V9.375C34.375 6.8886 33.3873 4.50403 31.6291 2.74587C29.871 0.98772 27.4864 0 25 0V0Z",fill:"black"})]}),(0,ac.jsx)("defs",{children:(0,ac.jsx)("clipPath",{id:"clip0_146_87",children:(0,ac.jsx)("rect",{width:"50",height:"50",fill:"white"})})})]}):(0,ac.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsxs)("g",{clipPath:"url(#clip0_158_10)",children:[(0,ac.jsx)("path",{d:"M10.9375 20.375C11.3519 20.375 11.7493 20.5396 12.0424 20.8326C12.3354 21.1257 12.5 21.5231 12.5 21.9375V25.0625C12.5 28.3777 13.817 31.5571 16.1612 33.9013C18.5054 36.2455 21.6848 37.5625 25 37.5625C28.3152 37.5625 31.4946 36.2455 33.8388 33.9013C36.183 31.5571 37.5 28.3777 37.5 25.0625V21.9375C37.5 21.5231 37.6646 21.1257 37.9576 20.8326C38.2507 20.5396 38.6481 20.375 39.0625 20.375C39.4769 20.375 39.8743 20.5396 40.1674 20.8326C40.4604 21.1257 40.625 21.5231 40.625 21.9375V25.0625C40.625 28.936 39.1863 32.6715 36.5879 35.5442C33.9895 38.4169 30.4166 40.222 26.5625 40.6094V46.9375H35.9375C36.3519 46.9375 36.7493 47.1021 37.0424 47.3951C37.3354 47.6882 37.5 48.0856 37.5 48.5C37.5 48.9144 37.3354 49.3118 37.0424 49.6049C36.7493 49.8979 36.3519 50.0625 35.9375 50.0625H14.0625C13.6481 50.0625 13.2507 49.8979 12.9576 49.6049C12.6646 49.3118 12.5 48.9144 12.5 48.5C12.5 48.0856 12.6646 47.6882 12.9576 47.3951C13.2507 47.1021 13.6481 46.9375 14.0625 46.9375H23.4375V40.6094C19.5834 40.222 16.0105 38.4169 13.4121 35.5442C10.8137 32.6715 9.37495 28.936 9.375 25.0625V21.9375C9.375 21.5231 9.53962 21.1257 9.83265 20.8326C10.1257 20.5396 10.5231 20.375 10.9375 20.375Z",fill:"black"}),(0,ac.jsx)("path",{d:"M31.25 25C31.25 26.6576 30.5915 28.2473 29.4194 29.4194C28.2473 30.5915 26.6576 31.25 25 31.25C23.3424 31.25 21.7527 30.5915 20.5806 29.4194C19.4085 28.2473 18.75 26.6576 18.75 25V9.375C18.75 7.7174 19.4085 6.12769 20.5806 4.95558C21.7527 3.78348 23.3424 3.125 25 3.125C26.6576 3.125 28.2473 3.78348 29.4194 4.95558C30.5915 6.12769 31.25 7.7174 31.25 9.375V25ZM25 0C22.5136 0 20.129 0.98772 18.3709 2.74587C16.6127 4.50403 15.625 6.8886 15.625 9.375V25C15.625 27.4864 16.6127 29.871 18.3709 31.6291C20.129 33.3873 22.5136 34.375 25 34.375C27.4864 34.375 29.871 33.3873 31.6291 31.6291C33.3873 29.871 34.375 27.4864 34.375 25V9.375C34.375 6.8886 33.3873 4.50403 31.6291 2.74587C29.871 0.98772 27.4864 0 25 0V0Z",fill:"black"}),(0,ac.jsx)("rect",{x:"4",y:"2.82861",width:"4",height:"53",rx:"2",transform:"rotate(-45 4 2.82861)",fill:"black"})]}),(0,ac.jsx)("defs",{children:(0,ac.jsx)("clipPath",{id:"clip0_158_10",children:(0,ac.jsx)("rect",{width:"50",height:"50",fill:"white"})})})]})})},xm=function(e){var t=e.action,n=e.state,r=e.active;return(0,ac.jsx)(Up,{width:30,height:30,action:t,active:r,opacity:.5,children:n?(0,ac.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M36.7188 10.1562C42.9688 13.2812 46.0938 17.9688 46.0938 25C46.0938 32.0312 42.9688 36.7188 36.7188 39.8438M5.46875 17.9688V32.0312H13.2812L25.7812 41.4062V8.59375L13.2812 17.9688H5.46875ZM33.5938 19.5312C33.5938 19.5312 36.7188 21.0938 36.7188 25C36.7188 28.9062 33.5938 30.4688 33.5938 30.4688V19.5312Z",stroke:"black",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,ac.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M36.7188 10.1562C42.9688 13.2812 46.0938 17.9688 46.0938 25C46.0938 32.0312 42.9688 36.7188 36.7188 39.8438M5.46875 17.9688V32.0312H13.2812L25.7812 41.4062V8.59375L13.2812 17.9688H5.46875ZM33.5938 19.5312C33.5938 19.5312 36.7188 21.0938 36.7188 25C36.7188 28.9062 33.5938 30.4688 33.5938 30.4688V19.5312Z",stroke:"black",strokeWidth:"3.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ac.jsx)("rect",{x:"6",y:"7.82861",width:"4",height:"53",rx:"2",transform:"rotate(-45 6 7.82861)",fill:"black"})]})})},Sm=function(e){var t=e.action,n=e.state,r=e.active;return(0,ac.jsx)(Up,{action:t,width:30,height:30,active:r,opacity:.5,children:n?(0,ac.jsx)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M35.4168 6.25H45.8334V16.6667M27.0834 6.25H8.33342C7.22835 6.25 6.16854 6.68899 5.38714 7.47039C4.60573 8.25179 4.16675 9.3116 4.16675 10.4167V31.25C4.16675 32.3551 4.60573 33.4149 5.38714 34.1963C6.16854 34.9777 7.22835 35.4167 8.33342 35.4167H41.6668C42.7718 35.4167 43.8316 34.9777 44.613 34.1963C45.3944 33.4149 45.8334 32.3551 45.8334 31.25V25L27.0834 6.25ZM16.6667 43.75H33.3334H16.6667ZM25.0001 35.4167V43.75V35.4167ZM35.4168 16.6667L45.8334 6.25L35.4168 16.6667Z",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})}):(0,ac.jsxs)("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M35.4168 6.25H45.8334V16.6667M27.0834 6.25H8.33342C7.22835 6.25 6.16854 6.68899 5.38714 7.47039C4.60573 8.25179 4.16675 9.3116 4.16675 10.4167V31.25C4.16675 32.3551 4.60573 33.4149 5.38714 34.1963C6.16854 34.9777 7.22835 35.4167 8.33342 35.4167H41.6668C42.7718 35.4167 43.8316 34.9777 44.613 34.1963C45.3944 33.4149 45.8334 32.3551 45.8334 31.25V25L27.0834 6.25ZM16.6667 43.75H33.3334H16.6667ZM25.0001 35.4167V43.75V35.4167ZM35.4168 16.6667L45.8334 6.25L35.4168 16.6667Z",stroke:"black",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,ac.jsx)("rect",{x:"1",y:"5.82861",width:"4",height:"53",rx:"2",transform:"rotate(-45 1 5.82861)",fill:"black"})]})})},_m=function(e){var t=e.active;return(0,ac.jsx)("div",{style:{width:40,height:40,padding:"5px 0 0 5px",opacity:t?1:.2},children:(0,ac.jsx)("svg",{style:{width:"100%",height:"100%",objectFit:"cover"},width:"47",height:"47",viewBox:"0 0 47 47",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M43.6632 0.195488C20.1196 1.26645 1.21983 20.4211 0.454645 43.9675C0.425855 44.853 1.14181 45.5776 2.02773 45.5684L6.73764 45.5192C7.58282 45.511 8.26967 44.8333 8.30079 43.9885C9.0209 24.6761 24.4809 9.01032 43.7865 8.04001C44.6308 7.99794 45.2989 7.30168 45.2968 6.45715L45.285 1.747C45.282 0.861734 44.5482 0.155226 43.6632 0.195488ZM35.7586 35.6049C33.3334 38.0617 33.3591 42.0183 35.8159 44.4435C38.2727 46.8687 42.2294 46.843 44.6545 44.3862C47.0797 41.9294 47.0541 37.9728 44.5973 35.5476C42.1405 33.1224 38.1838 33.148 35.7586 35.6049ZM43.8533 15.7848C28.8618 16.8024 16.8671 28.9688 16.0451 43.9556C15.9957 44.8537 16.7166 45.5955 17.6149 45.5834L22.3399 45.5217C23.163 45.5109 23.8535 44.867 23.9082 44.0442C24.624 33.2311 33.2649 24.4997 44.043 23.6468C44.865 23.5814 45.5006 22.8833 45.5001 22.0595L45.5006 17.334C45.5017 16.4349 44.7492 15.7237 43.8533 15.7848V15.7848Z",fill:"black"})})})},km=function(e){var t=e.thumbnail,n=e.id,r=e.name,a=e.action,i=Gs(),o=b(ec),s=b(Js),c=function(e){i.start({backgroundColor:e})};return(0,ac.jsxs)($s.div,{onClick:function(){a(n)},animate:i,style:{backgroundColor:s},transition:{duration:.2},onMouseOver:function(){c(o)},onMouseOut:function(){c(s)},className:"screen-button-container",children:[(0,ac.jsx)(Gl,{image:t,objectFit:"contain"}),(0,ac.jsx)("p",{children:r})]})},Cm=function(){var e=T(),t=b(wv),n=b(ec),r=b(Js),a=function(t){e(kv(t))};return(0,ac.jsxs)($s.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},style:{backgroundColor:r,border:"solid 4px ".concat(n)},className:"screen-share-menu",children:[(0,ac.jsx)("h3",{children:"Select Screen To Share"}),t.map((function(e){return(0,ac.jsx)(km,{action:a,id:e.id,name:e.name,thumbnail:e.thumbnail},e.id)}))]})},Pm=function(){var e=T(),n=ue(),r=b(gv),a=b(mv),i=b(yv),o=b(bv),s=b(hh),c=b(Sv),u=function(t){null!==s&&(e(th("controlSoundEffect")),e(Rv(t)),"audioState"===t&&!0===a&&e(Rv("microphoneState")),"microphoneState"===t&&!1===i&&e(Rv("audioState")))};return t.useEffect((function(){e(Pv())}),[s]),(0,ac.jsxs)(ac.Fragment,{children:[c?(0,ac.jsx)(Cm,{}):null,(0,ac.jsxs)("div",{className:"control-bar-container",children:[(0,ac.jsx)(bm,{action:function(){var e=window.location.hash.split("#")[1];-1===e.search("/appsettings")?e.includes("server-settings")?n(e.split("/server-settings")[0]+"/appsettings/account"):n(e+"/appsettings/account"):n(e.split("/appsettings")[0])}}),(0,ac.jsxs)("div",{className:"controls-wrapper",children:[(0,ac.jsx)(ym,{action:function(){u("webCamState")},state:r,active:null===s}),(0,ac.jsx)(wm,{action:function(){u("microphoneState")},state:a,active:null===s}),(0,ac.jsx)(xm,{action:function(){u("audioState")},state:i,active:null===s}),(0,ac.jsx)(Sm,{action:function(){u("screenShareState")},state:o,active:null===s})]}),(0,ac.jsx)(_m,{active:null!==s})]})]})},Rm=function(e){var t=e.action,n=e.active;return(0,ac.jsx)(Up,{active:n,action:t,children:(0,ac.jsx)("svg",{width:"30",height:"30",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,ac.jsx)("path",{d:"M44.4141 41.7236L31.7334 29.043C33.7012 26.499 34.7656 23.3887 34.7656 20.1172C34.7656 16.2012 33.2373 12.5293 30.4736 9.76074C27.71 6.99219 24.0283 5.46875 20.1172 5.46875C16.2061 5.46875 12.5244 6.99707 9.76074 9.76074C6.99219 12.5244 5.46875 16.2012 5.46875 20.1172C5.46875 24.0283 6.99707 27.71 9.76074 30.4736C12.5244 33.2422 16.2012 34.7656 20.1172 34.7656C23.3887 34.7656 26.4941 33.7012 29.0381 31.7383L41.7188 44.4141C41.7559 44.4513 41.8001 44.4808 41.8487 44.5009C41.8973 44.5211 41.9494 44.5314 42.002 44.5314C42.0546 44.5314 42.1066 44.5211 42.1552 44.5009C42.2038 44.4808 42.248 44.4513 42.2852 44.4141L44.4141 42.29C44.4513 42.2529 44.4808 42.2087 44.5009 42.1601C44.5211 42.1115 44.5314 42.0594 44.5314 42.0068C44.5314 41.9542 44.5211 41.9022 44.5009 41.8536C44.4808 41.805 44.4513 41.7608 44.4141 41.7236ZM27.8516 27.8516C25.7813 29.917 23.0371 31.0547 20.1172 31.0547C17.1973 31.0547 14.4531 29.917 12.3828 27.8516C10.3174 25.7813 9.17969 23.0371 9.17969 20.1172C9.17969 17.1973 10.3174 14.4482 12.3828 12.3828C14.4531 10.3174 17.1973 9.17969 20.1172 9.17969C23.0371 9.17969 25.7861 10.3125 27.8516 12.3828C29.917 14.4531 31.0547 17.1973 31.0547 20.1172C31.0547 23.0371 29.917 25.7861 27.8516 27.8516Z",fill:"black",fillOpacity:"0.54"})})})},Em=function(e){var t=e.action,n=e.active;return(0,ac.jsx)(Up,{active:n,borderRadius:"0%",action:t,children:(0,ac.jsxs)("svg",{width:"30",height:"30",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{d:"M41.6665 6.25H8.33317C7.2281 6.25 6.16829 6.68899 5.38689 7.47039C4.60549 8.25179 4.1665 9.3116 4.1665 10.4167V18.75C4.1665 19.8551 4.60549 20.9149 5.38689 21.6963C6.16829 22.4777 7.2281 22.9167 8.33317 22.9167H41.6665C42.7716 22.9167 43.8314 22.4777 44.6128 21.6963C45.3942 20.9149 45.8332 19.8551 45.8332 18.75V10.4167C45.8332 9.3116 45.3942 8.25179 44.6128 7.47039C43.8314 6.68899 42.7716 6.25 41.6665 6.25ZM8.33317 18.75V10.4167H41.6665V18.75H8.33317ZM41.6665 27.0833H8.33317C7.2281 27.0833 6.16829 27.5223 5.38689 28.3037C4.60549 29.0851 4.1665 30.1449 4.1665 31.25V39.5833C4.1665 40.6884 4.60549 41.7482 5.38689 42.5296C6.16829 43.311 7.2281 43.75 8.33317 43.75H41.6665C42.7716 43.75 43.8314 43.311 44.6128 42.5296C45.3942 41.7482 45.8332 40.6884 45.8332 39.5833V31.25C45.8332 30.1449 45.3942 29.0851 44.6128 28.3037C43.8314 27.5223 42.7716 27.0833 41.6665 27.0833ZM8.33317 39.5833V31.25H41.6665V39.5833H8.33317Z",fill:"black",fillOpacity:"0.6"}),(0,ac.jsx)("path",{d:"M35.4165 12.5H39.5832V16.6667H35.4165V12.5ZM29.1665 12.5H33.3332V16.6667H29.1665V12.5ZM35.4165 33.3333H39.5832V37.5H35.4165V33.3333ZM29.1665 33.3333H33.3332V37.5H29.1665V33.3333Z",fill:"black",fillOpacity:"0.6"})]})})},jm=function(e){var t=e.toggle_1,n=e.toggle_2,r=e.toggle_1_state,a=e.toggle_2_state;return(0,ac.jsxs)("div",{className:"server-select-nav-bar-container",children:[(0,ac.jsx)(Em,{active:r,action:t}),(0,ac.jsx)(Rm,{active:a,action:n})]})},Tm=function(e){e._id;var t=e.action,n=e.server_banner,r=e.server_name,a=e.server_id,i=Gs(),o=b(Xs),s=b(ec),c=b(tc),u=function(e){i.start({border:"4px solid ".concat(e)})};return(0,ac.jsxs)($s.div,{animate:i,style:{width:"calc(100% - 28px - 8px)",height:"calc(130px - 8px)",backgroundColor:o,borderRadius:15,display:"flex",alignItems:"center",margin:"10px 0 0 0",justifyContent:"space-around",cursor:"pointer",padding:"0 14px",border:"solid 4px rgba(255, 255, 255, 0)"},onMouseEnter:function(){u(s)},onMouseLeave:function(){u("rgba(255, 255, 255, 0)")},onMouseDown:function(){u(c)},onMouseUp:function(){u(s)},transition:{duration:.1},onClick:function(){t(a,r)},children:[(0,ac.jsx)("div",{style:{width:100,height:100,borderRadius:"50%",overflow:"hidden",flexShrink:0,marginRight:10},children:(0,ac.jsx)(Gl,{image:n})}),(0,ac.jsx)(cm,{textAlign:"start",title:r})]})},Om=function(e){var t=e.selectServer,n=e.serverList,r=void 0===n?[]:n,a=e.loading,i=void 0===a||a,o=e.animation,s=e.noresults,c=void 0===s?"No Joined Servers":s;return(0,ac.jsx)($s.div,{animate:o,className:"server-list-container",children:i?(0,ac.jsx)(mc,{}):0===r.length?(0,ac.jsx)("p",{className:"no-joined-servers",children:c}):r.map((function(e){return(0,ac.jsx)(Tm,(0,Du.Z)({action:t},e),e._id)}))})},Mm=function(){var e=L(t.useState(!1),2),n=e[0],r=e[1],a=L(t.useState(!0),2),i=a[0],o=a[1],s=T(),c=ue(),u=b(Kd),l=b(Gd),d=b($d),f=b(Zd),p=b(Yd);t.useEffect((function(){s(Tu("Select Server")),s(Jd("Servers"))}),[]);return(0,ac.jsxs)("div",{className:"side-bar-inner-container",children:[(0,ac.jsx)(jm,{toggle_1_state:i,toggle_2_state:n,toggle_1:function(){!0===n&&(r(!1),o(!0))},toggle_2:function(){!1===n&&(r(!0),o(!1))}}),(0,ac.jsx)(hc,{children:(0,ac.jsxs)("div",{className:"server-list-outer-wrapper",children:[i?(0,ac.jsx)($s.div,{initial:{translateX:"-100%"},animate:{translateX:"0%"},exit:{translateX:"-100%"},className:"server-list-wrapper",children:(0,ac.jsx)(Om,{selectServer:function(e,t){s(Ah(e)),s(Dh(t)),c("/dashboard/server/".concat(t))},serverList:u,loading:l})},"server-select"):null,n?(0,ac.jsxs)($s.div,{initial:{translateX:"100%"},animate:{translateX:"0%"},exit:{translateX:"100%"},className:"server-list-wrapper",children:[(0,ac.jsx)(oc,{keyCode:function(e){13===e&&s(Wd({value:p}))},action:function(e){s(ef(e))},inputValue:p,marginTop:"2%",placeholder:"Server Name"}),(0,ac.jsx)(Om,{selectServer:function(e){var t=d.findIndex((function(t){return t.server_id===e}));-1!==t&&(c("/dashboard/join-server/".concat(d[t].server_name)),s(nm(d[t])))},noresults:"",loading:f,serverList:d})]},"server-list"):null]})})]})},Lm=function(){return le([{path:"/",element:(0,ac.jsx)(Mm,{})},{path:"/join-server/:id",element:(0,ac.jsx)(Mm,{})},{path:"/createserver",element:(0,ac.jsx)(Mm,{})}])},Dm=(0,bc.createSlice)({name:"appSettingsMenuSlice",initialState:{settings:[{name:"Account",link:"account"},{name:"Appearance",link:"appearance"},{name:"Key Bindings",link:"keybindings"},{name:"Voice / Video",link:"voice-video"}]}}),Am=function(e){return e.appSettingsMenuSlice.settings},Im=Dm.reducer,Nm=function(){var e=ue(),n=Gs(),r=T(),a=b(Js),i=b(Am);t.useEffect((function(){return r(Jd("Settings")),n.start({left:"0",opacity:1}),function(){r(Jd(""))}}),[]);var o=function(t){var n=window.location.hash.split("appsettings/")[0].split("#")[1];e(n+"appsettings/".concat(t))};return(0,ac.jsx)($s.div,{initial:{left:"-100%",opacity:0},animate:n,style:{backgroundColor:a},className:"app-settings-menu",children:(0,ac.jsxs)("div",{className:"inner-app-settings-container",children:[(0,ac.jsx)("div",{className:"setting-buttons-wrapper",children:i.map((function(e,t){return(0,ac.jsx)(ih,{action:o,name:e.name,link:e.link,active:-1!==window.location.hash.search(e.link)},e.name)}))}),(0,ac.jsx)(ih,{action:function(){Cc(),r(_u()),r(Nc()),e("/signin")},name:"Log Out",link:"log-out"})]})})},Fm=function(){return le([{path:"createserver/appsettings/*",element:(0,ac.jsx)(Nm,{})},{path:"server/:id/appsettings/*",element:(0,ac.jsx)(Nm,{})},{path:"join-server/:id/appsettings/*",element:(0,ac.jsx)(Nm,{})},{path:"server/:id/create-channel-menu/appsettings/*",element:(0,ac.jsx)(Nm,{})},{path:"server/:id/channel/:id/create-channel-menu/appsettings/*",element:(0,ac.jsx)(Nm,{})},{path:"server/:id/channel/:id/appsettings/*",element:(0,ac.jsx)(Nm,{})},{path:"server/:id/channel/:id/server-settings/:id/appsettings/*",element:(0,ac.jsx)(Nm,{})},{path:"server/:id/server-settings/:id/appsettings/*",element:(0,ac.jsx)(Nm,{})},{path:"appsettings/*",element:(0,ac.jsx)(Nm,{})}])},Bm=function(){var e=b(ec),t=ue();return(0,ac.jsx)("div",{onClick:function(){t("/dashboard/createserver")},style:{backgroundColor:e},className:"create-server-button-container",children:(0,ac.jsx)("h3",{children:"Create Server"})})},Vm=function(){return le([{path:"/",element:(0,ac.jsx)(Bm,{})}])},zm=function(){var e=T(),n=b(Js);return t.useEffect((function(){e(Hd())}),[]),(0,ac.jsxs)($s.div,{style:{backgroundColor:n},className:"side-bar-container",children:[(0,ac.jsx)(gm,{}),(0,ac.jsxs)("div",{className:"inner-side-bar-container",children:[(0,ac.jsx)(Lm,{}),(0,ac.jsx)(lh,{}),(0,ac.jsx)(Fm,{})]}),(0,ac.jsx)(Pm,{}),(0,ac.jsx)(Vm,{})]})},Um=function(){var e=T(),n=b(Xs);return t.useEffect((function(){return document.getElementById("application-title").style.opacity=0,e(Tu("Select Server")),function(){document.getElementById("application-title").style.opacity=1}}),[]),(0,ac.jsxs)("div",{style:{backgroundColor:n},className:"home-container",children:[(0,ac.jsx)(zm,{}),(0,ac.jsx)(um,{}),(0,ac.jsx)(vm,{})]})},Hm=(0,bc.createAsyncThunk)("signUpSlice/handleSignUp",function(){var e=s(i().mark((function e(t,n){var r,a,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=n.rejectWithValue,!((o=r().signUpSlice).username.length<1)){e.next=4;break}return e.abrupt("return",a({error:!0,errorMessage:"User Name Input Cannot Be Empty"}));case 4:if(!(o.email.length<1)){e.next=6;break}return e.abrupt("return",a({error:!0,errorMessage:"Email Input Cannot Be Empty"}));case 6:if(o.email.includes("@")){e.next=8;break}return e.abrupt("return",a({error:!0,errorMessage:"Invalid Email"}));case 8:if(!(o.password.length<1)){e.next=10;break}return e.abrupt("return",a({error:!0,errorMessage:"Password Input Cannot Be Empty"}));case 10:if(o.password===o.confirmPassword){e.next=12;break}return e.abrupt("return",a({error:!0,errorMessage:"Passwords Do Not Match"}));case 12:return e.next=14,xc()({url:"".concat(Sc,"/sign-up"),method:"POST",data:{username:o.username,email:o.email,password:o.password,confirmPassword:o.confirmPassword}}).then((function(e){return e.data.error?a(e.data):e.data}));case 14:return s=e.sent,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Wm=(0,bc.createSlice)({name:"signUpSlice",initialState:{username:"",email:"",password:"",confirmPassword:"",loading:!1,error:!1,errorMessage:"",signedUp:!1},reducers:{handleSignUpInput:function(e,t){e[t.payload.state]=t.payload.value},closeSignUpError:function(e,t){e.error=!1}},extraReducers:(Bp={},(0,Bt.Z)(Bp,Hm.pending,(function(e,t){e.loading=!0})),(0,Bt.Z)(Bp,Hm.fulfilled,(function(e,t){e.loading=!1,t.payload.success&&(kc(t.payload.token),window.location.hash="/",e.signedUp=!e.signedUp)})),(0,Bt.Z)(Bp,Hm.rejected,(function(e,t){e.loading=!1,e.error=t.payload.error,e.errorMessage=t.payload.errorMessage})),Bp)}),qm=function(e){return e.signUpSlice.signedUp},Zm=function(e){return e.signUpSlice.username},$m=function(e){return e.signUpSlice.emaill},Km=function(e){return e.signUpSlice.password},Gm=function(e){return e.signUpSlice.confirmPassword},Qm=function(e){return e.signUpSlice.loading},Ym=function(e){return e.signUpSlice.error},Xm=function(e){return e.signUpSlice.errorMessage},Jm=Wm.actions,eg=Jm.handleSignUpInput,tg=Jm.closeSignUpError,ng=Wm.reducer,rg=function(){var e=ue(),t=T(),n=b(Qm),r=b(Ym),a=b(Xm),i=b(Zm),o=b($m),s=b(Km),c=b(Gm),u=b(Js),l=function(e,n){t(eg({value:e,state:n}))};return(0,ac.jsx)("div",{className:"sign-in-outer-container",children:(0,ac.jsxs)("div",{style:{backgroundColor:u},className:"sign-in-inner-container",children:[(0,ac.jsxs)("div",{className:"content-wrapper",children:[(0,ac.jsx)("h2",{children:"Sign Up"}),(0,ac.jsx)(oc,{value:i,action:l,stateSelector:"username",marginBottom:"2%",placeholder:"Username"}),(0,ac.jsx)(oc,{value:o,action:l,stateSelector:"email",marginBottom:"2%",placeholder:"E Mail"}),(0,ac.jsx)(oc,{value:s,action:l,stateSelector:"password",marginBottom:"2%",placeholder:"Password",type:"password"}),(0,ac.jsx)(oc,{value:c,action:l,stateSelector:"confirmPassword",marginBottom:"2%",placeholder:"Confirm Password",type:"password"}),(0,ac.jsx)(ic,{action:function(){t(Hm())},name:"Create Account"}),(0,ac.jsx)(Lu,{title:"Already have an account?"}),(0,ac.jsx)(ic,{action:function(){e("/signin")},name:"Sign In"})]}),(0,ac.jsxs)(hc,{children:[r?(0,ac.jsx)(vc,{action:function(){t(tg())},errorMessage:a,buttonLabel:"Ok"}):null,n?(0,ac.jsx)(mc,{}):null]})]})})},ag=function(e){var t=e.percent,n=void 0===t?0:t;return(0,ac.jsx)("div",{className:"loading-bar-container",children:(0,ac.jsx)("progress",{max:"100",value:"".concat(n)})})},ig=function(){var e=T(),t=b(Js),n=b(ou),r=b(iu),a=b(ru),i=b(au);return(0,ac.jsx)("div",{className:"loading-app-outer-container",children:(0,ac.jsxs)("div",{style:{backgroundColor:t},className:"loading-app-inner-container",children:[(0,ac.jsxs)("div",{className:"content-wrapper",children:[(0,ac.jsx)("h1",{children:n}),(0,ac.jsxs)("h1",{children:[r," %"]}),(0,ac.jsx)(ag,{percent:r})]}),(0,ac.jsx)(hc,{children:a?(0,ac.jsx)(vc,{errorMessage:i,buttonLabel:"Retry",action:function(){e(eu())}}):null})]})})},og=function(){var e=b(Js);return(0,ac.jsx)("div",{className:"sign-in-outer-container",children:(0,ac.jsx)("div",{style:{backgroundColor:e},className:"sign-in-inner-container",children:(0,ac.jsxs)("div",{className:"content-wrapper",children:[(0,ac.jsx)("h2",{style:{marginTop:0,paddingTop:0},className:"sign-in-header",children:"Verification"}),(0,ac.jsx)(oc,{marginBottom:"2%",placeholder:"Verification Code"}),(0,ac.jsx)(ic,{name:"Verify"}),(0,ac.jsx)(yc,{}),(0,ac.jsx)(ic,{name:"Re Send"})]})})})},sg=function(){var e=b(Js);return(0,ac.jsx)("div",{className:"disconnected-outer-container",children:(0,ac.jsx)("div",{style:{backgroundColor:e},className:"disconnected-inner-container",children:(0,ac.jsxs)("div",{className:"disconnected-content-wrapper",children:[(0,ac.jsxs)("svg",{width:"150",height:"150",viewBox:"0 0 150 150",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("g",{clipPath:"url(#clip0_422_20)",children:(0,ac.jsx)("path",{d:"M143.51 0.000122264C142.217 0.139051 141.01 0.710292 140.083 1.62128L130.529 11.1751C117.813 2.00205 100.177 3.64628 88.3384 14.9655C88.3384 15.404 83.4057 20.2155 78.9692 24.5194L73.373 18.929C72.7782 18.2955 72.0479 17.8046 71.2367 17.4929C70.4255 17.1812 69.5544 17.0568 68.6884 17.129C68.4445 17.173 68.2036 17.2328 67.9673 17.3078C66.9115 17.4989 65.9299 17.9806 65.1328 18.6988C64.3357 19.417 63.7547 20.3433 63.455 21.3735C63.1554 22.4038 63.1489 23.4972 63.4365 24.5309C63.724 25.5645 64.2941 26.4976 65.0827 27.2251L78.2423 40.3847L59.3192 59.3136C58.7745 59.8579 58.3423 60.5043 58.0473 61.2156C57.7524 61.927 57.6004 62.6895 57.6002 63.4596C57.5999 64.2297 57.7513 64.9923 58.0458 65.7039C58.3402 66.4155 58.772 67.0621 59.3163 67.6069C59.8607 68.1516 60.507 68.5838 61.2184 68.8787C61.9297 69.1737 62.6923 69.3256 63.4624 69.3259C64.2325 69.3262 64.9951 69.1747 65.7066 68.8803C66.4182 68.5858 67.0648 68.1541 67.6096 67.6097L86.5384 48.6809L101.325 63.4617L82.3904 82.3905C81.2902 83.4906 80.6722 84.9828 80.6722 86.5386C80.6722 88.0944 81.2902 89.5865 82.3904 90.6867C83.4905 91.7868 84.9826 92.4048 86.5384 92.4048C88.0943 92.4048 89.5864 91.7868 90.6865 90.6867L109.615 71.7578L122.775 84.9117C123.319 85.4564 123.966 85.8886 124.677 86.1835C125.388 86.4785 126.151 86.6304 126.921 86.6307C127.691 86.631 128.454 86.4795 129.165 86.1851C129.877 85.8906 130.524 85.4589 131.068 84.9146C131.613 84.3702 132.045 83.7239 132.34 83.0125C132.635 82.3011 132.787 81.5386 132.787 80.7685C132.788 79.9984 132.636 79.2358 132.342 78.5242C132.047 77.8126 131.615 77.166 131.071 76.6213L125.481 71.0309L135.035 61.6617C146.342 50.354 147.49 32.7694 138.64 19.6501L148.385 9.9232C149.296 9.07949 149.911 7.96421 150.137 6.74315C150.364 5.52209 150.191 4.26045 149.643 3.14576C149.096 2.03107 148.203 1.12286 147.098 0.556123C145.993 -0.0106112 144.734 -0.205607 143.51 0.000122264ZM22.5346 63.2828C22.2906 63.3269 22.0497 63.3866 21.8134 63.4617C20.7576 63.6527 19.7761 64.1344 18.979 64.8527C18.1819 65.5709 17.6008 66.4971 17.3012 67.5274C17.0015 68.5576 16.9951 69.651 17.2826 70.6847C17.5701 71.7184 18.1402 72.6514 18.9288 73.379L24.5192 78.9694L14.9654 88.3386C3.65766 99.6463 2.50959 117.231 11.3596 130.35L1.61535 140.077C1.06986 140.623 0.637157 141.27 0.341939 141.983C0.0467219 142.696 -0.105225 143.459 -0.105225 144.231C-0.105225 145.002 0.0467219 145.766 0.341939 146.479C0.637157 147.192 1.06986 147.839 1.61535 148.385C2.16085 148.93 2.80844 149.363 3.52116 149.658C4.23387 149.953 4.99776 150.105 5.7692 150.105C6.54064 150.105 7.30453 149.953 8.01725 149.658C8.72996 149.363 9.37756 148.93 9.92305 148.385L19.4769 138.825C32.1923 148.01 49.8288 146.36 61.6673 135.041C61.6673 134.602 66.6 129.791 71.0365 125.487L76.6327 131.077C77.1774 131.621 77.824 132.053 78.5356 132.348C79.2472 132.642 80.0098 132.793 80.7799 132.793C81.55 132.793 82.3125 132.641 83.0239 132.346C83.7353 132.051 84.3816 131.619 84.9259 131.074C85.4703 130.529 85.902 129.883 86.1965 129.171C86.4909 128.46 86.6423 127.697 86.6421 126.927C86.6418 126.157 86.4899 125.394 86.1949 124.683C85.9 123.972 85.4678 123.325 84.923 122.781L27.2307 65.0886C26.6352 64.4543 25.904 63.9629 25.0918 63.6512C24.2795 63.3395 23.4073 63.2155 22.5404 63.2886L22.5346 63.2828Z",fill:"black"})}),(0,ac.jsx)("defs",{children:(0,ac.jsx)("clipPath",{id:"clip0_422_20",children:(0,ac.jsx)("rect",{width:"150",height:"150",fill:"white"})})})]}),(0,ac.jsx)("h1",{children:"Connection Lost"}),(0,ac.jsx)($s.div,{style:{width:80,height:80},animate:{rotate:["0deg","360deg"]},transition:{ease:"linear",duration:"1",repeat:1/0},children:(0,ac.jsxs)("svg",{style:{width:"100%",height:"100%",objectFit:"cover"},viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,ac.jsx)("path",{opacity:"0.5",d:"M24.9998 4.16675C20.8794 4.16675 16.8515 5.3886 13.4255 7.6778C9.99944 9.96699 7.32918 13.2207 5.75236 17.0275C4.17553 20.8343 3.76296 25.0232 4.56682 29.0645C5.37068 33.1057 7.35486 36.8179 10.2685 39.7315C13.182 42.6451 16.8942 44.6292 20.9355 45.4331C24.9767 46.237 29.1656 45.8244 32.9724 44.2476C36.7792 42.6707 40.0329 40.0005 42.3221 36.5745C44.6113 33.1484 45.8332 29.1205 45.8332 25.0001C45.8332 22.2642 45.2943 19.5551 44.2473 17.0275C43.2004 14.4999 41.6658 12.2032 39.7312 10.2687C37.7967 8.33414 35.5 6.79956 32.9724 5.75259C30.4448 4.70562 27.7357 4.16675 24.9998 4.16675V4.16675ZM24.9998 41.6667C21.7035 41.6667 18.4812 40.6893 15.7403 38.8579C12.9995 37.0265 10.8633 34.4236 9.60185 31.3781C8.34039 28.3327 8.01034 24.9816 8.65343 21.7486C9.29651 18.5156 10.8839 15.5458 13.2147 13.215C15.5456 10.8841 18.5153 9.29675 21.7483 8.65366C24.9814 8.01057 28.3325 8.34063 31.3779 9.60209C34.4233 10.8635 37.0263 12.9998 38.8577 15.7406C40.689 18.4814 41.6665 21.7037 41.6665 25.0001C41.6665 29.4204 39.9106 33.6596 36.785 36.7852C33.6594 39.9108 29.4201 41.6667 24.9998 41.6667V41.6667Z",fill:"white"}),(0,ac.jsx)("path",{d:"M41.6667 25.0001H45.8333C45.8333 22.2642 45.2945 19.5551 44.2475 17.0275C43.2005 14.4999 41.6659 12.2032 39.7314 10.2687C37.7968 8.33414 35.5002 6.79956 32.9726 5.75259C30.445 4.70562 27.7359 4.16675 25 4.16675V8.33341C29.4203 8.33341 33.6595 10.0894 36.7851 13.215C39.9107 16.3406 41.6667 20.5798 41.6667 25.0001Z",fill:"black"})]})})]})})})},cg=function(){return le([{path:"/dashboard/server/:id/create-channel-menu/disconnected/*",element:(0,ac.jsx)(sg,{})},{path:"/dashboard/server/:id/channel/:id/create-channel-menu/disconnected/*",element:(0,ac.jsx)(sg,{})},{path:"/dashboard/server/:id/channel/:id/disconnected/*",element:(0,ac.jsx)(sg,{})},{path:"/dashboard/server/:id/disconnected/*",element:(0,ac.jsx)(sg,{})},{path:"/dashboard/disconnected/*",element:(0,ac.jsx)(sg,{})}])},ug=(n(9726),(0,bc.createAsyncThunk)("appSlice/initializeApplication",function(){var e=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.rejectWithValue,e.abrupt("return",!0);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),lg=(0,bc.createSlice)({name:"appSlice",initialState:{loadingApp:!0,userSignedIn:!1},reducers:{incrementLoadingPercentage:function(e,t){}},extraReducers:(Vp={},(0,Bt.Z)(Vp,ug.pending,(function(e,t){})),(0,Bt.Z)(Vp,ug.fulfilled,(function(e,t){e.loadingApp=!1})),(0,Bt.Z)(Vp,ug.rejected,(function(e,t){})),Vp)}).reducer;var dg=function(){var e=T(),n=ue(),r=b(Xs),a=b(Lc),o=b(qm),c=b(nu);return t.useEffect((function(){n("/"),e(ug()),e(Jc({percent:10,state:"Fetching Media Devices"})),e(wd()),ad().then((function(t){od(t),e(vd(t))})),setTimeout(s(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Jc({percent:40,state:"Fetching Account"})),e(cu()),e(Jc({percent:60,state:"Loading Account Details"}));case 3:case"end":return t.stop()}}),t)}))),100)}),[a,c,o]),(0,ac.jsxs)("div",{style:{backgroundColor:r},className:"App",children:[(0,ac.jsx)(Kc,{}),(0,ac.jsx)(Uc,{}),(0,ac.jsx)(cg,{}),(0,ac.jsxs)(he,{children:[(0,ac.jsx)(fe,{path:"/",element:(0,ac.jsx)(ig,{})}),(0,ac.jsx)(fe,{path:"/dashboard/*",element:(0,ac.jsx)(Um,{},"dashboard")}),(0,ac.jsx)(fe,{path:"/signin",element:(0,ac.jsx)(Bc,{},"sign-in-screen")}),(0,ac.jsx)(fe,{path:"/signup",element:(0,ac.jsx)(rg,{})}),(0,ac.jsx)(fe,{path:"/verification",element:(0,ac.jsx)(og,{})})]})]})},fg=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))},pg=((0,bc.createAsyncThunk)("verificationSlice/handleVerificationCode",function(){var e=s(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.getState,n.rejectWithValue,r().verificationCode.verificationCode;case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,bc.createSlice)({name:"verificationSlice",initialState:{verificationCode:"",error:!1,errorMessage:"",loading:!1},reducers:{closeVerificationError:function(e,t){}},extraReducers:{}}).reducer),hg=(0,n(7881).configureStore)({reducer:{initializingAppScreenSlice:su,signInSlice:Fc,signUpSlice:ng,verificationSlice:pg,appSlice:lg,contentScreenSlice:Ou,sideBarSlice:nf,controlBarSlice:jv,serverSlice:Uh,appSettingsMenuSlice:Im,appearanceSettingsSlice:rc,accountSettingsSlice:Pu,keyBindSettingsSlice:md,voiceVideoSettingsSlice:Ld,createServerSlice:tv,joinServerSlice:im,soundEffectsSlice:nh}});function vg(e){var n=e.basename,r=e.children,a=e.window,i=(0,t.useRef)();null==i.current&&(i.current=F({window:a}));var o=i.current,s=L((0,t.useState)({action:o.action,location:o.location}),2),c=s[0],u=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(u)}),[o]),(0,t.createElement)(pe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}r.createRoot(document.getElementById("root")).render((0,ac.jsx)(_,{store:hg,children:(0,ac.jsx)(hc,{exitBeforeEnter:!0,children:(0,ac.jsx)(vg,{window:window,children:(0,ac.jsx)(dg,{})})})})),fg()}()}();
//# sourceMappingURL=main.92431d29.js.map